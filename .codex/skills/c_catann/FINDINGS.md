
## Pass-turn staging and robber roll highlights
- what would've saved time to get your bearings: The recorded single-player flow expects a second pass click to be staged (no server response) before the actual pass update, and a dice total of 7 triggers robber highlight messages instead of resource distribution.
- what you changed: Added pass-turn staging by toggling `currentState.actionState` between `None` and `SelectCardsToDiscard`, and updated dice roll logic to handle totals of 7 by skipping resource distribution, emitting robber highlights, and setting `actionState` to `PlaceRobberOrPirate` with `allocatedTime` 40.
- why the test isn't passing: The single-player choreo still stops before consuming later expected highlight messages (e.g., additional `HighlightTiles` updates), so `expectedMessages` remains non-empty.
- next suggested step: Extend `singlePlayerChoreo` to continue the recorded flow after the robber roll (likely through the next tile selection/passing sequence), or adjust game logic to emit the remaining expected highlight messages without extra choreo actions.
