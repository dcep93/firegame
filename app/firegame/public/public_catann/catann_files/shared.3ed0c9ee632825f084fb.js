(self.webpackChunkkatan = self.webpackChunkkatan || []).push([
  [804],
  {
    73: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/barbarian_tracker_hex_attack.f13765aff8dcd0333e3e.svg";
    },
    491: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/knight_level1_active_black.cf9ea1be25d60f69f6b7.svg";
    },
    599: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/card_progress_politics_intrigue.358a3e69a179ce765291.svg";
    },
    601: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/settlement_gold.971614e4b55713318408.svg";
    },
    648: (e, t, s) => {
      "use strict";
      s.d(t, { QM: () => r, Sq: () => n, ey: () => i, uC: () => o });
      var i = (function (e) {
          return (
            (e.ContentFrameReady = "content-frame-ready"),
            (e.Subscribe = "subscribe"),
            (e.Unsubscribe = "unsubscribe"),
            (e.SetActivity = "set-activity"),
            (e.DispatchDiscordEvent = "dispatch"),
            (e.OpenExternalLink = "open-external-link"),
            (e.InviteFriends = "invite-friends"),
            (e.Purchase = "purchase"),
            (e.ShareMoment = "share-moment"),
            (e.ShareActivityLink = "share-activity-link"),
            (e.SetOrientation = "set-orientation"),
            e
          );
        })({}),
        n = (function (e) {
          return (
            (e.Ready = "ready"),
            (e.CreateMountPopup = "create-mount-popup"),
            e
          );
        })({}),
        r = (function (e) {
          return (
            (e.UserAlreadyHasMembershipError =
              "user-already-has-membership-error"),
            e
          );
        })({}),
        o = (function (e) {
          return (
            (e[(e.PurchaseMembership = 0)] = "PurchaseMembership"),
            (e[(e.PurchaseGift = 1)] = "PurchaseGift"),
            (e[(e.PurchaseCoins = 2)] = "PurchaseCoins"),
            (e[(e.InviteFriends = 3)] = "InviteFriends"),
            (e[(e.ShareMoment = 4)] = "ShareMoment"),
            (e[(e.OpenExternalLink = 5)] = "OpenExternalLink"),
            (e[(e.ShareActivityLink = 6)] = "ShareActivityLink"),
            e
          );
        })({});
    },
    655: (e, t, s) => {
      "use strict";
      s.d(t, { m: () => m });
      var i = s(12658),
        n = s(68492),
        r = s(72589),
        o = s(10369),
        a = s(18587),
        c = s(41931),
        l = s(41207),
        d = s(69508),
        u = s(30506),
        h = s(70970);
      class p {
        get isSuccess() {
          return (
            r.c.isNumberBetween(this.status, 200, 299) &&
            null == this.json.error
          );
        }
        constructor(e) {
          ((this.status = e.status),
            (this.headers = e.headers),
            (this.json = e.data));
        }
      }
      class m {
        static async getRequestHandler(e, t, s, n = !0, r) {
          let o = e;
          (t && (o += "/" + t), a.r.isUserOnDiscord && (o = "/.proxy" + o));
          const c = { ...this.defaultConfig, headers: r, params: s },
            l = new p(await i.A.get(o, c));
          return (
            this.storeAuthToken(l),
            h.F.isChallengeResponse(l.headers)
              ? (await h.F.obtainPreClearanceCookie(),
                this.getRequestHandler(e, t, s, n, r))
              : l.isSuccess
                ? l
                : void (n && this.handleResponseError(l))
          );
        }
        static async postRequestWhenReady(e, t, s, i = "application/json") {
          for (; !m.csrfToken && !a.r.isUserOnDiscordMobile; )
            await (0, u.cb)(50);
          return this.postRequestHandler(e, t, s, i);
        }
        static async postRequestHandler(
          e,
          t,
          s,
          n = "application/x-www-form-urlencoded",
        ) {
          if (!m.csrfToken && !a.r.isUserOnDiscordMobile) {
            const e = new l.Ak(
              { key: "strings:popups.errors.general.title" },
              { key: "strings:popups.errors.clientNotReady" },
              d.R.ServiceUnavailable,
            );
            return void o.r.showDefaultErrorPopup(e);
          }
          const r = { "Content-Type": n, "x-csrf-token": m.csrfToken };
          a.r.isUserOnDiscord && (e = "/.proxy" + e);
          const c = new p(
            await i.A.post(e, s, {
              headers: r,
              ...this.defaultConfig,
              params: t,
            }),
          );
          return (
            this.storeAuthToken(c),
            h.F.isChallengeResponse(c.headers)
              ? (await h.F.obtainPreClearanceCookie(),
                this.postRequestHandler(e, t, s, n))
              : c.isSuccess
                ? c
                : void this.handleResponseError(c)
          );
        }
        static storeAuthToken(e) {
          a.r.isUserOnDiscordMobile &&
            null != e.headers["x-auth-token"] &&
            c.p.setAuthToken(e.headers["x-auth-token"]);
        }
        static handleResponseError(e) {
          const t = e.json.error;
          if (null == t) return;
          if (null == t.type) return;
          const s = n.F.deserializeErrorData(t);
          null != s && o.r.handleError(s);
        }
        static get defaultConfig() {
          return { validateStatus: (e) => !0 };
        }
      }
      ((m.csrfToken = ""),
        i.A.interceptors.request.use((e) => {
          if (a.r.isUserOnDiscordMobile) {
            const t = c.p.getAuthToken();
            null != t && e.headers.set("x-auth-token", t);
          }
          return e;
        }));
    },
    780: (e, t, s) => {
      "use strict";
      e.exports =
        s.p +
        "assets/card_progress_science_road_building.f4050c2db7388980c0d7.svg";
    },
    881: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/sfx_discard_broadcast.6161a89619b65cc63577.mp3";
    },
    925: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/bg_button_mysticblue.c7ad8eb83be4d5d878ac.svg";
    },
    927: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/sfx_road_place.d101fe727f7ff45b8379.mp3";
    },
    1176: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_mail.0656e9f2c0cfcddfb878.svg";
    },
    1199: (e, t, s) => {
      "use strict";
      (s.r(t),
        s.d(t, {
          ANDROID_APP_USER_AGENT: () => i,
          IPAD_APP_USER_AGENT: () => r,
          IPHONE_APP_USER_AGENT: () => n,
          TABLET_APP_USER_AGENT: () => o,
          isMobileAppUserAgent: () => l,
          isMobileDeviceUserAgent: () => a,
          isTabletDeviceUserAgent: () => c,
          isUserOnMobile: () => d,
        }));
      const i =
          "Mozilla/5.0 (Linux; U; Android 2.2.1; en-us; Nexus One Build/FRG83) AppleWebKit/533.1 (KHTML, like Gecko) Version/4.0 Mobile Safari/533.1",
        n =
          "Mozilla/5.0 (iPhone; CPU iPhone OS 13_6_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile",
        r =
          "Mozilla/5.0 (iPad; U; CPU OS 4_3_2 like Mac OS X; en-us) AppleWebKit/533.17.9 (KHTML, like Gecko) Mobile",
        o =
          "Mozilla/5.0 (Linux; Android 12; SM-X906C Build/QP1A.190711.020; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/80.0.3987.119 Mobile Safari/537.36",
        a = (e) => /Android|iPhone|iPad|iPod/i.test(e || ""),
        c = (e) =>
          /(tablet|ipad|playbook|silk)|(android(?!.*mobile))/i.test(e || ""),
        l = (e) => [n, r, o, i].includes(e || ""),
        d = (e, t) => {
          if (l(e)) return !0;
          var s;
          return (
            null !== (s = null == t ? void 0 : t.includes("/mobile")) &&
            void 0 !== s &&
            s
          );
        };
    },
    1261: (e, t, s) => {
      "use strict";
      s.d(t, { i: () => o });
      var i = s(67908),
        n = s(9029),
        r = s(18587);
      class o {
        addSidebarEventHandlers() {
          for (const e of this.tabElements)
            (0, n.G0)(
              e,
              () => {
                const t = i.Wz[e.id];
                if (-1 === this.enabledRankModeTypes.indexOf(t)) return;
                if (
                  (this.onChangeRankedModeType(t), !r.r.isUserOnMobileAppOrWeb)
                )
                  return;
                e.children[0].checked = !0;
              },
              !0,
            );
        }
        highlightTab(e) {
          for (const t of this.tabElements) {
            i.Wz[t.id] === e
              ? t.classList.add("active")
              : t.classList.remove("active");
          }
        }
        setEnabledRankedModeTypes(e) {
          this.enabledRankModeTypes = e;
          for (const t of this.tabElements) {
            const s = i.Wz[t.id];
            -1 === e.indexOf(s)
              ? t.classList.add("disabled")
              : t.classList.remove("disabled");
          }
        }
        constructor(e) {
          ((this.tabElements = []),
            (this.onChangeRankedModeType = e),
            this.tabElements.push(
              document.getElementById(i.Wz[i.Wz.Classic1v1]),
            ),
            this.tabElements.push(
              document.getElementById(i.Wz[i.Wz.Classic4P]),
            ),
            this.tabElements.push(
              document.getElementById(i.Wz[i.Wz.CitiesAndKnights4P]),
            ),
            this.addSidebarEventHandlers());
        }
      }
    },
    1388: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/icon_special_build_phase_flag.08e00de4bc5509228ae2.svg";
    },
    1631: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/sfx_city_wall_place.219aa0bd070ac4032644.mp3";
    },
    1714: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_merchant_orange.c9b72d3d42f402e65dc5.svg";
    },
    1750: (e, t, s) => {
      "use strict";
      s.d(t, { m: () => i });
      var i,
        n = s(52609);
      !(function (e) {
        ((e.getAsyncTexture = async function (e) {
          return await n.ts.Assets.load(e);
        }),
          (e.getAsyncTextureExternal = async function (e) {
            return await n.ts.Assets.load(e);
          }));
      })(i || (i = {}));
    },
    1767: (e, t, s) => {
      "use strict";
      s.d(t, { Y: () => R });
      var i = s(19733),
        n = s(17399),
        r = s(4508),
        o = s(78311),
        a = s(9029),
        c = s(30506),
        l = s(4651),
        d = s(18587);
      class u {
        createBaseNotification(e) {
          ((0, a.zO)(
            this._container,
            this.viewData.image,
            "notification_image",
          ),
            (this.content = (0, a.Le)(this._container, "notification_content")),
            (this.textContainer = (0, a.Le)(this.content, "notification_text")),
            (this.timestamp = (0, a.Le)(
              this.content,
              "notification_timestamp",
            )),
            (0, a.oB)(this.timestamp, c.Re.getTimeAgoTextFromDate(e)),
            (0, a.RH)(this.textContainer, this.viewData.text));
        }
        removeContentHoverEffectIfNoClickAction() {
          const e = null != this.viewData.clickAction,
            t = null != this.unreadNotificationIcon;
          e ||
            t ||
            this.content.classList.toggle(
              "notification_content_no_hover_effect",
              !0,
            );
        }
        showUnreadIconIfNeeded(e) {
          const t = null == e || e.getTime() >= Date.now(),
            s = null != this.viewData.responseButtons;
          t &&
            !s &&
            (this.unreadNotificationIcon = (0, a.Le)(
              this._container,
              "notification_unread_icon",
            ));
        }
        createResponseButtons() {
          if (null == this.viewData.responseButtons) return;
          const e = (0, a.Le)(this.content, "notification_response_buttons"),
            t = (0, a.Le)(e, "notification_response_button btn_general");
          ((0, a.RH)(t, { key: "strings:colonistCommon.buttons.accept" }),
            (0, a.G0)(t, () => {
              var e;
              (this.callbackOnClick(),
                null === (e = this.viewData.responseButtons) ||
                  void 0 === e ||
                  e.acceptButtonAction());
            }));
          const s = (0, a.Le)(
            e,
            "notification_response_button notification_ignore_button btn_general",
          );
          ((0, a.RH)(s, { key: "strings:colonistCommon.buttons.ignore" }),
            (0, a.G0)(s, () => {
              var e;
              (this.callbackOnClick(),
                null === (e = this.viewData.responseButtons) ||
                  void 0 === e ||
                  e.ignoreButtonAction());
            }));
        }
        setCallbackOnClick(e) {
          this.callbackOnClick = e;
        }
        setClickActions() {
          const e = null != this.viewData.responseButtons;
          if (
            (this.unreadNotificationIcon &&
              (0, a.G0)(this.unreadNotificationIcon, () => {
                e || l.S.sendMarkNotificationAsRead(this.notificationId);
              }),
            null == this.viewData.secondaryLink)
          )
            return;
          const t = (0, a.cE)(
            this.content,
            this.viewData.secondaryLink.url,
            this.viewData.secondaryLink.text,
            "notification_link",
            "",
            this.viewData.secondaryLink.openNewTab,
          );
          (0, a.G0)(t, (t) => {
            var s, i;
            (d.r.isUserOnDiscord && t.preventDefault(),
              e || l.S.sendMarkNotificationAsRead(this.notificationId),
              null === (s = (i = this.viewData).clickAction) ||
                void 0 === s ||
                s.call(i));
          });
        }
        get dateReceived() {
          return this._dateReceived;
        }
        get container() {
          return this._container;
        }
        get notificationId() {
          return this._notificationId;
        }
        get isRead() {
          return null == this.unreadNotificationIcon;
        }
        get hasCTAs() {
          return null != this.viewData.responseButtons;
        }
        removeUnreadIcon() {
          null != this.unreadNotificationIcon &&
            this.unreadNotificationIcon.remove();
        }
        updateTimestamp() {
          (0, a.oB)(
            this.timestamp,
            c.Re.getTimeAgoTextFromDate(this.dateReceived),
          );
        }
        constructor(e, t, s) {
          const i = (0, a.Le)(s, "notification_item");
          ((this._container = i),
            (this._dateReceived = t),
            (this._notificationId = e));
        }
      }
      var h = s(75589),
        p = s(74710),
        m = s(51988);
      class g extends u {
        setOnClose(e) {
          this.setOnClose = e;
        }
        getViewData(e, t) {
          switch (e.type) {
            case r.j.UserReportedBanned:
              return {
                text: {
                  key: "strings:popups.notification.reportedUserBanned.body",
                },
                image: o.am.Guest,
              };
            case r.j.UserReportedThankYou:
              return {
                text: {
                  key: "strings:popups.notification.reportedUserThankYou.body",
                },
                image: o.am.Guest,
              };
            case r.j.HolidaySale2023Expired:
              return {
                text: {
                  key: "strings:popups.notification.holidaySale2023Expired.body",
                },
                clickAction: () => {
                  var e;
                  return null === (e = this.onClose) || void 0 === e
                    ? void 0
                    : e.call(this);
                },
                image: o.am.Guest,
                secondaryLink: {
                  url: "/store",
                  openNewTab: !0,
                  text: {
                    key: "strings:popups.notification.giftMembershipReceived.checkButton",
                    options: { context: d.r.isUserOnDiscord ? "discord" : "" },
                  },
                },
              };
            case r.j.GiftMembershipReceivedFromAdmin:
              return {
                text: {
                  key: "strings:popups.notification.giftMembershipReceived.body",
                },
                clickAction: () => {
                  var e;
                  return null === (e = this.onClose) || void 0 === e
                    ? void 0
                    : e.call(this);
                },
                image: o.am.Guest,
                secondaryLink: {
                  url: "/store#gifted_memberships",
                  openNewTab: !0,
                  text: {
                    key: "strings:popups.notification.giftMembershipReceived.checkButton",
                    options: { context: d.r.isUserOnDiscord ? "discord" : "" },
                  },
                },
              };
            case r.j.TranslationHelp:
              return {
                text: {
                  key: "strings:popups.notification.translationHelp.body",
                  options: {
                    language: e.language,
                    username: e.username,
                    link: d.r.isUserOnMobileAppOrWeb ? void 0 : e.link,
                  },
                },
                image: o.am.Guest,
              };
            case r.j.UserReportedWarning:
              return {
                text: {
                  key: "strings:popups.notification.reportedUserWarning",
                },
                image: o.am.DangerIcon,
              };
            case r.j.RoomInviteResponse:
              var s;
              return {
                text: {
                  key: "strings:popups.notification.youRespondedToRoomInviteFrom",
                  options: {
                    username: null == t ? void 0 : t.username,
                    context: e.response ? void 0 : "declined",
                  },
                },
                image:
                  null !== (s = null == t ? void 0 : t.icon) && void 0 !== s
                    ? s
                    : o.am.Guest,
              };
            case r.j.MissedRoomInvite:
              var i;
              return {
                text: {
                  key: "strings:popups.notification.youRespondedToRoomInviteFrom",
                  options: {
                    username: null == t ? void 0 : t.username,
                    context: "missed",
                  },
                },
                image:
                  null !== (i = null == t ? void 0 : t.icon) && void 0 !== i
                    ? i
                    : o.am.Guest,
              };
            case r.j.YouAreNowFriendsWith:
              var n;
              return {
                text: {
                  key: "strings:popups.notification.youAreNowFriendsWith",
                  options: { username: null == t ? void 0 : t.username },
                },
                image:
                  null !== (n = null == t ? void 0 : t.icon) && void 0 !== n
                    ? n
                    : o.am.Guest,
              };
            case r.j.GiftMembershipReceivedFromUser:
              var a;
              const g =
                null == e || null === (a = e.giftMessage) || void 0 === a
                  ? void 0
                  : a.trim();
              var c;
              return {
                text: {
                  key: "strings:popups.notification.giftMembershipReceivedFromFriend",
                  options: {
                    context: g ? "" : "noMessage",
                    gifter: null == t ? void 0 : t.username,
                    giftMessage: g,
                  },
                },
                image:
                  null !== (c = null == t ? void 0 : t.icon) && void 0 !== c
                    ? c
                    : o.am.Guest,
              };
            case r.j.GiftMembershipWasSent:
              const f = h.G.getMembershipTitleFromType(e.membershipType);
              var l;
              return {
                text: (0, p.dN)(
                  {
                    key: "strings:popups.notification.giftMembershipWasSentToFriend",
                    options: {
                      duration: e.duration,
                      username: null == t ? void 0 : t.username,
                    },
                  },
                  { membershipType: f },
                ),
                image:
                  null !== (l = null == t ? void 0 : t.icon) && void 0 !== l
                    ? l
                    : o.am.Guest,
              };
            case r.j.GiftURLCreated:
              const y = "strings:popups.notification.giftURLCreated",
                b = 1 == e.duration ? "" : "multiple",
                v = h.G.getMembershipTitleFromType(e.membershipType);
              var u;
              return {
                text: (0, p.dN)(
                  {
                    key: y,
                    options: { duration: e.duration, hash: e.hash, context: b },
                  },
                  { membershipType: v },
                ),
                image:
                  null !== (u = null == t ? void 0 : t.icon) && void 0 !== u
                    ? u
                    : o.am.Guest,
              };
            case r.j.ReferralRewardItemUnlocked:
              const S = m.F.getItemDetailForReferralProgram(
                e.itemCategory,
                e.itemType,
              );
              if (null == S) throw new Error("Item does not exist");
              return {
                text: (0, p.dN)(
                  {
                    key: "strings:popups.notification.referralRewardItemUnlocked.body",
                    options: {
                      itemName: S.name,
                      referralCount: e.referralCount,
                      context: 1 == e.referralCount ? "one" : "other",
                    },
                  },
                  { itemName: S.name },
                ),
                image: S.image,
                secondaryLink: {
                  url: "/store#referrals",
                  openNewTab: !0,
                  text: {
                    key: "strings:popups.notification.referralRewardItemUnlocked.checkButton",
                  },
                },
              };
            case r.j.NewUserJoinedFromReferral:
              return {
                text: {
                  key: "strings:popups.notification.newUserJoinedFromReferral.body",
                  options: {
                    referralLeftCount: e.referralLeftCount,
                    username: e.username,
                    context: 1 == e.referralLeftCount ? "one" : "other",
                  },
                },
                image: o.am.StoreGiftMembership,
                secondaryLink: {
                  url: "/store#referrals",
                  openNewTab: !0,
                  text: {
                    key: "strings:popups.notification.newUserJoinedFromReferral.checkButton",
                  },
                },
              };
            case r.j.YouAreBanned:
              return {
                text: {
                  key: "strings:popups.errors.userBannedError.youAreBanned",
                  options: {
                    untilDate: ` until ${new Date(e.untilDate).toDateString()}`,
                  },
                },
                image: o.am.DangerIcon,
              };
            case r.j.GeneralAnnouncement:
              return {
                text: {
                  key: "strings:colonistCommon.utils.#buffer",
                  options: { value: e.message },
                },
                image: o.am.GameModeBase,
              };
            case r.j.YourFriendMustLogInToCountReferral:
              return {
                text: {
                  key: "strings:popups.notification.yourFriendMustLogInToCountReferral.body",
                  options: { username: e.username },
                },
                image: o.am.Guest,
              };
          }
        }
        constructor(e, t) {
          (super(e.id, e.dateReceived, t),
            (this.notificationUserDetails = e.notificationUserDetails),
            (this.viewData = this.getViewData(
              e.typeData,
              this.notificationUserDetails,
            )),
            this.createBaseNotification(e.dateReceived),
            this.showUnreadIconIfNeeded(e.dateRead),
            this.setClickActions(),
            this.removeContentHoverEffectIfNoClickAction());
        }
      }
      var f = s(55853),
        y = s(34617);
      class b extends u {
        static getViewData(e) {
          switch (e.type) {
            case r.j.LiveRoomInvite:
              return {
                text: {
                  key: "strings:roomPage.userInvitedToRoom",
                  options: { username: e.senderUsername, roomId: e.roomId },
                },
                image: e.senderIcon,
                responseButtons: {
                  acceptButtonAction: () =>
                    f.Y.respondToFriendRoomInvite(e.roomId, !0, e.senderUserId),
                  ignoreButtonAction: () =>
                    f.Y.respondToFriendRoomInvite(e.roomId, !1, e.senderUserId),
                },
              };
            case r.j.FriendRequestReceived:
              return {
                text: {
                  key: "strings:popups.notification.userSentYouFriendRequest",
                  options: { username: e.username },
                },
                image: o.am.Friends,
                responseButtons: {
                  acceptButtonAction: () => {
                    y.v.friendRequestResponded(e.username, !0);
                  },
                  ignoreButtonAction: () => {
                    y.v.friendRequestResponded(e.username, !1);
                  },
                },
              };
          }
        }
        constructor(e, t) {
          (super("", e.dateReceived, t),
            (this.viewData = b.getViewData(e.typeData)),
            this.createBaseNotification(e.dateReceived),
            this.createResponseButtons(),
            this.setClickActions(),
            this.removeContentHoverEffectIfNoClickAction());
        }
      }
      var v = s(81888);
      class S {
        setLazyLoadAction() {
          this.notificationPanelContent.addEventListener("scroll", (e) => {
            if (this.lazyLoadingDisabled) return;
            0 !=
              this.notificationPanelContent.scrollTop +
                this.notificationPanelContent.clientHeight >=
                this.notificationPanelContent.scrollHeight -
                  this.lazyLoadDOMTolerance &&
              this.getOlderNotificationsThrottled();
          });
        }
        getOlderNotificationsThrottled() {
          const e = new Date();
          if (
            e.getTime() - this.timeOfLastNotificationRequest.getTime() <
            this.LAZY_LOAD_THROTTLE_MS
          )
            return;
          const t = this.notifications[this.notifications.length - 1];
          (l.S.getNotificationsAfterDate(t.dateReceived),
            (this.timeOfLastNotificationRequest = e));
        }
        hideNotificationPanel() {
          this.notificationPanel.classList.add("hidden");
        }
        showNotificationContainer() {
          this.notificationContainer.classList.remove("hidden");
        }
        onNotificationIconClick() {
          this.notificationPanel.classList.toggle("hidden");
        }
        hidePanelIfClickedOutside(e) {
          const t = e.target,
            s = this.notificationPanel.contains(t),
            i = this.notificationIcon.contains(t);
          s || i || this.hideNotificationPanel();
        }
        addNotification(e) {
          if (this.findNotificationById(e.id) > -1) return;
          const t = new g(e, this.notificationPanelContent);
          (t.setCallbackOnClick(() => this.removeCTANotification(t)),
            t.setOnClose(() => this.hideNotificationPanel()),
            this.notificationPanelContent.appendChild(t.container),
            this.notifications.push(t),
            this.sortNotificationViewsByDateReceived());
        }
        sortNotificationViewsByDateReceived() {
          this.notifications.sort(
            (e, t) => t.dateReceived.getTime() - e.dateReceived.getTime(),
          );
          for (const e of this.notifications)
            this.notificationPanelContent.removeChild(e.container);
          for (const e of this.notifications)
            this.notificationPanelContent.appendChild(e.container);
        }
        sendMarkAllNotificationsAsRead() {
          0 != this.notifications.some((e) => !e.isRead) &&
            l.S.sendMarkAllNotificationsAsRead();
        }
        addNotifications(e) {
          0 == e.length && (this.lazyLoadingDisabled = !0);
          for (const t of e) this.addNotification(t);
          (this.noNotificationsMessage.classList.toggle(
            "hidden",
            this.notifications.length > 0,
          ),
            this.addNotificationCallback());
        }
        markNotificationAsRead(e) {
          const t = this.notifications.find((t) => t.notificationId == e);
          null == t || t.removeUnreadIcon();
        }
        markAllNotificationsAsRead() {
          for (const e of this.notifications) e.removeUnreadIcon();
        }
        displayNumberOfUnreadNotifications(e) {
          const t = this.notifications.filter((e) => e.hasCTAs).length,
            s = (e += t) > r.t - 1 ? r.t - 1 + "+" : e.toString();
          ((this.notificationIconUnreadNumber.innerText = s),
            this.notificationIconUnreadContainer.classList.toggle(
              "hidden",
              0 == e,
            ),
            (this.lastUnreadNotificationCount = e - t));
        }
        addCTANotification(e) {
          const t = new b(e, this.notificationPanelContent);
          return (
            t.setCallbackOnClick(() => this.removeCTANotification(t)),
            this.notificationPanelContent.appendChild(t.container),
            this.notifications.push(t),
            this.sortNotificationViewsByDateReceived(),
            this.displayNumberOfUnreadNotifications(
              this.lastUnreadNotificationCount,
            ),
            this.noNotificationsMessage.classList.toggle(
              "hidden",
              this.notifications.length > 0,
            ),
            t
          );
        }
        removeCTANotification(e) {
          const t = this.notifications.indexOf(e);
          -1 != t &&
            (this.notifications.splice(t, 1),
            this.notificationPanelContent.removeChild(e.container),
            this.displayNumberOfUnreadNotifications(
              this.lastUnreadNotificationCount,
            ),
            e.container.remove(),
            this.noNotificationsMessage.classList.toggle(
              "hidden",
              this.notifications.length > 0,
            ));
        }
        updateNotificationTimestamps() {
          for (const e of this.notifications) e.updateTimestamp();
        }
        findNotificationById(e) {
          return this.notifications.findIndex((t) => t.notificationId == e);
        }
        addFriendRequestNotification(e, t) {
          if (this.cachedFriendRequests.includes(e)) return;
          this.cachedFriendRequests.push(e);
          const s = {
              dateReceived: t,
              typeData: { type: r.j.FriendRequestReceived, username: e },
            },
            i = this.addCTANotification(s);
          this.userNameNotificationMap.set(e, i);
        }
        constructor(e) {
          ((this.notifications = []),
            (this.lazyLoadDOMTolerance = 1),
            (this.lastUnreadNotificationCount = 0),
            (this.timeOfLastNotificationRequest = new Date()),
            (this.LAZY_LOAD_THROTTLE_MS = 500),
            (this.lazyLoadingDisabled = !1),
            (this.UPDATE_NOTIFICATION_TIMESTAMP_MS = 5e3),
            (this.userNameNotificationMap = new Map()),
            (this.cachedFriendRequests = []),
            (this.addNotificationCallback = e),
            (this.notificationIcon = document.getElementById(
              "header_profile_notification_icon",
            )),
            (this.notificationContainer = document.getElementById(
              "header_profile_notification_container",
            )),
            (this.notificationPanel = document.getElementById(
              "header_profile_notification_panel",
            )),
            (this.notificationPanelContent = document.getElementById(
              "header_profile_notification_panel_content",
            )),
            (this.notificationIconUnreadNumber = document.getElementById(
              "header_profile_notification_count",
            )),
            (this.notificationIconUnreadContainer = document.getElementById(
              "header_profile_notification_count_container",
            )),
            (this.markAllAsReadButton = document.getElementById(
              "header_profile_btn_mark_all_as_read",
            )),
            (this.noNotificationsMessage = document.getElementById(
              "header_profile_notification_no_notifications",
            )),
            v._.registerChangeListener(() => {
              h.G.canUseLiveNotificationService() &&
                this.showNotificationContainer();
            }),
            (0, a.G0)(this.notificationIcon, () =>
              this.onNotificationIconClick(),
            ),
            (0, a.G0)(this.markAllAsReadButton, () =>
              this.sendMarkAllNotificationsAsRead(),
            ),
            document.addEventListener("pointerdown", (e) =>
              this.hidePanelIfClickedOutside(e),
            ),
            setInterval(
              () => this.updateNotificationTimestamps(),
              this.UPDATE_NOTIFICATION_TIMESTAMP_MS,
            ),
            this.setLazyLoadAction());
          const t = document.getElementById(
            "header_profile_notification_panel_header_back_button",
          );
          (null != t && (0, a.G0)(t, () => this.hideNotificationPanel()),
            y.v.setCallbackFriendRequestResponded(async (e, t) => {
              const s = this.userNameNotificationMap.get(e);
              null != s && this.removeCTANotification(s);
            }));
        }
      }
      var k = s(655),
        C = s(32398),
        P = s(76092),
        _ = s(19966),
        A = s(10369),
        w = s(68492);
      class R {
        async addFriendRequestsToNotificationPanel() {
          if (null == v._.userState) return;
          const e = await k.m.getRequestHandler(
            C.l.apiFriendRequestsReceived(),
            void 0,
          );
          if (null == e) return;
          const t = e.json;
          if (
            0 !== (void 0 !== t ? t.length : 0) &&
            null != this.notificationPanelController
          )
            for (const e of t)
              this.notificationPanelController.addFriendRequestNotification(
                e.username,
                new Date(e.dateCreated),
              );
        }
        static sendPlayNowClickAnalytic() {
          const e = {
            type: P.k0.NotificationAnalytics,
            category: P.eX.NotificationPanel,
            floatValue: P.Jd.NotificationPanelShuffleClickPlayNow,
          };
          _.CA.sendAnalyticEvent(e);
        }
        static displayRedirectErrors() {
          const e = window.location.hash;
          if (e.startsWith("#error="))
            try {
              const t = e.substring(7);
              if (!t) return;
              const s = decodeURIComponent(t);
              if (!s) return;
              const i = JSON.parse(s);
              if (null == (null == i ? void 0 : i.type)) return;
              const n = w.F.deserializeErrorData(i);
              if (null == n) return;
              A.r.handleError(n);
            } catch (e) {
            } finally {
              (0, n.fr)();
            }
        }
        static displayAccountDeletionPopup() {
          new URLSearchParams(window.location.search).has("account-deleted") &&
            (i.r.createSimplePopup(
              { key: "strings:popups.accountDeletionConfirmation.title" },
              { key: "strings:popups.accountDeletionConfirmation.body" },
            ),
            (0, n.CK)());
        }
        constructor() {
          ((this.notificationPanelController = new S(() =>
            this.setupShuffleLinkInterceptor(),
          )),
            this.addFriendRequestsToNotificationPanel(),
            R.displayAccountDeletionPopup(),
            R.displayRedirectErrors());
        }
      }
    },
    1863: (e, t, s) => {
      "use strict";
      s.d(t, { z: () => i });
      var i,
        n = s(30506),
        r = s(18587),
        o = s(41931),
        a = s(81888),
        c = s(67908),
        l = s(87220);
      !(function (e) {
        ((e.canShowLoginPopup = function () {
          var e, t;
          return (
            !(void 0 !== (0, l.Ak)(window.location.href)) &&
            !r.r.isUserOnDiscord &&
            !(null === (e = a._.userState) || void 0 === e
              ? void 0
              : e.isLoggedIn) &&
            !(null === (t = a._.userState) || void 0 === t
              ? void 0
              : t.hasZeroCompletedGames()) &&
            0 !== n.n.randomIntBetween(0, 1)
          );
        }),
          (e.canShowDiscordKeepPlayingOnWebPopup = function () {
            return (
              !!r.r.isUserOnDiscord &&
              1 != o.p.getDiscordKeepPlayingOnWebPopupShown() &&
              ["ru"].includes(r.r.language)
            );
          }),
          (e.canShowSubscriptionPopup = function () {
            var e, t;
            return (
              !r.r.isUserOnDiscordMobile &&
              !(null === (e = a._.userState) || void 0 === e
                ? void 0
                : e.items.hasMembership()) &&
              !(null === (t = a._.userState) || void 0 === t
                ? void 0
                : t.hasZeroCompletedGames())
            );
          }),
          (e.shouldShowChangeUsernamePopup = function (e) {
            var t, s;
            return (
              0 != r.r.isUserOnDiscord &&
              !(
                (null !==
                  (s =
                    null === (t = a._.userState) || void 0 === t
                      ? void 0
                      : t.usernameChangeAttemptsLeft) && void 0 !== s
                  ? s
                  : 0) < 1
              ) &&
              1 != o.p.getDiscordOnlineUsernamePopupShown() &&
              null != e
            );
          }),
          (e.userEligibleForRanked = function () {
            var e, t;
            return (
              (null !==
                (t =
                  null === (e = a._.userState) || void 0 === e
                    ? void 0
                    : e.totalCompletedGameCount) && void 0 !== t
                ? t
                : 0) >= c.FP.NumberOfGamesToUnlockRanked
            );
          }),
          (e.gamesLeftToUnlockRanked = function () {
            var e, t;
            return (
              c.FP.NumberOfGamesToUnlockRanked -
              (null !==
                (t =
                  null === (e = a._.userState) || void 0 === e
                    ? void 0
                    : e.totalCompletedGameCount) && void 0 !== t
                ? t
                : 0)
            );
          }),
          (e.shouldShowLobbyAds = function () {
            var e, t;
            return (
              (null !==
                (t =
                  null === (e = a._.userState) || void 0 === e
                    ? void 0
                    : e.totalCompletedGameCount) && void 0 !== t
                ? t
                : 0) >= c.FP.NumberOfGamesToUnlockRanked
            );
          }));
      })(i || (i = {}));
    },
    1932: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/icon_largest_army_highlight.be615b163db0dbd64fbc.svg";
    },
    2109: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/ship_mysticblue_north_west.bac6d11f88a524bbf0ff.svg";
    },
    2328: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/map_volcano_preview.c79f209e148f7c8270eb.png";
    },
    2330: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_forward_end.bf63a16452d507f26db0.svg";
    },
    2348: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/bg_button_gold.f0fb1c4825f0e21b2faa.svg";
    },
    2552: (e, t, s) => {
      "use strict";
      s.d(t, { e: () => c });
      var i = s(95176),
        n = s(9029),
        r = s(76092),
        o = s(19966),
        a = s(4680);
      class c extends i.y {
        setShareAction(e) {
          ((this.shareAction = e),
            this.removeXButton(),
            this.changeCheckButtonText({
              key: "strings:game.endGame.cornerButton.share",
            }),
            (0, n.G0)(this.checkButton, async () => {
              (await this.shareAction(this.currentImage),
                this.sendShareTitleAnalytic());
            }));
        }
        async loadImage() {
          const e = await this.currentImage.getImageFile();
          if (null == e) return;
          const t = URL.createObjectURL(e);
          ((0, n.WL)(this.body, t, {
            key: "strings:game.endGame.shareImagePopup.title",
          }),
            null != this.otherImage && this.createSwitchImageText(),
            this.show());
        }
        createSwitchImageText() {
          const e = this.showingTitleImage
              ? { key: "strings:game.endGame.shareImagePopup.viewResults" }
              : { key: "strings:game.endGame.shareImagePopup.viewTitle" },
            t = (0, n.Wr)(this.body, e, "switch-image-text");
          (0, n.G0)(t, () => this.displayOtherImage());
        }
        displayOtherImage() {
          if (null == this.otherImage) return;
          const e = new c(
            this.otherImage,
            this.currentImage,
            !this.showingTitleImage,
          );
          (null != this.shareAction && e.setShareAction(this.shareAction),
            this.removePopup());
        }
        async copyFileToClipboard() {
          const e = await this.currentImage.getImageFile();
          if (null != e)
            try {
              await navigator.clipboard.write([
                new ClipboardItem({ [e.type]: e }),
              ]);
            } catch (e) {
              (console.error(
                "Error copying file to clipboard. Clipboard Permissions likely missing",
                e,
              ),
                this.changeCheckButtonText({
                  key: "strings:game.endGame.shareImagePopup.cantCopy",
                }));
            }
        }
        async downloadFile() {
          const e = await this.currentImage.getImageFile();
          if (null == e) return;
          const t = URL.createObjectURL(e),
            s = document.createElement("a");
          ((s.href = t),
            (s.download = e.name),
            document.body.appendChild(s),
            s.click(),
            document.body.removeChild(s),
            URL.revokeObjectURL(t));
        }
        static sendCopyButtonClickAnalytic() {
          const e = {
            type: r.k0.EndGameShareButton,
            category: r.eX.Virality,
            floatValue: r.Jd.EndGameShareCopyButton,
          };
          o.CA.sendAnalyticEventOnce(e);
        }
        static sendDownloadButtonClickAnalytic() {
          const e = {
            type: r.k0.EndGameShareButton,
            category: r.eX.Virality,
            floatValue: r.Jd.EndGameShareDownloadButton,
          };
          o.CA.sendAnalyticEventOnce(e);
        }
        sendShareTitleAnalytic() {
          if (this.currentImage instanceof a.b == 0) return;
          const e = this.currentImage.title,
            t = {
              type: r.k0.EndGameShareTitle,
              category: r.eX.Virality,
              floatValue: e,
            };
          o.CA.sendAnalyticEventOnce(t);
        }
        constructor(e, t, s = !1) {
          (super(
            { key: "strings:game.endGame.shareImagePopup.title" },
            { key: "strings:colonistCommon.utils.emptyString" },
            () => {},
            () => {},
            !0,
          ),
            (this.currentImage = e),
            (this.otherImage = t),
            (this.showingTitleImage = s),
            this.contentContainer.classList.add("popup-share-image"),
            this.changeCheckButtonText({
              key: "strings:game.endGame.shareImagePopup.copy",
            }),
            this.changeXButtonText({
              key: "strings:game.endGame.shareImagePopup.download",
            }),
            (0, n.RH)(this.body, {
              key: "strings:colonistCommon.utils.emptyString",
            }),
            this.loadImage(),
            (0, n.G0)(this.checkButton, async () => {
              (await this.copyFileToClipboard(),
                this.changeCheckButtonText({
                  key: "strings:game.endGame.shareImagePopup.copied",
                }),
                setTimeout(() => {
                  this.changeCheckButtonText({
                    key: "strings:game.endGame.shareImagePopup.copy",
                  });
                }, 1500),
                c.sendCopyButtonClickAnalytic(),
                this.sendShareTitleAnalytic());
            }),
            (0, n.G0)(this.xButton, () => {
              (this.downloadFile(),
                this.removePopup(),
                c.sendDownloadButtonClickAnalytic(),
                this.sendShareTitleAnalytic());
            }));
        }
      }
    },
    2928: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_05x.8e3569036478c93caba8.svg";
    },
    3015: (e, t, s) => {
      "use strict";
      e.exports =
        s.p +
        "assets/card_progress_politics_constitution.86fdbdb04ea427c71409.svg";
    },
    3252: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/ship_move_blue.d6e0ce70f8e5f9d8a04c.svg";
    },
    3700: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/knight_level1_active_gold.e6d083c7de0f5a7d8188.svg";
    },
    3797: (e, t, s) => {
      "use strict";
      s.d(t, { P: () => r });
      var i = s(13618),
        n = s(18587);
      function r(e, t) {
        const s = "string" == typeof e ? (0, i.TF)(e) : (0, i.Sv)(t);
        return n.r.isUserOnDiscord
          ? `/.proxy/jsdelivr/npm/twemoji@11.0.1/2/svg/${s}.svg`
          : `https://cdn.jsdelivr.net/npm/twemoji@11.0.1/2/svg/${s}.svg`;
      }
    },
    3851: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/stat_defender.f5f0a781d120cc11ba04.svg";
    },
    3978: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/knight_move_green.0e5222de4354b5caf25a.svg";
    },
    4459: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/lobby_ad_christmas.c58d5735b6fe15be1bd4.png";
    },
    4508: (e, t, s) => {
      "use strict";
      s.d(t, { j: () => n, t: () => i });
      const i = 100;
      var n = (function (e) {
        return (
          (e[(e.UserReportedBanned = 1)] = "UserReportedBanned"),
          (e[(e.UserReportedThankYou = 2)] = "UserReportedThankYou"),
          (e[(e.HolidaySale2023Expired = 3)] = "HolidaySale2023Expired"),
          (e[(e.GiftMembershipReceivedFromAdmin = 4)] =
            "GiftMembershipReceivedFromAdmin"),
          (e[(e.TranslationHelp = 5)] = "TranslationHelp"),
          (e[(e.UserReportedWarning = 6)] = "UserReportedWarning"),
          (e[(e.LiveRoomInvite = 7)] = "LiveRoomInvite"),
          (e[(e.RoomInviteResponse = 8)] = "RoomInviteResponse"),
          (e[(e.MissedRoomInvite = 9)] = "MissedRoomInvite"),
          (e[(e.FriendRequestReceived = 10)] = "FriendRequestReceived"),
          (e[(e.YouAreNowFriendsWith = 11)] = "YouAreNowFriendsWith"),
          (e[(e.GiftMembershipReceivedFromUser = 12)] =
            "GiftMembershipReceivedFromUser"),
          (e[(e.GiftMembershipWasSent = 13)] = "GiftMembershipWasSent"),
          (e[(e.GiftURLCreated = 14)] = "GiftURLCreated"),
          (e[(e.NewUserJoinedFromReferral = 15)] = "NewUserJoinedFromReferral"),
          (e[(e.ReferralRewardItemUnlocked = 16)] =
            "ReferralRewardItemUnlocked"),
          (e[(e.YouAreBanned = 17)] = "YouAreBanned"),
          (e[(e.FreeAvatarUnlocked = 18)] = "FreeAvatarUnlocked"),
          (e[(e.PushReferrersToInviteMoreFriends = 19)] =
            "PushReferrersToInviteMoreFriends"),
          (e[(e.GeneralAnnouncement = 20)] = "GeneralAnnouncement"),
          (e[(e.YourFriendMustLogInToCountReferral = 21)] =
            "YourFriendMustLogInToCountReferral"),
          e
        );
      })({});
    },
    4651: (e, t, s) => {
      "use strict";
      s.d(t, { S: () => o });
      var i = s(69714),
        n = s(75589),
        r = s(66681);
      class o {
        static init() {
          r.sZ.controller.registerSessionEstablishedObserver(() => {
            this.registerToNotificationServiceAndGetNotifications();
          });
        }
        static registerToNotificationServiceAndGetNotifications() {
          (i.Q.registerToNotificationService(),
            n.G.delayNotificationDataRequest(() => this.getNotifications()));
        }
        static getNotifications() {
          const e = {
            date: new Date(),
            notificationCountToSend: this.INITIAL_NOTIFICATION_COUNT,
          };
          i.Q.getNotifications(e);
        }
        static sendMarkNotificationAsRead(e) {
          i.Q.markNotificationAsRead(e);
        }
        static sendMarkAllNotificationsAsRead() {
          i.Q.markAllNotificationsAsRead();
        }
        static getNotificationsAfterDate(e) {
          const t = {
            date: e,
            notificationCountToSend: this.LAZY_LOAD_NOTIFICATION_COUNT,
          };
          i.Q.getNotifications(t);
        }
      }
      ((o.INITIAL_NOTIFICATION_COUNT = 25),
        (o.LAZY_LOAD_NOTIFICATION_COUNT = 10));
    },
    4668: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/player_highlight_right.83e50c239b9eed852f93.svg";
    },
    4903: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/road_black.6f85c9480c8f0d89d58a.svg";
    },
    5059: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/card_progress_politics_back.fb615bb90ce2c66fe346.svg";
    },
    5124: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/sfx_reconnect.7b7e2abb7694621b904f.mp3";
    },
    5127: (e, t, s) => {
      "use strict";
      s.d(t, { P: () => u });
      var i = s(76092),
        n = s(95176),
        r = s(9029),
        o = s(19966),
        a = s(18587),
        c = s(31166),
        l = s(47871),
        d = s(18514);
      class u extends n.y {
        static async initializeReferralLink(e, t, s) {
          const i = await l.P.getReferralLinkForSharing();
          ((0, r.G0)(t, () => {
            (c.WC.play(c.hc.Click),
              navigator.clipboard.writeText(i),
              (0, r.RH)(t, { key: "strings:roomPage.copiedLink" }),
              setTimeout(() => {
                (0, r.RH)(t, {
                  key: "strings:roomPage.options.inviteFriends.copy",
                });
              }, 1500),
              u.sendCopyLinkAnalytic(s.analyticsPopupSuccess));
          }),
            (0, r.RH)(e, {
              key: "strings:colonistCommon.utils.#buffer",
              options: { value: i },
            }),
            e.addEventListener("copy", () =>
              u.sendCopyLinkAnalytic(s.analyticsPopupSuccess),
            ));
        }
        static sendCopyLinkAnalytic(e) {
          const t = {
            type: i.k0.ReferralAnalytics,
            category: a.r.isUserOnMobile
              ? i.eX.MobileStoreReferralProgramReferFriends
              : i.eX.WebStoreReferralProgramReferFriends,
            floatValue: e,
          };
          o.CA.sendAnalyticEvent(t);
        }
        constructor(e, t) {
          (super(
            { key: "strings:storePage.sections.referral.popup.title" },
            { key: "strings:colonistCommon.utils.emptyString" },
            () => {},
            () => {},
            !0,
            { showXButton: !1, showCheckButton: !1, showXonHeader: !0 },
          ),
            this.body.classList.add("popup-body-refer-friends"));
          const s = (0, r.Le)(this.body, "invite_friends_container"),
            i = (0, r.Le)(s, "popup-subscription-in-room-items-wrapper", ""),
            n = (0, r.Le)(i, "popup-subscription-in-room-item-img", "");
          (0, r.zO)(n, e.image);
          i.appendChild(n);
          const o = e.referralCount - t,
            a = { ...e.name.options, context: "one" },
            c = {
              key: "strings:storePage.sections.referral.popup.body",
              options: {
                context: 1 == o ? "one" : "other",
                invitesLeft: o,
                itemCategory: d.a7.t(e.name.key, a).toLowerCase(),
              },
            };
          (0, r.Wr)(s, c, "popup-membership-body");
          const l = (0, r.Le)(s, "invite_friends_body"),
            h = (0, r.Le)(l, "room_center_link"),
            p = (0, r.Ey)(l, "btn_general btn_general_copylink", {
              key: "strings:roomPage.options.inviteFriends.copy",
            });
          (u.initializeReferralLink(h, p, e),
            this.removeFooter(),
            this.show(),
            u.sendCopyLinkAnalytic(e.analyticsPopupTriggered));
        }
      }
    },
    5675: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/mobile_endgame_before.12d7950f34dd8a460a6a.png";
    },
    6074: (e, t, s) => {
      "use strict";
      s.d(t, { a: () => c });
      var i = s(95176),
        n = s(76092),
        r = s(19966),
        o = s(9029),
        a = s(5603);
      class c extends i.y {
        static sendAnalytic() {
          const e = {
            type: n.k0.DiscordPopupKeepPlayingOnWeb,
            category: n.eX.DiscordConvertToWeb,
          };
          r.CA.sendAnalyticEvent(e);
        }
        constructor(e) {
          (super(
            { key: "strings:popups.keepPlayingOnWeb.title" },
            { key: "strings:popups.keepPlayingOnWeb.body" },
            () => {},
            () => {},
            !0,
          ),
            (0, o.G0)(this.xButton, () => {
              (a.A.play(a.h.Click), this.removePopup(), e());
            }),
            (this.checkButton.id = "root-href"),
            this.show(),
            c.sendAnalytic());
        }
      }
    },
    6202: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/ship_move_gold.6cbeeedc8245b18b31cb.svg";
    },
    6685: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/stat_robbing_income.d1962484bf328134dd82.svg";
    },
    6707: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/bg_button_black.4c66dacc0b7e812f86cc.svg";
    },
    6726: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/icon_square_active_science.a1038f8f6b3f84b2381e.svg";
    },
    6734: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/rename-lobby-to-room-after.029d5f6ff9c015ac19ef.png";
    },
    6818: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/knight_level1_inactive_black.456cd3704a8bcde5defd.svg";
    },
    6883: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/sfx_city_destroy.72dd3de3ddb780e2fb3c.mp3";
    },
    7099: (e, t, s) => {
      "use strict";
      s.d(t, { T: () => k });
      var i = s(67908),
        n = s(87290),
        r = s(22194),
        o = s(81888),
        a = s(655),
        c = s(32398),
        l = s(13359),
        d = s(9029),
        u = s(59200),
        h = s(72589),
        p = s(35700);
      class m {
        calculateProgressPercentage() {
          const e = this.seasonProgress.demotionDivisionBoundary.boundary,
            t = this.seasonProgress.promotionDivisionBoundary.boundary;
          return h.c.calculatePercentage(Number(this.currentSkill), e, t);
        }
        fillProgressBar(e) {
          ((this.progressBarDiv.style.width = `${e}%`),
            (this.progressBarDiv.style.backgroundColor = p.i.getColor(
              p.i.Color.GreenDark,
            )));
        }
        constructor(e, t, s) {
          ((this.progressBarIdBase = "ranked_progress_bar"),
            (this.seasonProgress = e),
            (this.currentSkill = t),
            (this.progressBarContainerDiv = (0, d.Le)(
              s,
              `${this.progressBarIdBase}_container`,
            )),
            (this.progressBarDiv = (0, d.Le)(
              this.progressBarContainerDiv,
              this.progressBarIdBase,
            )));
          const i = this.calculateProgressPercentage();
          this.fillProgressBar(i);
        }
      }
      var g = s(18514),
        f = s(34915),
        y = s(66681),
        b = s(13618),
        v = s(23355),
        S = s(5603);
      class k {
        set username(e) {
          this._username = e;
        }
        setPlayNowButtonClickHandlers() {
          var e;
          const t =
              (null === (e = o._.userState) || void 0 === e
                ? void 0
                : e.username) != decodeURIComponent(this._username),
            s = document.getElementsByClassName("ranked-play-now");
          for (const e of s)
            t
              ? (e.style.display = "none")
              : (0, d.G0)(
                  e,
                  () => {
                    y.P_.handleUrlRedirectViaParameters(
                      l.T.EnterMatchmaking,
                      e.dataset.matchmakingType,
                    );
                  },
                  !1,
                  !0,
                );
        }
        async fetchRankedDataForSelectedSeason(e) {
          const t = await a.m.getRequestHandler(
            c.l.apiUserProfile.ranked(this._username),
            e.toString(),
          );
          if (null != t) {
            this.rankedData = t.json;
            for (const e of this.rankedData)
              null != e.currentRankedState &&
                (e.currentRankedState = r.Gb.deserialize(e.currentRankedState));
            ((this.isSelectionCurrentSeason = e == this.currentSeason),
              this.setRankedDataUI());
          }
        }
        setRankedDataUI() {
          this.hackyLogicToHideAllCards();
          for (const e of this.rankedData) {
            const t = this.getRankedModeString(e.modeType);
            if (!t) return;
            const s = (0, v.F9)(
                `ranked_mode_player_info_card_${t}`,
                this.isPopup,
              ),
              i = document.getElementById(s);
            ((i.hidden = !1),
              this.createClickEventToRouteToLeaderboard(i, e.modeType));
            const n = (0, v.F9)(
                `ranked_mode_player_stats_${t}_container`,
                this.isPopup,
              ),
              r = document.getElementById(n);
            r.replaceChildren();
            const o = (0, v.F9)(
                `${this.progressContainerIdBase}_${t}_container`,
                this.isPopup,
              ),
              a = document.getElementById(o);
            (a.replaceChildren(),
              null != e.currentRankedState
                ? this.displayCurrentSeasonState(e, a)
                : this.populatePastSeasonProgress(e, a),
              this.populateBasicStats(e, r),
              this.populateRankingStats(e, r));
          }
        }
        hackyLogicToHideAllCards() {
          const e = [
            this.baseGameIdentifier,
            this.oneVersusOneIdentifier,
            this.citiesAndKnightsIdentifier,
          ];
          for (const t of e) {
            const e = (0, v.F9)(
              `ranked_mode_player_info_card_${t}`,
              this.isPopup,
            );
            document.getElementById(e).hidden = !0;
          }
        }
        displayCurrentSeasonState(e, t) {
          if (null != e.currentRankedState)
            switch (e.currentRankedState.type) {
              case r.Ob.RankedLocked:
                this.displayRankedLocked(e.currentRankedState, t);
                break;
              case r.Ob.Placement:
                var s;
                (this.displayRankedPlacementState(e.currentRankedState, t),
                  (null === (s = o._.userState) || void 0 === s
                    ? void 0
                    : s.username) == decodeURIComponent(this._username) &&
                    this.createPlayNowLink(e, t));
                break;
              case r.Ob.Ranked:
                (e.division != n.os.None &&
                  this.createDivisionIcon(e.division, e.subdivision, t),
                  k.displayRankedProgressBar(e.currentRankedState, t));
            }
        }
        displayRankedLocked(e, t) {
          const s = (0, d.Le)(t, ""),
            i = e.getFindGamePopupStatusText();
          s.innerText = g.a7.t(i.key, i.options);
        }
        displayRankedPlacementState(e, t) {
          const s = (0, d.Le)(t, ""),
            i = e.getFindGamePopupStatusText();
          s.innerText = g.a7.t(i.key, i.options);
        }
        static displayRankedProgressBar(e, t) {
          new m(e.currentDivisionState, e.currentMMR, t);
        }
        populatePastSeasonProgress(e, t) {
          e.division == n.os.None
            ? this.createNoGamesPlayedText(t)
            : this.createDivisionIcon(e.division, e.subdivision, t);
        }
        createDivisionIcon(e, t, s) {
          const i = (0, d.Le)(s, ""),
            r = f.j.getRankedDivisionImage(e);
          (0, d.zO)(i, r);
          const o = f.j.getRankedSubdivisionImage(t);
          null != o && (0, d.zO)(i, o);
          const a = (0, d.Le)(s, ""),
            c = t == n.Yt.None ? "" : n.Yt[t];
          a.innerText = `${n.os[e]} ${c}`;
        }
        getRankedModeString(e) {
          switch (e) {
            case i.Wz.Classic4P:
              return this.baseGameIdentifier;
            case i.Wz.Classic1v1:
              return this.oneVersusOneIdentifier;
            case i.Wz.CitiesAndKnights4P:
              return this.citiesAndKnightsIdentifier;
            default:
              return "";
          }
        }
        populateBasicStats(e, t) {
          const s = "-" == e.winRate ? e.winRate : `${e.winRate}%`;
          (this.createStatDiv(
            t,
            { key: "strings:leaderboardPage.tableHeaders.rating" },
            e.skillRating,
          ),
            this.createStatDiv(
              t,
              { key: "strings:leaderboardPage.tableHeaders.games" },
              e.gamesPlayed,
            ),
            this.createStatDiv(
              t,
              { key: "strings:leaderboardPage.tableHeaders.winPercentage" },
              s,
            ));
        }
        populateRankingStats(e, t) {
          e.rankedStanding.forEach((e) => {
            this.createRankingStatsForRegionalStanding(e, t);
          });
        }
        createRankingStatsForRegionalStanding(e, t) {
          const s = ("-" != e.rank ? "#" : "") + e.rank,
            i = u.f.tLeaderboardTabName(e.name);
          this.createStatDiv(
            t,
            {
              key: "strings:colonistCommon.utils.#buffer",
              options: { value: i },
            },
            s,
          );
        }
        createStatDiv(e, t, s) {
          const i = (0, d.Le)(e, this.statContainerClass),
            n = (0, d.Le)(i, ""),
            r = (0, d.Le)(i, "ranked_mode_player_stat_value");
          ((n.innerText = g.a7.t(t.key, t.options)), (r.innerText = s));
        }
        createPlayNowLink(e, t) {
          const s = (0, d.cE)(t, "", this.playNowLinkText, "");
          (0, d.G0)(
            s,
            () => {
              (S.A.play(S.h.Click),
                y.P_.handleUrlRedirectViaParameters(
                  l.T.EnterMatchmaking,
                  e.matchmakingRedirectType,
                ));
            },
            !0,
            !0,
          );
        }
        createNoGamesPlayedText(e) {
          (0, d.Le)(e, "").innerText = g.a7.t(
            this.noGamesPlayedText.key,
            this.noGamesPlayedText.options,
          );
        }
        createClickEventToRouteToLeaderboard(e, t) {
          if (!this.isSelectionCurrentSeason)
            return ((0, d.G0)(e, () => {}), void (e.style.cursor = "default"));
          ((e.style.cursor = "pointer"),
            (0, d.G0)(e, () => (0, b.Yf)(`/leaderboards/${i.Wz[t]}`)));
        }
        constructor(e, t = !1) {
          ((this.progressContainerIdBase = "ranked_mode_player_progress"),
            (this.baseGameIdentifier = "base"),
            (this.oneVersusOneIdentifier = "1v1"),
            (this.citiesAndKnightsIdentifier = "citiesandknights"),
            (this.statContainerClass = "ranked_mode_player_stat"),
            (this.playNowLinkText = {
              key: "strings:colonistCommon.rankedState.playNow",
            }),
            (this.noGamesPlayedText = {
              key: "strings:colonistCommon.rankedState.noGamesPlayed",
            }),
            (this._username = e),
            (this.isPopup = t),
            this.setPlayNowButtonClickHandlers());
        }
      }
    },
    7325: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_pause.c6627a2537c5b015d64b.svg";
    },
    7572: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/sfx_devcard_used.e75cc2960b64df57b35a.mp3";
    },
    7627: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/stat_res_score.a52003e23417078a1a02.svg";
    },
    7735: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/barbarian_tracker_hex_active.ff03e360170d56b24838.svg";
    },
    8322: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/lobby_ad_halloween.ad0b97f44c3d24d88fb4.png";
    },
    8399: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_x.5efbc794816c7abe462b.svg";
    },
    8678: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/new_badge_before.b8648246bb2a0a1f9c06.png";
    },
    8842: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/map_vietnam_preview.a97a9b801e05e7318479.png";
    },
    8878: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/city_wall_blue.b8235dda6d4fa0ab26cf.svg";
    },
    9029: (e, t, s) => {
      "use strict";
      s.d(t, {
        Cr: () => y,
        Dg: () => _,
        Ey: () => E,
        G0: () => H,
        K_: () => g,
        Kr: () => D,
        Le: () => v,
        M3: () => C,
        MD: () => p,
        RH: () => N,
        Sw: () => u,
        Tl: () => c,
        Tw: () => O,
        WL: () => M,
        Wr: () => R,
        Z3: () => A,
        aW: () => P,
        cE: () => T,
        fg: () => B,
        gX: () => k,
        i5: () => S,
        i9: () => l,
        m7: () => b,
        n8: () => w,
        oB: () => F,
        ou: () => m,
        t2: () => x,
        tZ: () => L,
        u_: () => f,
        uk: () => U,
        w8: () => G,
        xW: () => h,
        zO: () => I,
      });
      var i = s(78311),
        n = s(30506),
        r = s(18514),
        o = s(17399),
        a = s(96990);
      let c;
      function l(e) {
        c = e;
      }
      function d(e, t, s, i) {
        ((e.className = s), (e.id = i), t.appendChild(e));
      }
      function u(e, t) {
        const s = document.createElement("DIV");
        return (
          void 0 !== e && (s.className = e),
          void 0 !== t && (s.id = t),
          s
        );
      }
      function h(e, t) {
        const s = document.createElement("script");
        return ((s.src = t), d(s, e, "", ""), s);
      }
      function p(e, t = "") {
        const s = document.createElement("TABLE");
        return (d(s, e, t, ""), s);
      }
      function m(e, t = "", s = "") {
        const i = document.createElement("THEAD");
        return (d(i, e, t, s), e.appendChild(i), i);
      }
      function g(e, t = "", s = "") {
        const i = document.createElement("TBODY");
        return (d(i, e, t, s), e.appendChild(i), i);
      }
      function f(e, t, s = "") {
        const i = document.createElement("TR");
        return (d(i, e, s, t), i);
      }
      function y(e, t = "", s) {
        const i = document.createElement("TD");
        return (void 0 !== s && N(i, s), d(i, e, t, ""), i);
      }
      function b(e, t = "", s) {
        const i = document.createElement("TH");
        return (void 0 !== s && N(i, s), d(i, e, t, ""), i);
      }
      function v(e, t, s = "") {
        const i = document.createElement("DIV");
        return (d(i, e, t, s), i);
      }
      function S(e, t, s) {
        const i = document.createElement("SPAN");
        return (N(i, s), d(i, e, t, ""), i);
      }
      function k(e, t, s = "") {
        const i = document.createElement("FORM");
        return (d(i, e, t, s), i);
      }
      function C(e, t, s = "") {
        const i = document.createElement("INPUT");
        return (d(i, e, t, s), i);
      }
      function P(e, t, s = "") {
        const i = document.createElement("TEXTAREA");
        return (d(i, e, t, s), i);
      }
      function _(e, t, s = "", i, n, r, o) {
        const a = document.createElement("INPUT");
        return (
          (a.type = "range"),
          (a.min = i.toString()),
          (a.max = n.toString()),
          (a.step = r.toString()),
          (a.value = o.toString()),
          d(a, e, t, s),
          a
        );
      }
      function A(e, t, s = "", i) {
        const n = C(e, t, s);
        return ((n.type = "checkbox"), (n.onclick = i), n);
      }
      function w(e, t, s, i = "", n = "H3") {
        const r = document.createElement(n);
        return (N(r, t), d(r, e, s, i), r);
      }
      function R(e, t, s, i = "") {
        const n = document.createElement("P");
        return (N(n, t), d(n, e, s, i), n);
      }
      function T(e, t, s, i, n = "", r = !1) {
        const o = document.createElement("A");
        return (
          N(o, s),
          (o.href = t),
          r && (o.target = "_blank"),
          d(o, e, i, n),
          o
        );
      }
      function I(e, t, s = "", i = "") {
        const n = document.createElement("IMG");
        return (O(n, t), (n.src = (0, o.tu)(t)), d(n, e, s, i), n);
      }
      function M(e, t, s, i = "") {
        const n = document.createElement("IMG");
        return ((n.alt = c(s.key, s.options)), (n.src = t), d(n, e, i, ""), n);
      }
      function L(e, t, s = "") {
        const i = document.createElement("OBJECT");
        return ((i.type = "image/svg+xml"), (i.data = t), d(i, e, s, ""), i);
      }
      function B(e, t, s, i = !1) {
        const n = document.createElement("OPTION");
        return (
          e.appendChild(n),
          (n.value = t),
          (n.innerText = c(s.key, s.options)),
          (n.selected = i),
          n
        );
      }
      function D(e, t, s = "", i) {
        const n = document.createElement("SELECT");
        return (
          (n.onchange = () => {
            i(n.value);
          }),
          d(n, e, t, s),
          n
        );
      }
      function E(e, t, s) {
        const i = document.createElement("BUTTON");
        return (N(i, s), d(i, e, t, ""), i);
      }
      function G(e, t, s, i, n = "") {
        const r = document.createElement("IFRAME");
        return (
          (r.width = t),
          (r.height = s),
          (r.src = i),
          (r.frameBorder = "0"),
          d(r, e, n, ""),
          r
        );
      }
      function x(e, t, s, i = "") {
        const n = document.createElement("LI");
        return (N(n, t), d(n, e, s, i), n);
      }
      function U(e, t, s = "") {
        const i = document.createElement("UL");
        return (d(i, e, t, s), i);
      }
      function O(e, t) {
        const s = { key: `strings:imgAlts.${n.h4.getEnumKey(t, i.am)}` };
        e.alt = c(s.key, s.options);
      }
      function N(e, t) {
        var s;
        const i =
          "strings:colonistCommon.utils.#buffer" === t.key
            ? null === (s = t.options) || void 0 === s
              ? void 0
              : s.value
            : c(t.key, t.options);
        e.innerHTML = i;
      }
      function F(e, t) {
        var s;
        const i =
          "strings:colonistCommon.utils.#buffer" === t.key
            ? null === (s = t.options) || void 0 === s
              ? void 0
              : s.value
            : r.a7.t(t.key, t.options);
        e.innerText = i;
      }
      function H(e, t, s = !1, i = !1) {
        if (a.N.isUserOnMobileWebview() && !a.N.isCypressTest()) {
          const s = 5;
          let n, r;
          return (
            (e.ontouchstart = (e) => {
              const t = e.touches[0];
              ((n = t.clientX), (r = t.clientY));
            }),
            (e.ontouchend = async (e) => {
              const o = e.changedTouches[0],
                a = Math.abs(o.clientX - n),
                c = Math.abs(o.clientY - r);
              a > s ||
                c > s ||
                (e.preventDefault(), i && e.stopPropagation(), await t(e));
            }),
            void (e.style.transition = "all 0s")
          );
        }
        e.onclick = async (e) => {
          (s && e.preventDefault(), i && e.stopPropagation(), await t(e));
        };
      }
    },
    9108: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_avocado.bd15e891ce98a21d09ec.svg";
    },
    9127: (e, t, s) => {
      "use strict";
      s.d(t, { P7: () => n, WA: () => i });
      var i = (function (e) {
          return (
            (e[(e.Offline = 0)] = "Offline"),
            (e[(e.OnlineAndIdle = 1)] = "OnlineAndIdle"),
            (e[(e.InRoom = 2)] = "InRoom"),
            (e[(e.InGame = 3)] = "InGame"),
            e
          );
        })({}),
        n = (function (e) {
          return (
            (e[(e.RegisterToFriendService = 1)] = "RegisterToFriendService"),
            (e[(e.ChangeOnlineStatus = 2)] = "ChangeOnlineStatus"),
            (e[(e.GetAllFriendsOnlineStatus = 3)] =
              "GetAllFriendsOnlineStatus"),
            (e[(e.InviteFriendToRoom = 4)] = "InviteFriendToRoom"),
            (e[(e.GetAllRoomInvitesReceived = 5)] =
              "GetAllRoomInvitesReceived"),
            (e[(e.RespondToFriendRoomInvite = 6)] =
              "RespondToFriendRoomInvite"),
            (e[(e.GetNotifications = 7)] = "GetNotifications"),
            (e[(e.MarkNotificationAsRead = 8)] = "MarkNotificationAsRead"),
            (e[(e.MarkAllNotificationsAsRead = 9)] =
              "MarkAllNotificationsAsRead"),
            (e[(e.RegisterToNotificationService = 10)] =
              "RegisterToNotificationService"),
            e
          );
        })({});
    },
    9521: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_add_friend.a1b9e1341d0045f6e94e.svg";
    },
    9602: (e, t, s) => {
      "use strict";
      s.d(t, { Q: () => i });
      var i,
        n = s(66681),
        r = s(18587);
      !(function (e) {
        var t, s;
        (((t = e.Size || (e.Size = {}))[(t.Small = 10)] = "Small"),
          (t[(t.Normal = 12)] = "Normal"),
          (t[(t.L = 14)] = "L"),
          (t[(t.XL = 16)] = "XL"),
          (t[(t.XXL = 26)] = "XXL"),
          (t[(t.XXXL = 42)] = "XXXL"),
          (t[(t.Giant = 60)] = "Giant"),
          ((s = e.Weight || (e.Weight = {})).Normal = "400"),
          (s.SemiBold = "600"),
          (s.Bold = "700"),
          (e.getResponsiveSize = function (e) {
            return r.r.isUserOnTabletApp && r.r.shouldDisplayNewMobileGameUI
              ? (e * n.IH.canvasController.appH) / 600
              : (e * n.IH.canvasController.appH) / 700;
          }));
      })(i || (i = {}));
    },
    9620: (e, t, s) => {
      "use strict";
      s.d(t, { A: () => b });
      var i = s(98487),
        n = s(78311),
        r = s(95078),
        o = s(13618),
        a = s(9029),
        c = s(61570),
        l = s(19966),
        d = s(76092),
        u = s(83633),
        h = s(84235),
        p = s(74710),
        m = s(67908),
        g = s(18587),
        f = s(30506),
        y = s(23355);
      class b {
        update(e, t, s, i = !1) {
          (this.resetHistoryTable(),
            this.createGameHistoryTableHead(i),
            e.reverse());
          for (const n of e)
            (this.createGameRow(n, t, s, i), this.createGameDetailsRow(n));
        }
        resetHistoryTable() {
          ((0, a.RH)(this.gameHistoryTableHead, {
            key: "strings:colonistCommon.utils.emptyString",
          }),
            (0, a.RH)(this.gameHistoryTableBody, {
              key: "strings:colonistCommon.utils.emptyString",
            }));
        }
        createGameDetailsRow(e) {
          const t = (0, a.u_)(
            this.gameHistoryTableBody,
            this.getDetailsId(e.id),
          );
          t.style.display = "none";
          const s = (0, a.Cr)(t, "game-details-td");
          s.colSpan = 6;
          const n = (0, a.Le)(s, "game-details-grid");
          ((e.setting = i.KN.deserialize(e.setting)),
            b.createGameDetailsPlayersIn(e, n),
            b.createGameDetailsSettingsIn(e, n));
        }
        createGameHistoryTableHead(e) {
          const t = this.gameHistoryTableHead.insertRow();
          ((0, a.m7)(t, void 0, {
            key: "strings:profilePage.history.table.date.title",
          }),
            (0, a.m7)(t, void 0, {
              key: "strings:profilePage.history.table.rank.title",
            }),
            e &&
              (0, a.m7)(t, "center", {
                key: "strings:profilePage.history.table.opponents.title",
              }),
            (0, a.m7)(t, "right", {
              key: "strings:profilePage.history.table.duration.title",
            }),
            (0, a.m7)(t, "center", {
              key: "strings:profilePage.history.table.replay.title",
            }));
        }
        createGameRow(e, t, s, i = !1) {
          const n = decodeURIComponent(t),
            c = (0, a.u_)(this.gameHistoryTableBody, ""),
            l = f.Re.convertTimestampToDateTimeText(e.startTime);
          let d = "",
            u = "";
          for (const t of e.players)
            t.username.toLowerCase() != n.toLowerCase() ||
              ((d = String(t.rank) + "/" + String(e.players.length)),
              (u =
                String(t.points) + "/" + String(e.setting.victoryPointsToWin)));
          ((0, a.Cr)(c, void 0, l),
            (0, a.Cr)(c, void 0, {
              key: "strings:colonistCommon.utils.#buffer",
              options: { value: d },
            }),
            i && b.addOpponentsColumn(e, c),
            (0, a.Cr)(c, "right", {
              key: "strings:colonistCommon.utils.#buffer",
              options: { value: (0, o.b3)(e.duration / 1e3) },
            }),
            this.addReplayColumn(e, s, c),
            (c.onclick = (t) => {
              const s = t.target;
              if (null == s) return;
              if (null !== s.closest("a")) return;
              const i = this.getDetailsId(e.id),
                n = document.getElementById(i);
              if (null != n) {
                if (this.activeTableInfoIds.indexOf(i) > -1)
                  return (
                    (n.style.display = "none"),
                    void r.l.removeElementFromArray(this.activeTableInfoIds, i)
                  );
                ((n.style.display = "table-row"),
                  this.activeTableInfoIds.push(i));
              }
            }));
        }
        static addOpponentsColumn(e, t) {
          const s = (0, a.Cr)(t, "center opponents-td");
          for (const t of e.players) b.createUsernameElement(t, s);
        }
        addReplayColumn(e, t, s) {
          var i;
          const r = (0, a.Cr)(s, "center");
          if (!e.hasReplay) return;
          const c =
            null === (i = e.players.find((e) => e.userId === t)) || void 0 === i
              ? void 0
              : i.playerColor;
          if (void 0 === c) return;
          const u = this.getReplayUrl(e, c),
            h = (0, a.cE)(
              r,
              "",
              { key: "strings:colonistCommon.utils.emptyString" },
              "",
            );
          ((0, a.zO)(h, n.am.ReplayIcon),
            (0, a.G0)(
              h,
              () => {
                (l.CA.sendAnalyticEvent({
                  type: d.k0.ReplayClickedViewFromProfileGameHistory,
                  category: d.eX.Replay,
                  stringValue: e.id,
                }),
                  (0, o.Yf)(u, !0));
              },
              !0,
            ));
        }
        getReplayUrl(e, t) {
          if (g.r.isUserOnDiscord && this.isPopup)
            return `https://colonist.io/replay?gameId=${e.id}&playerColor=${t}`;
          if (g.r.isUserOnDiscord)
            return `/replay?gameId=${e.id}&playerColor=${t}`;
          const s = new URL(window.location.href);
          return (
            (s.pathname = g.r.isUserOnMobileAppOrWeb
              ? "/mobile/replay"
              : "/replay"),
            s.searchParams.set("gameId", e.id.toString()),
            s.searchParams.set("playerColor", t.toString()),
            s.href
          );
        }
        getDetailsId(e) {
          return (0, y.F9)(`table_${e}`, this.isPopup);
        }
        static createUsernameElement(e, t) {
          const s = e.isHuman ? e.username : "Bot",
            i = {
              key: "strings:colonistCommon.utils.#buffer",
              options: { value: s },
            };
          if (!(e.username === c.t) && e.isHuman) {
            const e = (0, a.cE)(t, "", i, "");
            (0, a.G0)(e, () => y.xp.init(s), !0, !0);
          } else (0, a.i5)(t, "", i);
        }
        static createGameDetailsPlayersIn(e, t) {
          const s = (0, a.Le)(t, "game-details-container"),
            i = (0, a.MD)(s, "game-details-table"),
            r = i.createTHead().insertRow();
          ((0, a.m7)(r, "center", {
            key: "strings:leaderboardPage.tableHeaders.player",
          }),
            (0, a.m7)(r, "center", {
              key: "strings:profilePage.history.table.rank.title",
            }),
            (0, a.m7)(r, "center", {
              key: "strings:profilePage.history.table.vp.title",
            }),
            (0, a.m7)(r, "center", {
              key: "strings:profilePage.history.table.finished.title",
            }),
            (0, a.m7)(r, "center", {
              key: "strings:profilePage.history.table.karmaPenalty.title",
            }));
          const o = i.createTBody(),
            c = e.players.sort((e, t) => e.rank - t.rank);
          for (const t of c) {
            const s = o.insertRow(),
              i = (0, a.Cr)(s, "center");
            (b.createUsernameElement(t, i),
              (0, a.Cr)(s, "center", {
                key: "strings:colonistCommon.utils.#buffer",
                options: {
                  value: String(t.rank) + "/" + String(e.players.length),
                },
              }),
              (0, a.Cr)(s, "center", {
                key: "strings:colonistCommon.utils.#buffer",
                options: {
                  value:
                    String(t.points) +
                    "/" +
                    String(e.setting.victoryPointsToWin),
                },
              }));
            const r = (0, a.Cr)(s, "center"),
              c = t.finished ? n.am.CheckMark : n.am.XMark;
            (0, a.zO)(r, c);
            const l = (0, a.Cr)(s, "center"),
              d = t.quitWithPenalty ? n.am.CheckMark : n.am.XMark;
            (0, a.zO)(l, d);
          }
        }
        static createGameDetailsSettingsIn(e, t) {
          const s = u.qq.getModeDataForMode(e.setting.modeSetting);
          if (void 0 === s) return;
          const i = (0, a.Le)(t, "game-details-container"),
            n = (0, a.MD)(i, "game-details-table").createTBody(),
            r = n.insertRow();
          ((0, a.Cr)(r, void 0, {
            key: "strings:game.settings.gameInfoTab.id.value",
            options: { id: e.setting.id },
          }),
            (0, a.Cr)(
              r,
              void 0,
              (0, p.dN)(
                { key: "strings:game.settings.gameInfoTab.map.value" },
                { mapName: h.X.getMapName(e.setting.mapSetting) },
              ),
            ));
          const o = n.insertRow();
          ((0, a.Cr)(
            o,
            void 0,
            (0, p.dN)(
              { key: "strings:game.settings.gameInfoTab.gameMode.value" },
              { modeName: s.name },
            ),
          ),
            (0, a.Cr)(
              o,
              void 0,
              (0, p.dN)(
                { key: "strings:game.settings.gameInfoTab.extension.value" },
                { extensionName: (0, m.Dw)(e.setting.extensionSetting) },
              ),
            ));
          const c = n.insertRow();
          ((0, a.Cr)(
            c,
            void 0,
            (0, p.dN)(
              { key: "strings:game.settings.gameInfoTab.scenario.value" },
              { scenarioName: (0, m.g1)(e.setting.scenarioSetting) },
            ),
          ),
            (0, a.Cr)(c, void 0, {
              key: "strings:game.settings.gameInfoTab.vpToWin.value",
              options: { value: e.setting.victoryPointsToWin },
            }));
          const l = n.insertRow(),
            d = {
              key:
                "strings:game.settings.gameInfoTab.friendlyRobber.options." +
                (e.setting.friendlyRobber ? "Active" : "Inactive"),
            };
          ((0, a.Cr)(
            l,
            void 0,
            (0, p.dN)(
              { key: "strings:game.settings.gameInfoTab.turnTimer.value" },
              { turnTimer: m.mt.getSpeedSettingText(e.setting.gameSpeed) },
            ),
          ),
            (0, a.Cr)(
              l,
              void 0,
              (0, p.dN)(
                {
                  key: "strings:game.settings.gameInfoTab.friendlyRobber.value",
                },
                { friendlyRobberState: d },
              ),
            ));
          const g = n.insertRow(),
            f = {
              key:
                "strings:game.settings.gameInfoTab.karma.options." +
                (e.setting.karmaActive ? "Active" : "Inactive"),
            };
          ((0, a.Cr)(
            g,
            void 0,
            (0, p.dN)(
              { key: "strings:game.settings.gameInfoTab.karma.value" },
              { karmaState: f },
            ),
          ),
            (0, a.Cr)(
              g,
              void 0,
              (0, p.dN)(
                { key: "strings:game.settings.gameInfoTab.dice.value" },
                { diceSetting: (0, m.Zd)(e.setting.diceSetting) },
              ),
            ));
          const y = n.insertRow(),
            b = {
              key:
                "strings:game.settings.gameInfoTab.bankCards.options." +
                (e.setting.hideBankCards ? "Hidden" : "Showing"),
            };
          ((0, a.Cr)(
            y,
            void 0,
            (0, p.dN)(
              { key: "strings:game.settings.gameInfoTab.bankCards.value" },
              { bankCardsVisibility: b },
            ),
          ),
            (0, a.Cr)(y, void 0, {
              key: "strings:profilePage.history.table.turns.value",
              options: { turnCount: e.turnCount },
            }));
          const v = n.insertRow();
          (0, a.Cr)(v, void 0, {
            key: "strings:game.settings.gameInfoTab.cardDiscardLimit.value",
            options: { value: e.setting.cardDiscardLimit },
          });
        }
        constructor(e = !1) {
          this.activeTableInfoIds = [];
          const t = (0, y.F9)("game-history-table-head", e),
            s = (0, y.F9)("game-history-table-body", e);
          ((this.gameHistoryTableHead = document.getElementById(t)),
            (this.gameHistoryTableBody = document.getElementById(s)),
            (this.isPopup = e));
        }
      }
    },
    9707: (e, t, s) => {
      "use strict";
      s.d(t, { u: () => n });
      var i = s(76714);
      class n {
        constructor(e) {
          ((this.seasonProgressDates =
            document.getElementById("progress_dates")),
            (this.seasonProgressBar = document.querySelector(
              ".leaderboard_season_progress_bar",
            )));
          const t = e.getCurrentSeasonTiming(new Date());
          ((this.seasonProgressDates.innerText =
            i.c.getShowingTimeLeftUntilSeasonEndText(t)),
            (this.seasonProgressBar.style.width = 100 * t.progress + "%"));
        }
      }
    },
    9751: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_pass_turn.8d5b7a48c40a85b859cd.svg";
    },
    9808: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/knight_level1_active_orange.dafdc2dd7f0479b69714.svg";
    },
    10008: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/road_purple.44404500b4749200ee0c.svg";
    },
    10014: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/stat_dev_card_loss.693f5eedfa49510f5e2c.svg";
    },
    10200: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_robber_cupid.0e7dabbe0428652648ff.png";
    },
    10297: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_lightning.36c72b398cd3982ca025.svg";
    },
    10369: (e, t, s) => {
      "use strict";
      s.d(t, { r: () => c });
      var i = s(69508),
        n = s(19720),
        r = s(95176),
        o = s(96990),
        a = s(13618);
      class c {
        static handleError(e) {
          switch (e.type) {
            case i.w.DefaultError:
              this.showDefaultErrorPopup(e);
              break;
            case i.w.AuthError:
              this.showAuthErrorPopup(e);
              break;
            case i.w.MustLogin:
              new n.L();
              break;
            case i.w.MustBeMember:
              this.showMustBeMemberPopup(e);
              break;
            case i.w.Blocking:
              this.showBlockingPopup(e);
          }
        }
        static showDefaultErrorPopup(e) {
          var t;
          const s =
              null !== (t = e.title) && void 0 !== t
                ? t
                : { key: "strings:popups.errors.general.title" },
            i = e.description,
            n = new r.y(
              s,
              i,
              () => {},
              () => {},
              !0,
            );
          this.isSameErrorAlreadyBeingShown(n) ||
            (n.show(), n.removeXButton(), (this.currentPopup = n));
        }
        static showAuthErrorPopup(e) {
          var t;
          const s =
              null !== (t = e.title) && void 0 !== t
                ? t
                : { key: "strings:popups.errors.general.title" },
            i = e.getDisplayMessage(),
            n = new r.y(
              s,
              i,
              () => {},
              () => {},
              !0,
            );
          this.isSameErrorAlreadyBeingShown(n) ||
            (n.show(), n.removeXButton(), (this.currentPopup = n));
        }
        static showMustBeMemberPopup(e) {
          var t;
          const s =
              null !== (t = e.title) && void 0 !== t
                ? t
                : { key: "strings:popups.errors.general.title" },
            i = e.description,
            n = o.N.isUserOnMobileAppOrWeb()
              ? "/mobile/store#membership"
              : "/store#membership",
            c = new r.y(
              s,
              i,
              () => (0, a.Yf)(n),
              () => {},
              !0,
              {
                checkButtonCustomContent: {
                  key: "strings:popups.uhOh.checkButton",
                },
              },
            );
          this.isSameErrorAlreadyBeingShown(c) ||
            (c.removeXButton(), c.show(), (this.currentPopup = c));
        }
        static showBlockingPopup(e) {
          var t;
          const s =
              null !== (t = e.title) && void 0 !== t
                ? t
                : { key: "strings:popups.errors.general.title" },
            i = e.description,
            n = new r.y(
              s,
              i,
              () => {},
              () => {},
              !1,
            );
          this.isSameErrorAlreadyBeingShown(n) ||
            (n.show(),
            n.removeXButton(),
            n.removeCheckButton(),
            (this.currentPopup = n));
        }
        static isSameErrorAlreadyBeingShown(e) {
          var t, s;
          return (
            !(null === (t = this.currentPopup) || void 0 === t
              ? void 0
              : t.isRemoved()) &&
            (null === (s = this.currentPopup) || void 0 === s
              ? void 0
              : s.body.innerHTML) == e.body.innerHTML
          );
        }
      }
    },
    10427: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/sfx_disconnect.5221e15ddb955d8ebb49.mp3";
    },
    10479: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/city_improvement_mobile_before.883ab2c226be8b2443ea.png";
    },
    10524: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/card_progress_science_inventor.4d789e3f91a72607d5c6.svg";
    },
    10534: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/card_ore.117f64dab28e1c987958.svg";
    },
    10644: (e, t, s) => {
      "use strict";
      s.d(t, { Q: () => r });
      var i = s(19966),
        n = s(9029);
      class r {
        onSubmit(e) {
          (e.preventDefault(),
            e.target == this.icon &&
              i.CA.sendGoogleAnalyticsEvent(
                i.CA.Category.Profile,
                i.CA.Label.ClickedProfileSearch,
              ),
            this.onSearchCallback(this.input.value));
        }
        constructor(e, t, s) {
          ((this.input = document.getElementById(
            `component_search_input_${e}`,
          )),
            (this.form = document.getElementById(`component_search_form_${e}`)),
            (this.icon = document.getElementById(`component_search_icon_${e}`)),
            (this.onSearchCallback = s),
            this.form.addEventListener("submit", (e) => this.onSubmit(e)),
            (0, n.G0)(this.icon, (e) => this.onSubmit(e)),
            (this.input.value = t),
            this.input.addEventListener("keyup", () => {
              "" === this.input.value &&
                this.onSearchCallback(this.input.value);
            }));
        }
      }
    },
    10806: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_helmet.84a554589c5382ae7bf2.svg";
    },
    10923: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_trade_bank_check.cca85e07979a94c78dac.svg";
    },
    10968: (e, t, s) => {
      "use strict";
      function i(e, t, s) {
        return Math.max(Math.min(e, s), t);
      }
      function n(e, t) {
        return Math.sqrt(Math.pow(t.x - e.x, 2) + Math.pow(t.y - e.y, 2));
      }
      function r(e, t, s) {
        return e + (t - e) * s;
      }
      s.d(t, { Cc: () => r, Yf: () => n, qE: () => i });
    },
    11148: (e, t, s) => {
      "use strict";
      s.d(t, { C: () => h });
      var i = s(67908),
        n = s(63778),
        r = s(69714),
        o = s(19966),
        a = s(54801),
        c = s(35274),
        l = s(15504),
        d = s(41931);
      const u = i.o8.UIGameEventEnums;
      class h {
        onStateAutoRejoinGame(e) {
          r.Q.reconnectGame(e, o.CA.Label.AutoRejoinGame);
        }
        onStateCurrentGameState() {
          var e;
          null === (e = this.uiGameManager) ||
            void 0 === e ||
            e.eventController.sendEvent(
              void 0,
              i.o8.UIGameEventEnums.GameStateUpdated,
            );
        }
        onStateBankState() {
          var e;
          null === (e = this.uiGameManager) ||
            void 0 === e ||
            e.eventController.sendEvent(void 0, u.BankStateUpdated);
        }
        onStateMapState(e) {
          var t;
          null === (t = this.uiGameManager) ||
            void 0 === t ||
            t.eventController.sendEvent(e, u.MapStateUpdated);
        }
        onPlayerControllerState(e) {
          var t;
          null === (t = this.uiGameManager) ||
            void 0 === t ||
            t.eventController.sendEvent(e, u.PlayerControllerStateUpdated);
        }
        onSelectPlayer(e) {
          var t;
          null === (t = this.uiGameManager) ||
            void 0 === t ||
            t.eventController.sendEvent(e, u.SelectPlayer);
        }
        onGivePlayerResourcesFromTile(e) {
          var t;
          null === (t = this.uiGameManager) ||
            void 0 === t ||
            t.eventController.sendEvent(e, u.GivePlayerCardFromTile);
        }
        onExchangeCards(e) {
          var t;
          null === (t = this.uiGameManager) ||
            void 0 === t ||
            t.eventController.sendEvent(e, u.ExchangeCards);
        }
        onHighlightCorners(e) {
          var t;
          null === (t = this.uiGameManager) ||
            void 0 === t ||
            t.eventController.sendEvent(e, u.SetCornerHighlight);
        }
        onHighlightRoadEdges(e) {
          var t;
          null === (t = this.uiGameManager) ||
            void 0 === t ||
            t.eventController.sendEvent(e, u.SetRoadEdgeHighlight);
        }
        onHighlightShipEdges(e) {
          var t;
          null === (t = this.uiGameManager) ||
            void 0 === t ||
            t.eventController.sendEvent(e, u.SetShipEdgeHighlight);
        }
        onHighlightTiles(e) {
          var t;
          null === (t = this.uiGameManager) ||
            void 0 === t ||
            t.eventController.sendEvent(e, u.SetTileHighlight);
        }
        onHighlightDiceNumbersForInventor(e) {
          var t;
          null === (t = this.uiGameManager) ||
            void 0 === t ||
            t.eventController.sendEvent(e, u.HighlightDiceNumbersForInventor);
        }
        onAmountOfCardsToDiscard(e) {
          var t;
          null === (t = this.uiGameManager) ||
            void 0 === t ||
            t.eventController.sendEvent(e, u.SelectCardsToDiscard);
        }
        onSelectCardsToGiveToPlayer(e) {
          var t;
          null === (t = this.uiGameManager) ||
            void 0 === t ||
            t.eventController.sendEvent(e, u.SelectCardToGiveToAnotherPlayer);
        }
        onSelectPlayerAndCard(e) {
          var t;
          null === (t = this.uiGameManager) ||
            void 0 === t ||
            t.eventController.sendEvent(e, u.SelectPlayerAndCard);
        }
        onCardsToSelectForPendingTransaction(e) {
          var t;
          null === (t = this.uiGameManager) ||
            void 0 === t ||
            t.eventController.sendEvent(e, u.SelectCardsForPendingDistribution);
        }
        onConfirmUseDevelopmentCard(e) {
          var t;
          null === (t = this.uiGameManager) ||
            void 0 === t ||
            t.eventController.sendEvent(e, u.ConfirmUseDevelopmentCard);
        }
        onSelectPlayerUsingDevelopmentCard(e) {
          var t;
          null === (t = this.uiGameManager) ||
            void 0 === t ||
            t.eventController.sendEvent(e, u.SelectPlayerForDevelopmentCard);
        }
        onStealDevelopmentCardFromPlayer(e) {
          var t;
          null === (t = this.uiGameManager) ||
            void 0 === t ||
            t.eventController.sendEvent(e, u.StealDevelopmentCardFromPlayer);
        }
        onStealResourceCardFromPlayer(e) {
          var t;
          null === (t = this.uiGameManager) ||
            void 0 === t ||
            t.eventController.sendEvent(e, u.StealResourceCardFromPlayer);
        }
        onClosePopupUI() {
          var e;
          null === (e = this.uiGameManager) ||
            void 0 === e ||
            e.eventController.sendEvent(void 0, u.ClosePopupUI);
        }
        onCardsToSelectForDevelopmentCard(e) {
          var t;
          null === (t = this.uiGameManager) ||
            void 0 === t ||
            t.eventController.sendEvent(
              e,
              u.SelectCardsFromBankUsingDevelopmentCard,
            );
        }
        onSelectDice(e) {
          var t;
          null === (t = this.uiGameManager) ||
            void 0 === t ||
            t.eventController.sendEvent(e, u.SelectDice);
        }
        onCityImprovementStateUpdated() {
          var e;
          null === (e = this.uiGameManager) ||
            void 0 === e ||
            e.eventController.sendEvent(void 0, u.CityImprovementStateUpdated);
        }
        onSpecialBuildPhaseUpdated() {
          var e;
          null === (e = this.uiGameManager) ||
            void 0 === e ||
            e.eventController.sendEvent(
              void 0,
              u.SpecialBuildPhaseStateUpdated,
            );
        }
        onForceShowCityImprovementButtons() {
          var e;
          null === (e = this.uiGameManager) ||
            void 0 === e ||
            e.gameStore
              .getState()
              .gameActionButtons.setCityImprovementExtraButtonsOpen(!0);
        }
        onKnightStateUpdated(e) {
          var t;
          null === (t = this.uiGameManager) ||
            void 0 === t ||
            t.eventController.sendEvent(e, u.KnightStateUpdated);
        }
        onEmbargoState() {
          var e;
          null === (e = this.uiGameManager) ||
            void 0 === e ||
            e.eventController.sendEvent(void 0, u.EmbargoStatusUpdated);
        }
        onCloseOffer(e) {
          var t;
          null === (t = this.uiGameManager) ||
            void 0 === t ||
            t.eventController.sendEvent(e, u.RemoveTradeOffer);
        }
        onResetTradeStateAtEndOfTurn() {
          var e;
          null === (e = this.uiGameManager) ||
            void 0 === e ||
            e.eventController.sendEvent(void 0, u.TradeResetStateAtEndOfTurn);
        }
        onTradeResponseState(e) {
          var t;
          null === (t = this.uiGameManager) ||
            void 0 === t ||
            t.eventController.sendEvent(e, u.TradeResponseState);
        }
        onTradePlayersCreatingCounterOfferState(e) {
          var t;
          null === (t = this.uiGameManager) ||
            void 0 === t ||
            t.eventController.sendEvent(
              e,
              u.TradePlayersCreatingCounterOfferState,
            );
        }
        onGetOffer(e) {
          var t;
          null === (t = this.uiGameManager) ||
            void 0 === t ||
            t.eventController.sendEvent(e, u.NewTradeOfferReceived);
        }
        onBoldTextInTradeWindow(e) {
          var t;
          null === (t = this.uiGameManager) ||
            void 0 === t ||
            t.eventController.sendEvent(e, u.BoldTextInTradeWindow);
        }
        onBuildGame(e) {
          (this.onStateInitialPlacement(),
            null != this.uiGameManager &&
              (this.uiGameManager.buildGame(e),
              o.CA.sendGoogleTagManagerEvent(
                o.CA.GoogleTagManagerEvent.GameStarted,
              ),
              this.uiGameManager.eventController.sendEvent(
                void 0,
                u.FinishedBuildingGame,
              )));
        }
        onDiceState(e = !0) {
          var t;
          null === (t = this.uiGameManager) ||
            void 0 === t ||
            t.eventController.sendEvent(e, u.DiceStateUpdated);
        }
        onGameEndState(e, t) {
          if (null == this.uiGameManager) return;
          const s = new l.c(
            this.uiGameManager,
            e.endGameState,
            e.isReplayAvailable,
            e.rankedUserStates,
            t,
          );
          return (
            (this.uiGameManager.gameState.isGameOver = !0),
            this.uiGameManager.eventController.sendEvent(void 0, u.GameEnd),
            this.uiGameManager.toolTipController.closeTip(),
            s
          );
        }
        onEndGameText(e) {
          var t;
          const s = e;
          null === (t = this.uiGameManager) ||
            void 0 === t ||
            t.eventController.sendEvent(s, u.GameEndRematchTextUpdated);
        }
        onTogglePauseGame(e) {
          var t, s, i;
          const n = Object.assign(new a.WF(), e);
          (null === (t = this.uiGameManager) ||
            void 0 === t ||
            t.pauseController.togglePause(n),
            null === (s = this.uiGameManager) ||
              void 0 === s ||
              s.gameStore.getState().gamePause.setIsPaused(n.paused),
            null === (i = this.uiGameManager) ||
              void 0 === i ||
              i.gameStore
                .getState()
                .gamePause.setRemainingPauseTimeMS(n.remainingPauseTime));
        }
        onBeginnerHintActivated(e) {
          var t;
          null === (t = this.uiGameManager) ||
            void 0 === t ||
            t.eventController.sendEvent(e, u.BeginnerHintReceived);
        }
        onBeginnerModeActionUpdate(e) {
          var t;
          null === (t = this.uiGameManager) ||
            void 0 === t ||
            t.eventController.sendEvent(e, u.BeginnerModeActionUpdated);
        }
        onBeginnerModeLevelEnd() {
          d.p.incrementBeginnerModeLevel();
        }
        gameStateUpdated(e, t = !0) {
          var s, i, n, r, o;
          if (void 0 === this.uiGameManager) return;
          const a = e.diff;
          (this.uiGameManager.gameController.applyStateUpdates([a]),
            (this.uiGameManager.gameController.timeLeftInCurrentState =
              e.timeLeftInState));
          const c = Math.random() / 10;
          (this.uiGameManager.gameStore
            .getState()
            .setTimeLeftInSeconds(e.timeLeftInState + c),
            (null == a.currentState &&
              null ==
                (null === (i = a.experimentalMechanicState) ||
                void 0 === i ||
                null === (s = i.mechanicTurnColonistRushState) ||
                void 0 === s
                  ? void 0
                  : s.playersToggledEndTurn)) ||
              this.onStateCurrentGameState());
          (null != a.diceState || null != a.mechanicEventDiceState) &&
            this.onDiceState(t);
          const l =
            null !=
            (null === (o = a.experimentalMechanicState) ||
            void 0 === o ||
            null === (r = o.playerStates) ||
            void 0 === r ||
            null === (n = r[this.uiGameManager.gameController.myColor]) ||
            void 0 === n
              ? void 0
              : n.actionState);
          ((null != a.playerStates ||
            null != a.mechanicDevelopmentCardsState ||
            null != a.mechanicSettlementState ||
            null != a.mechanicCityState ||
            null != a.mechanicCityWallState ||
            null != a.mechanicRoadState ||
            null != a.mechanicShipState ||
            null != a.mechanicProgressCardsState ||
            null != a.mechanicLongestRoadState ||
            null != a.mechanicLargestArmyState ||
            l) &&
            this.onPlayerControllerState(t),
            null != a.bankState && this.onStateBankState(),
            null != a.tradeState && this.onTradeStateUpdate(a.tradeState));
          ((null != a.mapState ||
            null != a.mechanicRobberState ||
            null != a.mechanicPirateState ||
            null != a.mechanicMerchantState) &&
            this.onStateMapState(t),
            null != a.gameLogState && this.onGameLogStateUpdate(a.gameLogState),
            a.mechanicSpecialBuildPhaseState &&
              this.onSpecialBuildPhaseUpdated(),
            a.mechanicKnightState &&
              this.onKnightStateUpdated(a.mechanicKnightState),
            a.mechanicCityImprovementsState &&
              this.onCityImprovementStateUpdated());
          const d = this.uiGameManager.gameController.stateController.state,
            u = Object.keys(e.diff);
          this.uiGameManager.gameStore.getState().setGameState(d, u);
        }
        onTradeStateUpdate(e) {
          var t;
          if (
            (null != e.embargoState && this.onEmbargoState(),
            null != e.activeOffers)
          )
            for (const t in e.activeOffers) {
              const s = e.activeOffers[t];
              if (null === s) {
                this.onCloseOffer(t);
                continue;
              }
              if (null == s) continue;
              1 == Object.keys(s).length
                ? (null != s.playerResponses && this.onTradeResponseState(t),
                  null != s.playersCreatingCounterOffer &&
                    this.onTradePlayersCreatingCounterOfferState(t))
                : (0, n.zo)(s) && this.onGetOffer(t);
            }
          null === (t = this.uiGameManager) ||
            void 0 === t ||
            t.eventController.sendEvent(void 0, u.TradeStateUpdated);
        }
        onGameLogStateUpdate(e) {
          if (
            void 0 !== this.uiGameManager &&
            !this.uiGameManager.gameController.isReplay
          )
            for (const t in e) {
              const s = e[t];
              null != s && (0, c._g)(Number(t), s);
            }
        }
        onFriendUpdateOnlineStatus(e) {
          var t, s;
          if (e.sendingAllFriends)
            return null ===
              (t = this.generalServicesController.onlineFriendController) ||
              void 0 === t
              ? void 0
              : t.updateAllFriendsOnlineStatus(e.onlineFriendStatuses);
          const i = e.onlineFriendStatuses[0];
          null ===
            (s = this.generalServicesController.onlineFriendController) ||
            void 0 === s ||
            s.updateFriendOnlineStatus(i);
        }
        onFriendReceivedRoomInvites(e) {
          var t;
          null ===
            (t = this.generalServicesController.onlineFriendController) ||
            void 0 === t ||
            t.receivedRoomInvites(e);
        }
        onFriendReceivedFriendRequest(e) {
          var t;
          null ===
            (t = this.generalServicesController.onlineFriendController) ||
            void 0 === t ||
            t.receivedFriendRequest(e);
        }
        onFriendRemoveRoomInvite(e) {
          var t;
          null ===
            (t = this.generalServicesController.onlineFriendController) ||
            void 0 === t ||
            t.removeRoomInvitesWithRoomId(e);
        }
        onFriendRoomInviteResponse(e) {
          var t;
          null ===
            (t = this.generalServicesController.onlineFriendController) ||
            void 0 === t ||
            t.friendRespondedToRoomInvite(e);
        }
        onFriendRoomInviteSentSuccessfully(e) {
          var t;
          null ===
            (t = this.generalServicesController.onlineFriendController) ||
            void 0 === t ||
            t.roomInviteSentToFriendSuccessfully(e);
        }
        onNotificationsReceived(e) {
          var t;
          null ===
            (t = this.generalServicesController.notificationActionController) ||
            void 0 === t ||
            t.addNotificationsToPanel(e);
        }
        onMarkedAsRead(e) {
          var t;
          null ===
            (t = this.generalServicesController.notificationActionController) ||
            void 0 === t ||
            t.markNotificationAsRead(e);
        }
        constructor(e) {
          this.generalServicesController = e;
        }
      }
    },
    11480: (e, t, s) => {
      "use strict";
      s.d(t, { y: () => b });
      var i = s(78311),
        n = s(9029),
        r = s(95176),
        o = s(32398),
        a = s(655),
        c = s(13618),
        l = s(13359),
        d = s(98487),
        u = s(73324),
        h = s(45023),
        p = s(23918),
        m = s(49265),
        g = s(86464),
        f = s(57363),
        y = s(73022);
      class b extends r.y {
        updateSuccess(e) {
          ((0, n.Wr)(
            this.body,
            {
              key: "strings:popups.freePlayDiceRoll.success",
              options: { roll: e },
            },
            "",
            "",
          ),
            this.changeCheckButtonText({
              key: "strings:homePage.colonistAds.citiesAndKnightsRanked.buttonName",
            }),
            (0, n.G0)(this.checkButton, () => {
              (0, c.Yf)(
                (0, c.VX)(l.T.EnterMatchmaking, d.Nw.RankedCitiesAndKnights4P),
              );
            }));
        }
        updateFailure(e) {
          ((0, n.Wr)(
            this.body,
            {
              key: "strings:popups.freePlayDiceRoll.failure",
              options: { roll: e },
            },
            "",
            "",
          ),
            this.removeCheckButton());
        }
        startRandomDiceCycle() {
          const e = [u, h, p, m, g, f];
          this.randomDiceInterval = setInterval(() => {
            const t = [0, 1, 2, 3, 4, 5].filter(
                (e) => e != this.currentDiceIndex,
              ),
              s = t[Math.floor(Math.random() * t.length)];
            ((this.currentDiceIndex = s), (this.diceImage.src = e[s]));
          }, 450);
        }
        stopRandomDiceCycle() {
          this.randomDiceInterval &&
            (clearInterval(this.randomDiceInterval),
            (this.randomDiceInterval = void 0));
        }
        async showDiceResult(e) {
          return new Promise((t) => {
            (setTimeout(() => {
              const t = [u, h, p, m, g, f];
              this.diceImage.src = t[e - 1];
            }, 600),
              setTimeout(() => {
                (this.diceImage.classList.remove("dice-rolling"),
                  this.diceImage.classList.add("dice-reveal"),
                  setTimeout(() => {
                    (this.diceImage.classList.remove("dice-reveal"), t());
                  }, 400));
              }, 1200));
          });
        }
        static getEligibleRollsText() {
          const e = [];
          for (let t = y.h6; t <= 6; t++) e.push(t);
          return 1 == e.length
            ? e[0].toString()
            : 2 == e.length
              ? e.join(" or ")
              : (e.pop(), e.join(", ") + ", or 6");
        }
        constructor() {
          (super(
            { key: "strings:popups.freePlayDiceRoll.title" },
            {
              key: "strings:popups.freePlayDiceRoll.body",
              options: { eligibleRolls: b.getEligibleRollsText() },
            },
            () => {},
            () => {},
            !0,
          ),
            (this.currentDiceIndex = 5),
            (this.diceImage = (0, n.zO)(this.body, i.am.Dice6, "dice-image")),
            this.changeCheckButtonText({
              key: "strings:popups.freePlayDiceRoll.checkButton",
            }),
            (0, n.G0)(this.checkButton, async () => {
              (this.stopRandomDiceCycle(),
                this.diceImage.classList.add("dice-rolling"));
              const e = await a.m.postRequestHandler(
                o.l.apiFreePlayDiceRoll(),
                void 0,
                void 0,
              );
              if (null == e) return;
              const t = e.json;
              null != t.diceRoll &&
                (await this.showDiceResult(t.diceRoll),
                t.diceRoll >= y.h6
                  ? this.updateSuccess(t.diceRoll)
                  : this.updateFailure(t.diceRoll));
            }),
            this.container.classList.add("popup-free-play-dice-roll"),
            this.startRandomDiceCycle(),
            this.show());
        }
      }
    },
    11673: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/stat_robbing_loss.a3c5f89c5c378bc559e2.svg";
    },
    11743: (e, t, s) => {
      "use strict";
      s.d(t, { v: () => u });
      var i = s(78311),
        n = s(95176),
        r = s(18587),
        o = s(76092),
        a = s(19966),
        c = s(9029),
        l = s(50482),
        d = s(90676);
      class u extends n.y {
        createBody() {
          const e = this.getBenefits(),
            t = (0, c.Le)(this.body, "popup-become-a-member-container"),
            s = (0, c.Le)(t, "popup-become-a-member-perks");
          for (const t of e) {
            const e = (0, c.Le)(s, "popup-become-a-member-perk");
            ((0, c.zO)(e, t.image),
              (0, c.n8)(e, t.title, ""),
              (0, c.Wr)(e, t.description, ""));
          }
          if (r.r.isUserOnDiscord) {
            const e = l.Zt.getMembershipProduct(
              i.Qb.PremiumMonthly,
            ).getDefaultPrice();
            (0, c.i5)(t, "", {
              key: "strings:storePage.sections.membership.billing.paidMonthly",
              options: { amount: e },
            });
          }
        }
        createTooltip() {
          const e = (0, c.zO)(
            this.header,
            i.am.InfoIcon,
            "popup-header-tooltip-container",
          );
          (0, d.j0)(
            e,
            {
              listTitle: { key: "strings:popups.becomeAMember.tooltip.title" },
              list: "strings:popups.becomeAMember.tooltip.body",
            },
            "bottom-end",
            void 0,
            "large",
          );
        }
        static sendAnalyticEvent(e) {
          const t = {
            type: o.k0.ABTestClickAnalytics,
            category: o.eX.ABTestClickAnalytics,
            floatValue: e,
          };
          a.CA.sendAnalyticEvent(t);
        }
        constructor(e, t, s = () => {}, i = !1) {
          (super(
            { key: "strings:roomPage.becomeAMember" },
            { key: "strings:colonistCommon.utils.emptyString" },
            () => {
              (e(), null != t && u.sendAnalyticEvent(t));
            },
            s,
            !0,
            {
              checkButtonCustomContent: {
                key: r.r.isUserOnDiscord
                  ? "strings:popups.becomeAMember.buttonNames.subscribe"
                  : "strings:popups.becomeAMember.buttonNames.goToStore",
              },
              showXButton: i,
            },
          ),
            i &&
              this.changeXButtonText({
                key: "strings:popups.becomeAMember.buttonNames.noThanks",
              }),
            this.createBody(),
            this.createTooltip(),
            this.show());
        }
      }
    },
    11773: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/knight_level1_inactive_bronze.930281c927fdcf863946.svg";
    },
    11903: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/settlement_pink.245ee8f50ee2f8d7d70c.svg";
    },
    12326: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_crown.5d5f9490c69ad1a8735c.svg";
    },
    12381: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/ship_move_red.f63cce82bdc206a2ca65.svg";
    },
    12403: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/map_gear_preview.3d928b26568c08378a20.png";
    },
    12535: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/knight_move_purple.4edbbf74d76bbffce56a.svg";
    },
    12688: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/city_wall_gold.984963f350d61fa96331.svg";
    },
    12745: (e, t, s) => {
      "use strict";
      e.exports =
        s.p +
        "assets/card_progress_trade_resource_monopoly.2e3904c38a24f239229c.svg";
    },
    12908: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_merchant_bronze.2db5564900399e5a4ebd.svg";
    },
    13047: (e, t, s) => {
      "use strict";
      s.d(t, { $: () => i });
      const i = 290;
    },
    13048: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/shuffle_card_after.40a7de690b9cb9e8c24f.png";
    },
    13250: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/ship_orange_north_west.17cb559e3cfc094e935b.svg";
    },
    13279: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_robber_santa.c641e2276bd0754e6856.svg";
    },
    13335: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/game_spritesheet_2.79495cc8f850e10c8598.json";
    },
    13359: (e, t, s) => {
      "use strict";
      s.d(t, { T: () => r, q: () => o });
      var i = s(74710),
        n = s(18587),
        r = (function (e) {
          return (
            (e.EnterMatchmaking = "matchmakingqueue"),
            (e.EnterBotGame = "enterbotgame"),
            (e.VideoAdTesting = "bidtest"),
            (e.Campaign = "campaign"),
            (e.Lobby = "lobby"),
            (e.Spectate = "spectate"),
            (e.MainPage = "mainpage"),
            (e.SelectMode = "selectmode"),
            (e.SuppressPopupsOnLoad = "suppresspopupsonload"),
            (e.DiscordLeaderboard = "discordleaderboard"),
            (e.DiscordStore = "discordstore"),
            (e.DiscordAbout = "discordabout"),
            (e.DiscordCareers = "discordcareers"),
            (e.DiscordChampionship25 = "discordchampionship25"),
            (e.DiscordChampionship26 = "discordchampionship26"),
            (e.DiscordCommunity = "discordcommunity"),
            (e.DiscordFAQ = "discordfaq"),
            (e.DiscordPrivacyPolicy = "discordprivacypolicy"),
            (e.DiscordPatchNotes = "discordpatchnotes"),
            (e.DiscordProfile = "discordprofile"),
            (e.DiscordGifting = "discordgifting"),
            (e.DiscordValues = "discordvalues"),
            (e.DiscordValuesExamples = "discordvaluesexamples"),
            (e.DiscordTerms = "discordterms"),
            (e.DiscordPressKit = "discordpresskit"),
            (e.DiscordRefundPolicy = "discordrefundpolicy"),
            (e.DiscordShareActivity = "discord-share-activity"),
            (e.MobileLeaderboard = "mobileleaderboard"),
            (e.MobileLobby = "mobilelobby"),
            (e.MobileHomepage = "mobilehomepage"),
            (e.MobileStore = "mobilestore"),
            (e.MobileProfile = "mobileprofile"),
            (e.ReferralInvitation = "share"),
            (e.MobileReactivation = "mobilereactivation"),
            e
          );
        })({});
      class o {
        static accessGameFromLink(e) {
          const t = this.getRoomIdFromUrl();
          null != t && e(t);
        }
        static getRoomIdFromUrl() {
          if (void 0 === window.location.hash) return;
          if ("" == window.location.hash) return;
          if (!this.isUrlPathRoot()) return;
          const e = window.location.hash.substr(1, window.location.hash.length);
          return Object.values(r).some((t) => e.startsWith(t)) || null == e
            ? void 0
            : e.toLocaleLowerCase();
        }
        static isUrlPathRoot() {
          const e = new RegExp(String.raw`\/${n.r.language}\/?`),
            t = location.pathname.replace(e, "/");
          return (
            "/" == t ||
            "/mobile" == t ||
            "/.proxy/discord/web" == t ||
            "/.proxy/discord/mobile" == t
          );
        }
        static extractHashAndValue(e) {
          const t = e.indexOf("#");
          if (-1 == t || t == e.length - 1)
            return { hash: void 0, value: void 0 };
          const s = e.slice(t + 1).split("=");
          return { hash: s[0], value: s.length > 1 ? s[1] : void 0 };
        }
        static getLanguagePrefix() {
          const e = new Map([
              ["zh", "zh-CN"],
              ["pt", "pt-PT"],
            ]),
            t = [...i.F2.languages, ...e.keys()],
            s = window.location.pathname.split("/");
          if (s.length < 2) return "";
          const n = s[1];
          return t.includes(n) ? n : "";
        }
        static getPathnameWithoutLanguagePrefix() {
          const e = window.location.pathname;
          if (!this.getLanguagePrefix()) return e;
          return "/" + e.split("/").slice(2).join("/");
        }
        static getRelativeUrlWithoutLanguagePrefix() {
          return (
            this.getPathnameWithoutLanguagePrefix() +
            window.location.search +
            window.location.hash
          );
        }
      }
    },
    13399: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/lobby_ad_discordlogin.8384f19f1752419065e3.svg";
    },
    13618: (e, t, s) => {
      "use strict";
      s.d(t, {
        $$: () => h,
        BA: () => y,
        Ez: () => l,
        Sv: () => u,
        TF: () => d,
        VX: () => v,
        XT: () => p,
        Yf: () => S,
        a8: () => g,
        b3: () => c,
        er: () => k,
        gN: () => m,
        mE: () => b,
      });
      var i = s(30506);
      if (!/^(251|517|837)$/.test(s.j)) var n = s(51061);
      var r = s(18587),
        o = s(18514),
        a = s(42466);
      function c(e) {
        const t = Math.floor(e / i.Re.MINUTES_IN_HOUR / i.Re.SECONDS_IN_MINUTE),
          s = Math.floor(
            (e % (i.Re.SECONDS_IN_MINUTE * i.Re.MINUTES_IN_HOUR)) /
              i.Re.SECONDS_IN_MINUTE,
          ),
          n = Math.floor(e % i.Re.SECONDS_IN_MINUTE);
        let r = "";
        return (
          t > 0 && (r += t + ":"),
          (r += String(s).padStart(2, "0")),
          (r += ":"),
          (r += String(n).padStart(2, "0")),
          r
        );
      }
      function l(e, t) {
        (t || (t = window.location.href), (e = e.replace(/[[\]]/g, "\\$&")));
        const s = new RegExp("[?&]" + e + "(=([^&#]*)|&|#|$)").exec(t);
        return s
          ? s[2]
            ? decodeURIComponent(s[2].replace(/\+/g, " "))
            : ""
          : null;
      }
      function d(e) {
        return e
          .toUpperCase()
          .split("")
          .map((e) => 127397 + e.charCodeAt(0))
          .map((e) => e.toString(16))
          .join("-");
      }
      function u(e) {
        switch (e) {
          case "NA":
          case "SA":
          default:
            return "1f30e";
          case "EU":
          case "AF":
            return "1f30d";
          case "AS":
          case "OC":
            return "1f30f";
        }
      }
      function h() {
        const e = window.navigator.userAgent.toLowerCase(),
          t = e.indexOf("safari") > -1 && -1 == e.indexOf("chrome"),
          s = e.indexOf("version/15.4") >= 0,
          i = null !== e.match(/cpu (os|iphone os) 15_4 like mac os x/);
        return t && (s || i);
      }
      function p() {
        return !(window.innerWidth < 480) && !(window.innerWidth > 991);
      }
      function m() {
        i.n.randomBool()
          ? S(
              "https://play.google.com/store/apps/details?id=com.colonist.colonist",
              !0,
            )
          : S("https://apps.apple.com/us/app/colonist-io/id6444831129", !0);
      }
      function g(e) {
        return (0, n.A)(e, i.R$.secondsAsMilliseconds(2), { trailing: !1 });
      }
      let f = !1;
      function y(e) {
        return async (t) => {
          if (!f) {
            f = !0;
            try {
              await e(t);
            } finally {
              f = !1;
            }
          }
        };
      }
      function b() {
        const e = o.vX.getLanguagePathPrefix();
        return r.r.isUserOnDiscordMobile
          ? `/.proxy${e}/discord/mobile`
          : r.r.isUserOnDiscord
            ? `/.proxy${e}/discord/web`
            : r.r.isUserOnMobile || r.r.isUserOnMobileAppOrWeb
              ? `${e}/mobile`
              : `${e}/`;
      }
      function v(e, t) {
        return `${b()}#${e}=${t}`;
      }
      function S(e, t = !1, s = !1) {
        a.y.closeAllPopups();
        const i = !e.startsWith("/") && !e.includes(window.location.origin),
          n = e.includes("/auth/") || e.includes("/auth-link/");
        if (r.r.isUserOnMobileAppOrWeb && !i && !n)
          return s
            ? k(e)
            : (function (e) {
                const t = e.startsWith("/")
                    ? `${window.location.origin}${e}`
                    : e,
                  s = new URL(t),
                  i = `${s.pathname}${s.search}${s.hash}`,
                  n = i.includes("/mobile") ? i : `/mobile${i}`;
                (history.pushState({}, "", n),
                  setTimeout(() => window.location.reload(), 100));
              })(e);
        window.open(e, t ? "_blank" : "_self");
      }
      function k(e) {
        const t = document.createElement("a");
        ((t.href = decodeURIComponent(e)),
          document.body.appendChild(t),
          t.click(),
          document.body.removeChild(t));
      }
    },
    13647: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/card_rescardback.03c18312a76028b0d9c9.svg";
    },
    13657: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_info.0f1a765945c77be429ac.svg";
    },
    14177: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/icon_square_active_politics.1069d867d5d5997126d1.svg";
    },
    14433: (e, t, s) => {
      "use strict";
      e.exports =
        s.p +
        "assets/message_appears_without_username_avatar_before.47b64cfeac26eb479424.png";
    },
    14466: (e, t, s) => {
      "use strict";
      e.exports =
        s.p +
        "assets/knight_level1_inactive_mysticblue.4be0cd1ca2192d885d8e.svg";
    },
    14602: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/map_earth_preview.d98aa9a56b808c58f4a7.png";
    },
    14678: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/stat_proposed_trades.1a6be16007bb4bb2d229.svg";
    },
    14816: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/ab_gifting.e25a2bdd24a7d9ce1aed.png";
    },
    15166: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/map_goldrush_preview.a33313f7fd0419b2b041.png";
    },
    15450: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/stat_res_loss.7c234194ec305b715f32.svg";
    },
    15549: (e, t, s) => {
      "use strict";
      s.d(t, { P: () => h });
      var i = s(30506),
        n = s(5603),
        r = s(78311),
        o = s(66681),
        a = s(74710),
        c = s(84235),
        l = s(83633);
      if (!/^(251|517|837)$/.test(s.j)) var d = s(48139);
      var u = s(63778);
      class h {
        static run(e, t) {
          if (null == e) return;
          if (e.gameSetting.id != t.gameSetting.id) return;
          new h(e, t).notify();
        }
        notify() {
          (this.playSounds(),
            this.notifyPrivateGameChanged(),
            this.notifyNoTrollsChanged(),
            this.notifyBotAdded(),
            this.notifyMapChanged(),
            this.notifyGameModeChanged(),
            this.notifyDiceTypeChanged(),
            this.notifyVpToWinChanged(),
            this.notifyCardDiscardLimitChanged(),
            this.notifyFriendlyRobberChanged(),
            this.notifyHideBankCardsChanged(),
            this.notifyMaxPlayersChanged(),
            this.notifyGameSpeedChanged(),
            this.notifyPlayOrderSelectionActiveChanged(),
            this.notifyPlayerDisconnected(),
            this.notifyPlayerConnected(),
            this.notifyHostChanged(),
            this.notifyPlayerColorChanged());
        }
        playSounds() {
          if (
            !i.BF.isObjectEqual(
              this.oldRoomState.gameSetting,
              this.newRoomState.gameSetting,
            )
          )
            return void n.A.play(n.h.RoomSettingUpdated);
          const e = this.oldRoomState
            .getSessions()
            .filter((e) => e.isReadyToPlay).length;
          this.newRoomState.getSessions().filter((e) => e.isReadyToPlay)
            .length > e && n.A.play(n.h.RoomGetReady);
        }
        notifyNoTrollsChanged() {
          this.oldRoomState.isNoTrollsGame() !=
            this.newRoomState.isNoTrollsGame() &&
            (this.wasAndIsHost ||
              (this.newRoomState.isNoTrollsGame()
                ? this.showNotification({
                    key: "strings:roomPage.notifications.enabledNoTrollsGame",
                    options: {
                      minimumKarma: this.newRoomState.gameSetting.minimumKarma,
                    },
                  })
                : this.showNotification({
                    key: "strings:roomPage.notifications.disabledNoTrollsGame",
                  })));
        }
        notifyPrivateGameChanged() {
          this.oldRoomState.gameSetting.privateGame !=
            this.newRoomState.gameSetting.privateGame &&
            (this.wasAndIsHost ||
              (this.newRoomState.gameSetting.privateGame
                ? this.showNotification({
                    key: "strings:roomPage.notifications.roomChangedToPrivate",
                  })
                : this.showNotification({
                    key: "strings:roomPage.notifications.roomChangedToPublic",
                  })));
        }
        notifyBotAdded() {
          this.oldRoomState.getSessions().filter((e) => e.isBot).length >=
            this.newRoomState.getSessions().filter((e) => e.isBot).length ||
            this.showNotification({
              key: "strings:roomPage.notifications.botAdded",
            });
        }
        notifyMapChanged() {
          if (
            this.oldRoomState.gameSetting.mapSetting ==
            this.newRoomState.gameSetting.mapSetting
          )
            return;
          if (this.wasAndIsHost) return;
          const e = c.X.getMapDataForMap(
            this.newRoomState.gameSetting.mapSetting,
          );
          if (null == e) return;
          const t = (0, a.dN)(
            { key: "strings:roomPage.notifications.changedMap" },
            { map: e.name },
          );
          this.showNotification(t);
        }
        notifyGameModeChanged() {
          if (
            this.oldRoomState.gameSetting.modeSetting ==
            this.newRoomState.gameSetting.modeSetting
          )
            return;
          if (this.wasAndIsHost) return;
          const e = l.qq.getModeDataForMode(
            this.newRoomState.gameSetting.modeSetting,
          );
          if (null == e) return;
          const t = (0, a.dN)(
            { key: "strings:roomPage.notifications.changedGameMode" },
            { gameMode: e.name },
          );
          this.showNotification(t);
        }
        notifyDiceTypeChanged() {
          this.oldRoomState.gameSetting.diceSetting !=
            this.newRoomState.gameSetting.diceSetting &&
            (this.wasAndIsHost ||
              this.showNotification({
                key: "strings:roomPage.notifications.changedDice",
                options: {
                  diceSetting: `${r.ZP[this.newRoomState.gameSetting.diceSetting]}`,
                },
              }));
        }
        notifyVpToWinChanged() {
          this.oldRoomState.gameSetting.victoryPointsToWin !=
            this.newRoomState.gameSetting.victoryPointsToWin &&
            (this.wasAndIsHost ||
              this.showNotification({
                key: "strings:roomPage.notifications.changedVpToWin",
                options: {
                  vpToWin: this.newRoomState.gameSetting.victoryPointsToWin,
                },
              }));
        }
        notifyCardDiscardLimitChanged() {
          this.oldRoomState.gameSetting.cardDiscardLimit !=
            this.newRoomState.gameSetting.cardDiscardLimit &&
            (this.wasAndIsHost ||
              this.showNotification({
                key: "strings:roomPage.notifications.changedCardDiscardLimit",
                options: {
                  cardDiscardLimit:
                    this.newRoomState.gameSetting.cardDiscardLimit,
                },
              }));
        }
        notifyFriendlyRobberChanged() {
          this.oldRoomState.gameSetting.friendlyRobber !=
            this.newRoomState.gameSetting.friendlyRobber &&
            (this.wasAndIsHost ||
              this.showNotification({
                key: "strings:roomPage.notifications.changedFriendlyRobber",
                options: {
                  context:
                    this.newRoomState.gameSetting.friendlyRobber.toString(),
                },
              }));
        }
        notifyHideBankCardsChanged() {
          this.oldRoomState.gameSetting.hideBankCards !=
            this.newRoomState.gameSetting.hideBankCards &&
            (this.wasAndIsHost ||
              this.showNotification({
                key: "strings:roomPage.notifications.changedHideBankCards",
                options: {
                  context:
                    this.newRoomState.gameSetting.hideBankCards.toString(),
                },
              }));
        }
        notifyMaxPlayersChanged() {
          this.oldRoomState.gameSetting.maxPlayers !=
            this.newRoomState.gameSetting.maxPlayers &&
            (this.wasAndIsHost ||
              this.showNotification({
                key: "strings:roomPage.notifications.changedMaxPlayers",
                options: {
                  maxPlayers: this.newRoomState.gameSetting.maxPlayers,
                },
              }));
        }
        notifyGameSpeedChanged() {
          this.oldRoomState.gameSetting.gameSpeed !=
            this.newRoomState.gameSetting.gameSpeed &&
            (this.wasAndIsHost ||
              this.showNotification({
                key: "strings:roomPage.notifications.changedTurnTimer",
                options: {
                  turnTimer: `${r.ro[this.newRoomState.gameSetting.gameSpeed]}`,
                },
              }));
        }
        notifyPlayOrderSelectionActiveChanged() {
          this.oldRoomState.gameSetting.playOrderSelectionActive !=
            this.newRoomState.gameSetting.playOrderSelectionActive &&
            (this.wasAndIsHost ||
              (this.newRoomState.gameSetting.playOrderSelectionActive
                ? this.showNotification({
                    key: "strings:roomPage.notifications.enabledPlayOrderSelection",
                  })
                : this.showNotification({
                    key: "strings:roomPage.notifications.disabledPlayOrderSelection",
                  })));
        }
        notifyHostChanged() {
          this.oldRoomState.hostSession.roomSessionId !=
            this.newRoomState.hostSession.roomSessionId &&
            this.showNotification({
              key: "strings:roomPage.notifications.newHostIs",
              options: { username: this.newRoomState.hostSession.username },
            });
        }
        notifyPlayerDisconnected() {
          const e = (0, d.A)(this.newRoomState.getSessions(), "roomSessionId");
          for (const t of this.oldRoomState.getSessions())
            null == e[t.roomSessionId] &&
              (this.oldRoomState.hostSession.roomSessionId == t.roomSessionId
                ? this.showNotification({
                    key: "strings:roomPage.notifications.hostDisconnected",
                    options: { username: t.username },
                  })
                : null != t.userId &&
                    this.newRoomState.kickedUserIds.includes(t.userId)
                  ? this.showNotification({
                      key: "strings:roomPage.notifications.hostKickedUser",
                      options: {
                        hostUsername: this.newRoomState.hostSession.username,
                        kickedUsername: t.username,
                      },
                    })
                  : this.showNotification({
                      key: "strings:roomPage.notifications.userDisconnected",
                      options: { username: t.username },
                    }));
        }
        notifyPlayerConnected() {
          const e = (0, d.A)(this.oldRoomState.getSessions(), "roomSessionId");
          for (const t of this.newRoomState.getSessions())
            null == e[t.roomSessionId] &&
              this.mySessionId != t.userSessionId &&
              (t.isBot ||
                this.showNotification({
                  key: "strings:roomPage.notifications.userConnected",
                  options: { username: t.username },
                }));
        }
        notifyPlayerColorChanged() {
          const e = (0, d.A)(this.oldRoomState.getSessions(), "roomSessionId");
          for (const t of this.newRoomState.getSessions()) {
            if (t.isBot) continue;
            const s = e[t.roomSessionId];
            null != s &&
              s.selectedColor != t.selectedColor &&
              this.showNotification({
                key: "strings:roomPage.notifications.userSelectedColor",
                options: {
                  username: t.username,
                  color: `${u.DS[t.selectedColor]}`,
                },
              });
          }
        }
        showNotification(e) {
          o.OV.showNotification(r.am.Lightning, e);
        }
        constructor(e, t) {
          ((this.oldRoomState = e),
            (this.newRoomState = t),
            (this.mySessionId = o.sZ.controller.session.id),
            (this.wasAndIsHost =
              e.isHost(this.mySessionId) && t.isHost(this.mySessionId)));
        }
      }
    },
    15730: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/lobby_ad_ranked.cc2328766ae089287e70.png";
    },
    15756: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/sfx_offer_acceptable.a5cb7ea299386e908402.mp3";
    },
    15902: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/sfx_devcard_bought.46ffc2c18d78b9b26aa1.mp3";
    },
    16208: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/city_green.d7ea2b2bde643e17efe1.svg";
    },
    16508: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_forward.74054acf204e9ff545aa.svg";
    },
    16621: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/stat_resource_income_blocked.49327c9b6d919cacc899.svg";
    },
    16647: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/prob_2.08c89e29dd2e12da2ea4.svg";
    },
    16845: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/card_progress_politics_bishop.8f94776d21efcacfa196.svg";
    },
    16968: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/settlement_silver.c1ebe2cf2c224c47ce21.svg";
    },
    17057: (e, t, s) => {
      "use strict";
      s.d(t, { g: () => i });
      class i {}
    },
    17071: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/knight_move_gold.f4c9ec15fba4a9d4cc5a.svg";
    },
    17112: (e, t, s) => {
      "use strict";
      s.d(t, { K: () => i });
      class i {}
    },
    17130: (e, t, s) => {
      "use strict";
      s.d(t, { x: () => d });
      var i = s(655),
        n = s(32398),
        r = s(81888),
        o = s(87220),
        a = s(9029),
        c = s(66681),
        l = s(18587);
      class d {
        static async shareOrCopyLink(e, t) {
          const s = t
            ? () => d.getShareableLinkInReplay(t)
            : () => d.getShareableLinkInGameEnd(e);
          if (l.r.isUserOnMobileAppOrWeb) {
            const e = await s();
            if (null == e) return;
            c.IH.openShareLinkMobileModal(e);
          } else await d.copyShareableLink(s);
        }
        static async getShareableLinkInReplay(e) {
          const t = e.replayData.databaseGameId,
            s = d.getShareableLinkPerspectiveInReplay(e),
            i = await d.getShareableLinkWithPerspective(t, s);
          if (null == i) return;
          const n = e.getCurrentAction();
          return d.addActionToShareableLink(i, n);
        }
        static async getShareableLinkInGameEnd(e) {
          const t = c.sZ.gameListener.databaseGameId,
            s = d.getShareableLinkPerspectiveInGameEnd(e);
          return await d.getShareableLinkWithPerspective(t, s);
        }
        static async getShareableLinkWithPerspective(e, t) {
          const s = n.l.apiReplayShareableLink(e, t.toString()),
            r = await i.m.getRequestHandler(s, void 0);
          if (null != r) return r.json;
        }
        static async copyShareableLink(e) {
          const t = "text/plain",
            s = new ClipboardItem({
              [t]: (async () => {
                const s =
                  void 0 !== (0, o.Ak)(window.location.href)
                    ? location.href
                    : await e();
                return null == s
                  ? new Blob([""], { type: t })
                  : new Blob([s], { type: t });
              })(),
            });
          try {
            await navigator.clipboard.write([s]);
          } catch {
            const e = await s.getType(t),
              i = await e.text(),
              n = (0, a.cE)(
                document.body,
                i,
                { key: "strings:colonistCommon.utils.emptyString" },
                "",
              );
            ((n.target = "_blank"), n.click());
          }
        }
        static getShareableLinkPerspectiveInReplay(e) {
          var t;
          const s = e.replayData.playerUserStates,
            i = e.replayData.playerPerspective,
            n = s.find((e) => e.selectedColor === i);
          if (
            (null === (t = r._.userState) || void 0 === t ? void 0 : t.id) ===
            (null == n ? void 0 : n.userId)
          )
            return i;
          const o = s.find((e) => {
            var t;
            return (
              e.userId ===
              (null === (t = r._.userState) || void 0 === t ? void 0 : t.id)
            );
          });
          return void 0 !== o ? o.selectedColor : i;
        }
        static getShareableLinkPerspectiveInGameEnd(e) {
          const t = e.myColor,
            s = e.playOrder;
          return e.isPlayerSpectator ? s[0] : t;
        }
        static addActionToShareableLink(e, t) {
          if (-1 === t) return e;
          const s = new URL(e);
          return (s.searchParams.set(o.qe, t.toString()), s.href);
        }
      }
    },
    17326: (e, t, s) => {
      "use strict";
      s.d(t, { Lo: () => r, RD: () => i, j3: () => o, zz: () => n });
      var i = (function (e) {
          return (
            (e.Popup = "popup"),
            (e.Fullscreen = "fullscreen"),
            (e.Discord = "discord"),
            (e.Mobile = "mobile"),
            e
          );
        })({}),
        n = (function (e) {
          return (
            (e.Classic4P = "bg"),
            (e.Classic56P = "56p"),
            (e.Seafarers4P = "sf"),
            (e.CitiesAndKnights4P = "ck"),
            (e.ColonistRush4P = "colonistrush"),
            e
          );
        })({});
      function r(e) {
        switch (e) {
          case "bg":
            return "";
          case "56p":
            return "/5-6-player";
          case "sf":
            return "/seafarers";
          case "ck":
            return "/cities-and-knights";
          case "colonistrush":
            return "/colonist-rush";
        }
      }
      function o(e) {
        return "fullscreen" == e ? "" : `/${e}`;
      }
    },
    17332: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/dice_red_5.a762355ebd78a9a928b4.svg";
    },
    17399: (e, t, s) => {
      "use strict";
      s.d(t, {
        CK: () => d,
        Ox: () => o,
        W: () => l,
        fr: () => u,
        r9: () => r,
        tu: () => h,
        vV: () => c,
        yl: () => a,
      });
      var i = s(78311),
        n = s(34915);
      const r = 1,
        o = 0.4;
      function a(e, t, s) {
        return e + s > t && e - s < t;
      }
      function c(e, t) {
        const s =
          "Something went wrong, please contact admins at " +
          i.gq.SUPPORT_EMAIL +
          "  with copying this log and explaining what actions you took right before this error.";
        (console.log(s), l(e, t));
      }
      function l(e, t) {
        console.info(e);
        for (const e of t) console.info(e);
      }
      function d() {
        window.history.replaceState(
          null,
          "",
          window.location.pathname + window.location.hash,
        );
      }
      function u() {
        history.pushState(
          "",
          document.title,
          window.location.pathname + window.location.search,
        );
      }
      function h(e) {
        return n.j.getImgPath(e);
      }
    },
    17456: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/ship_move_bronze.4f896724b2f5cc8e79b1.svg";
    },
    17564: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/base.c74e2265b966061da592.svg";
    },
    17972: (e, t, s) => {
      "use strict";
      s.d(t, { f: () => r });
      var i = s(78311),
        n = s(92524);
      class r {
        getProductName() {
          return this.title;
        }
        getDefaultPrice() {
          return "$" + this.price / 100;
        }
        getUSDPrice() {
          return this.price / 100;
        }
        static getOneTimePurchaseProduct(e, t = 1) {
          const s = this.products.get(e);
          return ((s.itemQuantity = t), s);
        }
        static initProducts(e) {
          (this.products.set(
            i.IM.Holiday2023AllAccessPass,
            new r({
              type: i.IM.Holiday2023AllAccessPass,
              title: {
                key: "strings:storePage.sections.holiday_sale.title",
                options: { context: "full" },
              },
              price: 699,
              discordSKUId: e.passAllAccessHoliday2023,
              lobbyImage: i.am.StoreMembershipHoliday2023,
              isActive: () => !1,
            }),
          ),
            this.products.set(
              i.IM.GiftPlusMonthly,
              new r({
                type: i.IM.GiftPlusMonthly,
                title: { key: "strings:storePage.membership.title.plus" },
                price: 899,
                discordSKUId: e.giftMembershipPlus,
                lobbyImage: i.am.StoreMembershipPlus,
                isActive: () => !0,
              }),
            ),
            this.products.set(
              i.IM.GiftPremiumMonthly,
              new r({
                type: i.IM.GiftPremiumMonthly,
                title: { key: "strings:storePage.membership.title.premium" },
                price: 1899,
                discordSKUId: e.giftMembershipPremium,
                lobbyImage: i.am.StoreMembershipPremium,
                isActive: () => !0,
              }),
            ),
            this.products.set(
              i.IM.GiftEliteMonthly,
              new r({
                type: i.IM.GiftEliteMonthly,
                title: { key: "strings:storePage.membership.title.elite" },
                price: 2499,
                discordSKUId: e.giftMembershipElite,
                lobbyImage: i.am.StoreMembershipElite,
                isActive: () => !0,
              }),
            ),
            this.products.set(
              i.IM.GiftPlusYearly,
              new r({
                type: i.IM.GiftPlusYearly,
                title: { key: "strings:storePage.membership.title.plus" },
                price: 8388,
                discordSKUId: e.giftMembershipPlusYearly,
                lobbyImage: i.am.StoreMembershipPlus,
                isActive: () => !0,
              }),
            ),
            this.products.set(
              i.IM.GiftPremiumYearly,
              new r({
                type: i.IM.GiftPremiumYearly,
                title: { key: "strings:storePage.membership.title.premium" },
                price: 17988,
                discordSKUId: e.giftMembershipPremiumYearly,
                lobbyImage: i.am.StoreMembershipPremium,
                isActive: () => !0,
              }),
            ),
            this.products.set(
              i.IM.GiftEliteYearly,
              new r({
                type: i.IM.GiftEliteYearly,
                title: { key: "strings:storePage.membership.title.elite" },
                price: 23988,
                discordSKUId: e.giftMembershipEliteYearly,
                lobbyImage: i.am.StoreMembershipElite,
                isActive: () => !0,
              }),
            ));
        }
        constructor(e) {
          ((this.storeProductType = n.l6.OneTimePurchase),
            (this.stripeCheckoutType = n.hg.Payment),
            (this.itemQuantity = 1),
            Object.assign(this, e));
        }
      }
      r.products = new Map();
    },
    18311: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/stat_chits.a24f02f30af0642eaa37.svg";
    },
    18366: (e, t, s) => {
      "use strict";
      e.exports =
        s.p +
        "assets/card_progress_trade_merchant_fleet.7f798e55127b89f1c966.svg";
    },
    18514: (e, t, s) => {
      "use strict";
      s.d(t, { aA: () => m, a7: () => u, vX: () => h, nJ: () => p });
      var i = s(88082),
        n = s(83057),
        r = s(74710),
        o = s(9029),
        a = s(18587),
        c = s(81888),
        l = s(41931);
      const d = {
        strings: {
          af: s.p + "locales/af_strings.06874a58f8bdc797b655.json",
          ar: s.p + "locales/ar_strings.fc304a83089acce27172.json",
          ca: s.p + "locales/ca_strings.5eb07a0e2e384c3b4ea5.json",
          cs: s.p + "locales/cs_strings.d0d5ce19ba378a86c009.json",
          da: s.p + "locales/da_strings.b3713ccb19688b1317b0.json",
          de: s.p + "locales/de_strings.1adee56d4c8e380c6d16.json",
          el: s.p + "locales/el_strings.0d24190d28820e696c67.json",
          en: s(70925),
          es: s.p + "locales/es_strings.4d92e98fbc12a01e8e67.json",
          fi: s.p + "locales/fi_strings.b40d85318e932ee6aac8.json",
          fr: s.p + "locales/fr_strings.2f3d079291723a8f7270.json",
          he: s.p + "locales/he_strings.feaa5fab200f37146ad6.json",
          hi: s.p + "locales/hi_strings.69485e82097b7581019e.json",
          hu: s.p + "locales/hu_strings.6448ac5c985d9ee58ad9.json",
          it: s.p + "locales/it_strings.723a72d7e8abf3c56437.json",
          ja: s.p + "locales/ja_strings.3d9995efcd1d9c4eb328.json",
          ko: s.p + "locales/ko_strings.d2ccd57e39cd00bcc581.json",
          nl: s.p + "locales/nl_strings.f429f04ee62fe4690b53.json",
          no: s.p + "locales/no_strings.2c4097d548b0f1f86e66.json",
          pl: s.p + "locales/pl_strings.ceb3894c4641eaf8f0a2.json",
          "pt-BR": s.p + "locales/pt-BR_strings.742407442c47dcccc6cb.json",
          "pt-PT": s.p + "locales/pt-PT_strings.37972ef71d53bb56fead.json",
          ro: s.p + "locales/ro_strings.b8816705807024a68de1.json",
          ru: s.p + "locales/ru_strings.19f8776122c65b57e6c5.json",
          sr: s.p + "locales/sr_strings.23e8d23deccf33009a83.json",
          sv: s.p + "locales/sv_strings.369c3c64cac95132922a.json",
          th: s.p + "locales/th_strings.f60350f09eb539c1db69.json",
          tr: s.p + "locales/tr_strings.2a95a2e027992a04c8dc.json",
          uk: s.p + "locales/uk_strings.90b9af2ebc2c276119ef.json",
          vi: s.p + "locales/vi_strings.6bd7415b5c869baf75b0.json",
          "zh-CN": s.p + "locales/zh-CN_strings.5db62bd49cf2caf30e3f.json",
          "zh-TW": s.p + "locales/zh-TW_strings.a4523597fdbaef4b8de7.json",
        },
      };
      !(function (e) {
        const t = i.Ay;
        e.init = async function () {
          ((0, o.i9)((e, t) => u.t(e, t)),
            await t
              .use(n.A)
              .init({
                lng: a.r.language,
                fallbackLng: r.F2.defaultLanguage,
                ns: r.WO.Strings,
                backend: { loadPath: (e, t) => d[t][e] },
                defaultNS: r.WO.Strings,
                interpolation: { skipOnVariables: !1 },
              }),
            c._.registerChangeListener((e) => {
              if (null == e) return;
              if (c._.isStale()) return;
              var t;
              const s =
                null !== (t = e.language) && void 0 !== t
                  ? t
                  : r.F2.defaultLanguage;
              (l.p.getLanguage() != s && l.p.setLanguage(s),
                a.r.language != s &&
                  a.r.language == r.F2.defaultLanguage &&
                  (window.location.pathname = p(window.location.pathname, s)));
            }));
        };
      })(m || (m = {}));
      const u = new r.oL(i.Ay);
      const h = new (class {
        getLanguageName(e, t) {
          const s = null != t ? t : this.defaultLocale;
          try {
            return new Intl.DisplayNames(s, { type: "language" }).of(e);
          } catch (t) {
            return r.F2.languageEnglishNames[e];
          }
        }
        getCountryName(e, t) {
          const s = null != t ? t : this.defaultLocale;
          try {
            return new Intl.DisplayNames(s, { type: "region" }).of(e);
          } catch (e) {
            return;
          }
        }
        getLanguagePathPrefix() {
          return this.defaultLocale === r.F2.defaultLanguage
            ? ""
            : `/${this.defaultLocale}`;
        }
        constructor(e) {
          this.defaultLocale = e;
        }
      })(a.r.language);
      function p(e, t) {
        var s;
        const i = e.split("/"),
          n = [];
        var o, a;
        "" == i[0] && n.push(null !== (o = i.shift()) && void 0 !== o ? o : "");
        ".proxy" == i[0] &&
          n.push(null !== (a = i.shift()) && void 0 !== a ? a : "");
        return (
          (null === (s = i[0]) || void 0 === s
            ? void 0
            : s.match(/^[a-z]{2}(-[a-z]{2})?$/i)) && i.shift(),
          t != r.F2.defaultLanguage && n.push(t),
          n.push(...i),
          "" == n[n.length - 1] && n.pop(),
          n.join("/")
        );
      }
      var m;
    },
    18536: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/bg_button_orange.2e4497beb68391151250.svg";
    },
    18587: (e, t, s) => {
      "use strict";
      s.d(t, { r: () => r });
      var i = s(41931),
        n = s(96990);
      class r {}
      ((r.language = window.language),
        (r.isProduction = window.isProduction),
        (r.freeMap = window.freeMap),
        (r.socketDebugActive = window.socketDebugActive),
        (r.ejsSocketServerWss = window.socketServerWSS),
        (r.logRocketId = window.logRocketId),
        (r.vliPrerollId = window.vliPreRoll),
        (r.isUserOnDiscord = window.isUserOnDiscord),
        (r.discordSDKClientId = window.discordSDKClientId),
        (r.isUserOnMobileAppOrWeb = n.N.isUserOnMobileAppOrWeb()),
        (r.isUserOnMobile = window.isUserOnMobile),
        (r.isUserOnTabletApp = n.N.isUserOnTabletApp()),
        (r.isUserOnDiscordMobile =
          window.isUserOnDiscordMobile || n.N.isUserOnDiscordMobile()),
        (r.shouldDisplayNewMobileGameUI = i.p.isPortraitGamePlayEnabled()),
        (r.discordSKUIds = window.discordSKUIds),
        (r.versionNumber = window.versionNumber),
        (r.analyticsActive = window.analyticsActive),
        (r.canPurchaseCoinsOnDiscord = window.canPurchaseCoinsOnDiscord),
        (r.showConsoleLogUI = window.showConsoleLogUI),
        (r.showVliAdAtBottomInGame = window.showVliAdAtBottomInGame),
        (r.frontendSentryDSN = window.frontendSentryDSN),
        (r.mobileAppSentryDSN = window.mobileAppSentryDSN),
        (r.frontendSentryEnvironment = window.frontendSentryEnvironment),
        (r.frontendSentryTraceSampleRate =
          window.frontendSentryTraceSampleRate),
        (r.vliPublicKey = window.vliPublicKey),
        (r.vliAdvKey = window.vliAdvKey),
        (r.supportEmail = window.supportEmail),
        (r.shouldHideStoreOnMobile = window.shouldHideStoreOnMobile),
        (r.shouldHideAdsOnMobile = window.shouldHideAdsOnMobile),
        (r.hotjarTrackingCode = window.hotjarTrackingCode),
        (r.shouldEnableNativePaymentsOnMobile =
          window.shouldEnableNativePaymentsOnMobile),
        (r.isPushNotificationsEnabled = window.isPushNotificationsEnabled),
        (r.activeLandscapePortraitABTest =
          window.activeLandscapePortraitABTest),
        (r.colonistRushEnabled = window.colonistRushEnabled),
        (r.rankedPrerollAdsEnabled = window.rankedPrerollAdsEnabled),
        (r.showUpdateAppPopupForVersion = window.showUpdateAppPopupForVersion),
        (r.hideLandscapeForNewPlayers = window.hideLandscapeForNewPlayers),
        (r.shouldDisableStoreOnAndroidMobile =
          window.shouldDisableStoreOnAndroidMobile),
        (r.discordActivityMobileOrientation =
          window.discordActivityMobileOrientation));
    },
    18797: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/card_cloth.d0d158fa81f0eb0b0a3b.svg";
    },
    19644: (e, t, s) => {
      "use strict";
      s.d(t, { R: () => r });
      var i = s(11743),
        n = s(78311);
      class r extends i.v {
        getBenefits() {
          return [
            {
              image: n.am.GameModeCnKSeafarers,
              title: {
                key: "strings:popups.becomeAMember.perks.allExpansions.title",
              },
              description: {
                key: "strings:popups.becomeAMember.perks.allExpansions.description",
              },
            },
            {
              image: n.am.MapUSAPreview,
              title: {
                key: "strings:popups.becomeAMember.perks.allMaps.title",
              },
              description: {
                key: "strings:popups.becomeAMember.perks.allMaps.description",
              },
            },
            {
              image: n.am.GameModeCnK,
              title: {
                key: "strings:popups.becomeAMember.perks.rankedCK.title",
              },
              description: {
                key: "strings:popups.becomeAMember.perks.rankedCK.description",
              },
            },
          ];
        }
        constructor(e, t, s = () => {}, i = !1) {
          super(e, t, s, i);
        }
      }
    },
    19720: (e, t, s) => {
      "use strict";
      s.d(t, { L: () => p });
      var i = s(95176),
        n = s(9029),
        r = s(78311),
        o = s(32398),
        a = s(19966),
        c = s(13618),
        l = s(18587),
        d = s(18514),
        u = s(41931),
        h = s(5603);
      class p extends i.y {
        createLoginButtons() {
          const e = (0, n.Le)(
            this.loginButtonsDiv,
            "popup-login-btn popup-login-google-btn",
            "",
          );
          ((0, n.zO)(e, r.am.GoogleIcon),
            (0, n.i5)(e, "", {
              key: "strings:popups.login.loginWith",
              options: { context: "google" },
            }));
          const t = (0, n.Le)(
            this.loginButtonsDiv,
            "popup-login-btn popup-login-discord-btn",
            "",
          );
          ((0, n.zO)(t, r.am.DiscordIcon),
            (0, n.i5)(t, "", {
              key: "strings:popups.login.loginWith",
              options: { context: "discord" },
            }));
          const s = (0, n.Le)(
            this.loginButtonsDiv,
            "popup-login-btn popup-login-apple-btn",
            "",
          );
          ((0, n.zO)(s, r.am.AppleIcon),
            (0, n.i5)(s, "", {
              key: "strings:popups.login.loginWith",
              options: { context: "apple" },
            }),
            (0, n.G0)(
              e,
              p.createLoginClickHandler(o.l.googleAuth(this.callbackHash)),
            ),
            (0, n.G0)(
              t,
              p.createLoginClickHandler(o.l.discordAuth(this.callbackHash)),
            ),
            (0, n.G0)(
              s,
              p.createLoginClickHandler(o.l.appleAuth(this.callbackHash)),
            ));
        }
        static createLoginClickHandler(e) {
          return () => {
            (h.A.play(h.h.Click),
              a.CA.sendGoogleTagManagerEvent(
                a.CA.GoogleTagManagerEvent.UserClickedLoginButton,
              ),
              a.CA.sendGoogleAnalyticsEvent(
                a.CA.Category.HeaderProfile,
                a.CA.Label.HeaderProfileClickedLogin,
              ),
              u.p.clearUserState(),
              (0, c.Yf)(e));
          };
        }
        constructor(e = !1, t) {
          (super(
            { key: "strings:homePage.header.login" },
            { key: "strings:colonistCommon.utils.emptyString" },
            () => {},
            () => {},
            !0,
          ),
            (this.preventClicksOutsideOfPopupFromClosingPopup = e),
            (this.callbackHash = t),
            (0, n.RH)(this.body, {
              key: "strings:colonistCommon.utils.emptyString",
            }));
          ((0, c.XT)() || l.r.isUserOnMobileAppOrWeb) && this.makeLarge();
          const s = (0, n.Le)(this.body, "popup-login-wrapper", ""),
            i = (0, n.Le)(s, "popup-login", ""),
            o = [
              "strings:popups.login.perks.addFriends",
              "strings:popups.login.perks.trackStats",
              "strings:popups.login.perks.accessMore",
              "strings:popups.login.perks.playRanked",
            ];
          for (const e of o) {
            const t = d.a7.tArray(e).join(" "),
              s = (0, n.Le)(i, "popup-login-perk", ""),
              o = (0, n.Le)(s, "", "");
            (0, n.zO)(o, r.am.CheckMark);
            const a = (0, n.Le)(s, "", "");
            (0, n.Wr)(
              a,
              {
                key: "strings:colonistCommon.utils.#buffer",
                options: { value: t },
              },
              "",
              "",
            );
          }
          ((this.loginButtonsDiv = (0, n.Le)(s, "popup-login-buttons", "")),
            this.createLoginButtons(),
            this.removeFooter(),
            this.show());
        }
      }
    },
    19733: (e, t, s) => {
      "use strict";
      s.d(t, { r: () => r });
      var i = s(95176),
        n = s(17399);
      class r {
        static createSimplePopup(e, t) {
          return this.create(
            e,
            t,
            () => {},
            () => {},
            !0,
            { showXButton: !1 },
          );
        }
        static createForceRefreshPopup(e, t) {
          return this.create(
            e,
            t,
            () => window.location.reload(),
            () => {},
            !0,
            { showXButton: !1 },
          );
        }
        static createLargePopup(e, t) {
          (this.create(
            e,
            t,
            () => {},
            () => {},
            !0,
            { showXButton: !1 },
          ),
            this.popup.makeLarge());
        }
        static create(e, t, s, n, r = !0, o) {
          if (this.canShowNewPopup())
            return (
              (this.popup = new i.y(e, t, s, n, r, o)),
              this.popup.show(),
              this.popup
            );
        }
        static canShowNewPopup() {
          return (
            null == this.popup ||
            !!this.popup.isRemoved() ||
            ((0, n.vV)("canShowNewPopup", [
              "Tried to show another popup but failed",
            ]),
            !1)
          );
        }
      }
    },
    19966: (e, t, s) => {
      "use strict";
      s.d(t, { CA: () => y });
      var i = s(30506),
        n = s(78311),
        r = s(18587),
        o = s(41931),
        a = s(18514),
        c = s(81888);
      class l {
        async init() {
          if (!this.active) return;
          if (null != this.logRocket) return;
          const { default: e } = await s.e(283).then(s.t.bind(s, 91355, 23));
          ((this.logRocket = e), await this.logRocket.init(r.r.logRocketId));
        }
        set(e) {
          var t;
          if (null == this.logRocket) return;
          if (null == c._.userState) return;
          const s = c._.userState.getPlayerKarmaStatusText();
          s.options = { ...s.options, lng: "en" };
          const i = a.a7.t(s.key, s.options);
          this.logRocket.identify(e.id, {
            name: c._.userState.username,
            loggedIn: String(
              null === (t = c._.userState) || void 0 === t
                ? void 0
                : t.isLoggedIn,
            ),
            karmaTextStatus: i,
            icon: String(n.am[c._.userState.icon]),
          });
        }
        constructor() {
          if (
            ((this.active = !1),
            (this.USER_SELECTION_DENOMINATOR = 1e4),
            "" == r.r.logRocketId)
          )
            return;
          const e = o.p.getLogRocket();
          if (0 == e) return;
          const t = i.n.randomIntBetween(0, this.USER_SELECTION_DENOMINATOR);
          ((this.active = e || 1 == t), e || o.p.setLogRocket(this.active));
        }
      }
      var d = s(72282);
      const u = [
        { browserName: "Chrome", browserVersion: "15.0.87", osName: "Linux" },
      ];
      function h() {
        const e = {
          browserName: d.name,
          browserVersion: d.version,
          osName: null === (t = d.os) || void 0 === t ? void 0 : t.family,
        };
        var t;
        for (const t of u) if (i.BF.isObjectEqual(t, e)) return !0;
        return !1;
      }
      var p = s(32398),
        m = s(655),
        g = s(98487);
      class f {
        async init() {
          if (this.shouldRecordThisSession && null == this.highlightController)
            try {
              const e = await s.e(117).then(s.bind(s, 34946));
              this.highlightController = e.H;
            } catch (e) {
              (console.error("Failed to load highlight.run", e),
                (this.shouldRecordThisSession = !1));
            }
        }
        async conditionallyStartRecording(e) {
          g.p9.ColonistRush4P;
        }
        async startRecording(e) {
          var t;
          (await this.init(),
            null != this.highlightController &&
              (this.highlightController.init(
                this.APP_ID,
                this.RECORDER_OPTIONS,
              ),
              this.highlightController.identify(
                null === (t = c._.userState) || void 0 === t ? void 0 : t.id,
                { context: e.context },
              )));
        }
        stopRecording() {
          null != this.highlightController && this.highlightController.stop();
        }
        getShouldRecordThisSession() {
          if (!r.r.isProduction) return !1;
          return (
            Math.random() <
            this.RECORDING_LIMIT_PER_MONTH / this.OUR_CURRENT_USAGE
          );
        }
        constructor() {
          ((this.APP_ID = "1epp9p7e"),
            (this.FRAME_RATE = 5),
            (this.RESOLUTION = 720),
            (this.RECORDING_LIMIT_PER_MONTH = 500),
            (this.AVG_BEGINNER_MODE_USERS_PER_MONTH = 16e3),
            (this.OUR_CURRENT_USAGE = this.AVG_BEGINNER_MODE_USERS_PER_MONTH),
            (this.DISCORD_SCRIPT_PROXY_URL =
              "/.proxy/highlight-static/v8.9.1/index.js"),
            (this.DISCORD_BACKEND_PROXY_URL = "/.proxy/highlight-pub"),
            (this.RECORDER_OPTIONS = {
              enableCanvasRecording: !0,
              samplingStrategy: {
                canvas: this.FRAME_RATE,
                canvasMaxSnapshotDimension: this.RESOLUTION,
              },
              environment: r.r.isProduction ? "production" : "test",
              version: r.r.versionNumber.toString(),
              networkRecording: {
                enabled: !0,
                recordHeadersAndBody: !0,
                urlBlocklist: [],
              },
              scriptUrl: r.r.isUserOnDiscord
                ? this.DISCORD_SCRIPT_PROXY_URL
                : void 0,
              backendUrl: r.r.isUserOnDiscord
                ? this.DISCORD_BACKEND_PROXY_URL
                : void 0,
            }),
            (this.shouldRecordThisSession = this.getShouldRecordThisSession()));
        }
      }
      var y,
        b = s(66681),
        v = s(96990);
      !(function (e) {
        var t, s, i;
        (((t = e.Category || (e.Category = {})).Funnel = "Funnel"),
          (t.General = "General"),
          (t.LandingPage = "LandingPage"),
          (t.Lobby = "Lobby"),
          (t.Room = "Room"),
          (t.Game = "Game"),
          (t.EndGame = "EndGame"),
          (t.Profile = "Profile"),
          (t.Store = "Store"),
          (t.Community = "Community"),
          (t.Mobile = "Mobile"),
          (t.HeaderProfile = "HeaderProfile"),
          ((s = e.Label || (e.Label = {})).FunnelNewUserEnteredSite =
            "funnel_new_user_entered_site"),
          (s.FunnelStartedGame = "funnel_started_game"),
          (s.FunnelGameGetResources = "funnel_game_get_resources"),
          (s.FunnelGameClickDice = "funnel_game_click_dice"),
          (s.FunnelGameClickPassTurn = "funnel_game_click_pass_turn"),
          (s.FunnelGameConfirmBuild = "funnel_game_confirm_build"),
          (s.FunnelFinishedGameCount = "funnel_finished_game_"),
          (s.FunnelStartedMultiplayerRoom = "funnel_started_multiplayer_room"),
          (s.FunnelLoggedIn = "funnel_logged_in"),
          (s.FunnelPurchasedPack = "funnel_purchased_pack"),
          (s.GeneralBrokenInternetConnection =
            "general_broken_internet_connection"),
          (s.AutoRejoinGame = "auto_rejoin_game"),
          (s.ClickedAdblockAd = "clicked_adblock_ad"),
          (s.GeneralPatchNotePopupSeconds = "general_patch_note_popup_seconds"),
          (s.GeneralShowingPatchNotePopup = "general_showing_patch_note_popup"),
          (s.GeneralUsesAdblock = "general_uses_ad_block"),
          (s.GeneralDoesntUseAdblock = "general_doesnt_use_ad_block"),
          (s.GeneralWebGLEnabled = "general_webgl_enabled"),
          (s.GeneralWebGLDisabled = "general_webgl_disabled"),
          (s.ClickedLobbyMainCTA = "clicked_lobby_maincta"),
          (s.ClickedCreateRoom = "clicked_create_room"),
          (s.ClickedVSBots = "clicked_vs_bots"),
          (s.ClickedFastRandomBotGame = "clicked_fast_random_bot_game"),
          (s.ClickedJoinRoom = "clicked_join_room"),
          (s.ClickedSpectate = "clicked_spectate"),
          (s.ClickedReconnectGame = "clicked_reconnect_game"),
          (s.ClickedPassTutorial = "clicked_pass_tutorial"),
          (s.ClickedStore = "clicked_store"),
          (s.ClickedLobbyPatchnotes = "clicked_patchnotes"),
          (s.ClickedLobbyGames = "clicked_lobby_games"),
          (s.ClickedLobbyRefresh = "clicked_lobby_refresh"),
          (s.ClickedLobbyRoomsTab = "clicked_lobby_roomstab"),
          (s.ClickedLobbySpectateTab = "clicked_lobby_spectatetab"),
          (s.ClickedEnterLobby = "clicked_enter_lobby"),
          (s.ClickedLandingPageMainCTA = "clicked_landingpage_maincta"),
          (s.ClickedLandingPageVSBots = "clicked_landingpage_vsbots"),
          (s.ClickedLandingPagePlayWithFriends =
            "clicked_landingpage_playwithfriends"),
          (s.ClickedLandingPageExploreModes =
            "clicked_landingpage_exploremodes"),
          (s.ClickedLandingPageOpenApp = "clicked_landingpage_openapp"),
          (s.ClickedRoomReadyToStart = "clicked_room_ready_to_start"),
          (s.ClickedRoomStartGame = "clicked_room_start_game"),
          (s.ClickedRoomCustomPlayOrderSelection =
            "clicked_room_custom_play_order_selection"),
          (s.ClickedRoomKickPlayer = "clicked_room_kick_player"),
          (s.ClickedRoomAddBot = "clicked_room_add_bot"),
          (s.ClickedRoomSettingChangePrivateGame =
            "clicked_room_setting_change_private_game"),
          (s.ClickedRoomSettingChangeNoTrollsSetting =
            "clicked_room_setting_change_high_karma_game"),
          (s.ClickedRoomSettingUpdateGameModeSetting =
            "clicked_room_setting_update_game_mode_setting"),
          (s.ClickedRoomSettingUpdateMapSetting =
            "clicked_room_setting_update_map_setting"),
          (s.ClickedRoomSettingUpdateDiceSetting =
            "clicked_room_setting_update_dice_setting"),
          (s.ClickedRoomSettingChangeVictoryPointsToWin =
            "clicked_room_setting_change_victory_points_to_win"),
          (s.ClickedRoomSettingChangeGameSpeed =
            "clicked_room_setting_change_game_speed"),
          (s.ClickedRoomSettingChangeBotSpeed =
            "clicked_room_setting_change_bot_speed"),
          (s.ClickedRoomSettingChangeCardDiscardLimit =
            "clicked_room_setting_change_card_discard_limit"),
          (s.ClickedRoomSettingChangeFriendlyRobber =
            "clicked_room_setting_change_friendly_robber"),
          (s.ClickedRoomSettingChangeHideBankCards =
            "clicked_room_setting_change_hide_bank_cards"),
          (s.ClickedRoomSettingChangeMaxPlayers =
            "clicked_room_setting_change_max_players"),
          (s.ClickedRoomSettingChangePlayOrderSelection =
            "clicked_room_setting_change_play_order_selection"),
          (s.ClickedRoomExit = "clicked_room_exit"),
          (s.ClickedRoomMapPreview = "clicked_room_map_preview"),
          (s.ClickedRoomGameSpeedInfo = "clicked_room_game_speed_info"),
          (s.ClickedGameLobbyButton = "clicked_game_lobby_button"),
          (s.ClickedGameLobbyButtonAccept = "clicked_game_lobby_button_accept"),
          (s.ClickedGameSoundButton = "clicked_game_sound_button"),
          (s.ClickedGameSettingsButton = "clicked_game_settings_button"),
          (s.ClickedGameRulesButton = "clicked_game_rules_button"),
          (s.ClickedGameTradeButton = "clicked_game_trade_button"),
          (s.ClickedGameCardForTrade = "clicked_game_card_for_trade"),
          (s.GameFramesPerSecond = "game_frames_per_second"),
          (s.ClickedEndGameOverview = "clicked_endgame_overview"),
          (s.ClickedEndGameDiceStats = "clicked_endgame_dice_stats"),
          (s.ClickedEndGameResourceCardStats =
            "clicked_endgame_resource_card_stats"),
          (s.ClickedEndGameDevelopmentCardStats =
            "clicked_endgame_development_card_stats"),
          (s.ClickedEndGameResourceStats = "clicked_endgame_resource_stats"),
          (s.ClickedEndGameActivityStats = "clicked_endgame_activity_stats"),
          (s.ClickedEndGameReturnToMap = "clicked_endgame_return_to_map"),
          (s.ClickedEndGameRematch = "clicked_endgame_rematch"),
          (s.ClickedEndGameLobby = "clicked_endgame_lobby"),
          (s.ClickedEndGameSignup = "clicked_endgame_signup"),
          (s.ClickedProfilePrivateAd = "clicked_profile_private_ad"),
          (s.ClickedProfileSearch = "clicked_profile_search"),
          (s.ClickedProfileDropdown = "clicked_profile_dropdown"),
          (s.ClickedProfileManageMembership =
            "clicked_profile_manage_membership"),
          (s.StoreClickedSubscribe = "store_clicked_subscribe"),
          (s.StoreClickedActivate = "store_clicked_activate"),
          (s.StoreClickedPurchaseCoin = "store_clicked_purchase_coin"),
          (s.StoreClickedPurchaseCoinDiscord =
            "store_clicked_purchase_coin_discord"),
          (s.StoreRequestedLogin = "store_requested_login"),
          (s.StoreClickedLoginTrue = "store_clicked_login_true"),
          (s.StoreClickedCategory = "store_clicked_category"),
          (s.StoreClickedPurchaseItem = "store_clicked_purchase_item"),
          (s.StoreClickedApprovePurchaseItem =
            "store_clicked_approve_purchase_item"),
          (s.StoreSuccessfullyPurchasedItem =
            "store_successfully_purchased_item"),
          (s.CommunityClickedSubmitVideo = "community_clicked_submit_video"),
          (s.CommunityClickedSubmitTournament =
            "community_clicked_submit_tournament"),
          (s.CommunityClickedTournaments = "community_clicked_tournaments"),
          (s.MobileClickedBurgeButton = "mobile_clicked_burger_button"),
          (s.HeaderProfileClickedLogin = "header_profile_clicked_login"),
          (s.HeaderProfileClickedDropdown = "header_profile_clicked_dropdown"),
          (s.HeaderProfileClickedViewStats =
            "header_profile_clicked_viewstats"),
          (s.HeaderProfileClickedEditProfile =
            "header_profile_clicked_editprofile"),
          (s.HeaderProfileClickedDefaultColor =
            "header_profile_clicked_defaultcolor"),
          (s.HeaderProfileClickedEditName = "header_profile_clicked_editname"),
          (s.HeaderProfileClickedEditAvatar =
            "header_profile_clicked_editavatar"),
          (s.HeaderProfileClickedLogout = "header_profile_clicked_logout"),
          (s.HeaderProfileClickedChangeIcon =
            "header_profile_clicked_changeicon"),
          (s.HeaderProfileClickedChangeColor =
            "header_profile_clicked_changecolor"),
          ((i =
            e.GoogleTagManagerEvent ||
            (e.GoogleTagManagerEvent = {})).GameStarted = "game_started"),
          (i.GameFinished = "game_finished"),
          (i.UserClickedLoginButton = "user_clicked_login"),
          (i.PurchaseCompleted = "purchase_completed"));
        const n = {},
          o = new Map(),
          a = new Set(),
          c = Date.now().valueOf();
        function d(e, t, s) {
          r.r.analyticsActive &&
            (h() ||
              (function (e, t, s) {
                if (r.r.isUserOnDiscord) return;
                gtag("event", e, { event_label: t, value: s });
              })(e, t, s));
        }
        ((e.onEvent = function (e, t) {
          for (const e in n) {
            const s = n[e];
            s.sendAndInvalidateOn === t &&
              (s.amount > 0 && d(s.category, s.label, s.amount), delete n[e]);
          }
        }),
          (e.initLogRocket = async function () {
            ((e.logRocket = new l()), await e.logRocket.init());
          }),
          (e.initializeSessionRecorder = function () {
            e.sessionRecorder = new f();
          }),
          (e.sendGoogleAnalyticsEvent = d),
          (e.sendGoogleAnalyticsEventOnce = function (e, t, s) {
            void 0 === n[t] && (u(e, t, s), d(e, t));
          }),
          (e.sendEventSummed = function (e, t, s) {
            var i;
            (null !== (i = n[t]) && void 0 !== i ? i : u(e, t, s)).amount += 1;
          }));
        const u = (e, t, s) => {
          const i = {
            category: e,
            label: t,
            sendAndInvalidateOn: s,
            amount: 0,
          };
          return ((n[t] = i), i);
        };
        async function g(e) {
          r.r.analyticsActive &&
            (h() ||
              (await m.m.postRequestWhenReady(p.l.apiAnalytics(), e, void 0)));
        }
        ((e.sendAnalyticEvent = g),
          (e.sendAnalyticEventsWithMobileDimensions = async function (e) {
            var t, s, i, n;
            if (!r.r.analyticsActive) return;
            if (h()) return;
            const o = {
              isApp: r.r.isUserOnMobileAppOrWeb,
              isTablet: v.N.isUserOnTabletApp(),
              isAndroid: navigator.userAgent.includes("Android"),
              isPortrait: r.r.shouldDisplayNewMobileGameUI,
              gameType:
                null === b.IH ||
                void 0 === b.IH ||
                null === (s = b.IH.gameController) ||
                void 0 === s ||
                null === (t = s.gameSettings) ||
                void 0 === t
                  ? void 0
                  : t.gameType,
              eloType:
                null === b.IH ||
                void 0 === b.IH ||
                null === (n = b.IH.gameController) ||
                void 0 === n ||
                null === (i = n.gameSettings) ||
                void 0 === i
                  ? void 0
                  : i.eloType,
              ...e.dimensions,
            };
            await g({ ...e, dimensions: o });
          }),
          (e.sendAnalyticEventOnce = async function (e) {
            if (null == e.floatValue && o.has(e.type)) return;
            if (
              (o.has(e.type) || o.set(e.type, new Set()), null == e.floatValue)
            )
              return g(e);
            const t = o.get(e.type);
            return (null == t ? void 0 : t.has(e.floatValue))
              ? void 0
              : (null == t || t.add(e.floatValue), g(e));
          }),
          (e.sendTimedAnalyticEventOnce = async function (e) {
            const t = `${e.type}_${e.stringValue || ""}`;
            if (a.has(t)) return;
            a.add(t);
            const s = Date.now().valueOf();
            return ((e.floatValue = (s - c) / 1e3), g(e));
          }),
          (e.sendGoogleTagManagerEvent = function (e) {
            var t;
            r.r.analyticsActive &&
              (r.r.isUserOnDiscord ||
                h() ||
                null === (t = window.dataLayer) ||
                void 0 === t ||
                t.push({ event: e }));
          }));
      })(y || (y = {}));
    },
    20024: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/map_istanbul_preview.2d22c3d3653e783501f1.png";
    },
    20065: (e, t, s) => {
      "use strict";
      e.exports =
        s.p +
        "assets/dang-increase-end-game-size-after.698135138fd62b4d7356.png";
    },
    20230: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/map_lakes_preview.2d6d015c91ad9c12c3c7.png";
    },
    20558: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/road_blue.3301e2eed15cae5a6a05.svg";
    },
    20711: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/ship_move_mysticblue.9bc5e80718f9ab7f68a6.svg";
    },
    20751: (e, t, s) => {
      "use strict";
      s.d(t, { L: () => c, U: () => l });
      var i = s(53015),
        n = s(64038),
        r = s(30911),
        o = s(78311),
        a = s(76092);
      class c extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Membership),
            (this.type = o.Qb.PremiumYearly),
            (this.name = {
              key: "strings:storePage.sections.referral.membershipRewardLevelDetail",
            }),
            (this.image = o.am.StoreMembershipPremium));
        }
      }
      class l {}
      l.referralRewardLevels = [
        {
          referralCount: 1,
          storeItemCategory: i.n9.Icon,
          possibleRewards: [
            new n.NH(),
            new n.bE(),
            new n.yT(),
            new n.pk(),
            new n.XP(),
            new n.G(),
            new n.YU(),
          ],
          name: {
            key: "strings:storePage.sections.avatar.title",
            options: { context: "other" },
          },
          image: o.am.Avatars,
          analyticsPopupTriggered:
            a.dN.ReferralProgramStorePopupTriggeredLevel1,
          analyticsPopupSuccess:
            a.dN.ReferralProgramStoreSuccessfullySharedLevel1,
        },
        {
          referralCount: 5,
          storeItemCategory: i.n9.Map,
          possibleRewards: [
            new n.b6(),
            new n.qW(),
            new n.dS(),
            new n.jU(),
            new n.Ms(),
            new n.lt(),
            new n.As(),
            new n.Ry(),
            new n.yl(),
            new n.Zc(),
            new n.Xf(),
            new n.xU(),
          ],
          name: {
            key: "strings:storePage.sections.map.title",
            options: { context: "other" },
          },
          image: o.am.Maps,
          analyticsPopupTriggered:
            a.dN.ReferralProgramStorePopupTriggeredLevel2,
          analyticsPopupSuccess:
            a.dN.ReferralProgramStoreSuccessfullySharedLevel2,
        },
        {
          referralCount: 10,
          storeItemCategory: i.n9.Color,
          possibleRewards: [new n.Ph(), new n.ef(), new n.Hl()],
          name: {
            key: "strings:storePage.sections.color.title",
            options: { context: "other" },
          },
          image: o.am.AllColors,
          analyticsPopupTriggered:
            a.dN.ReferralProgramStorePopupTriggeredLevel3,
          analyticsPopupSuccess:
            a.dN.ReferralProgramStoreSuccessfullySharedLevel3,
        },
        {
          referralCount: 20,
          storeItemCategory: i.n9.Expansion,
          possibleRewards: [
            new n.SN(),
            new n.__(),
            new n.r8(),
            new n.D8(),
            new n.ZZ(),
            new n.bf(),
            new n.kD(),
            new n.L$(),
          ],
          name: {
            key: "strings:storePage.sections.expansion.title",
            options: { context: "other" },
          },
          image: o.am.Expansions,
          analyticsPopupTriggered:
            a.dN.ReferralProgramStorePopupTriggeredLevel4,
          analyticsPopupSuccess:
            a.dN.ReferralProgramStoreSuccessfullySharedLevel4,
        },
        {
          referralCount: 50,
          storeItemCategory: i.n9.Membership,
          possibleRewards: [new c()],
          name: { key: "strings:storePage.sections.membership.title" },
          image: o.am.Memberships,
          analyticsPopupTriggered:
            a.dN.ReferralProgramStorePopupTriggeredLevel5,
          analyticsPopupSuccess:
            a.dN.ReferralProgramStoreSuccessfullySharedLevel5,
        },
      ];
    },
    21018: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_admin.2019e44d7957895ffbb9.svg";
    },
    21047: (e, t, s) => {
      "use strict";
      function i(e, t) {
        switch (e) {
          case "unableToSend":
            return {
              key: "strings:game.gameState.gameLogs.couldNotsendChatMessage",
            };
          case "disabled":
            return { key: "strings:game.gameState.gameLogs.chatIsDisabled" };
          case "badLanguage":
            return { key: "strings:game.gameState.gameLogs.useProperLanguage" };
          case "tooLong":
            return { key: "strings:game.gameState.gameLogs.messageTooLong" };
          case "spam":
            return { key: "strings:game.gameState.gameLogs.pleaseDoNotSpam" };
          case "wrongCommand":
            return { key: "strings:commands.errors.wrongCommand" };
          case "commandCrashed":
            return { key: "strings:commands.errors.commandCrashed" };
          case "muted":
            return {
              key: "strings:game.gameState.gameLogs.youHaveBeenMuted",
              options: { date: t },
            };
          case "notSignedIn":
            return {
              key: "strings:game.gameState.gameLogs.signInToAccessChat",
            };
        }
      }
      function n(e) {
        switch (e) {
          case "tutorial":
            return [
              {
                key: "strings:commands.messages.emojiTutorial",
                options: {
                  exampleString: '"lumbr/brck"',
                  exampleEmojis:
                    "lumberbricksheepgrain ore:road:settlementcity",
                },
              },
              {
                key: "strings:commands.messages.chatTutorial",
                options: { exampleString: '"/disablechat"' },
              },
            ];
          case "chatEnabled":
            return [{ key: "strings:commands.messages.chatEnabled" }];
          case "chatDisabled":
            return [{ key: "strings:commands.messages.chatDisabled" }];
        }
      }
      s.d(t, { $: () => n, b: () => i });
    },
    21099: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/city_wall_red.a7d0cd496c747715b6f3.svg";
    },
    21466: (e, t, s) => {
      "use strict";
      s.d(t, { n: () => i });
      class i {
        static extractRoomIdFromCustomLink(e, t) {
          if (null == e) return;
          if (0 == t) return;
          const s = e.split("+");
          if (s.length < 2) return;
          const i = s[1].split("=");
          return i.length < 2 || "room" != i[0] ? void 0 : i[1];
        }
        static extractReferralTypeFromCustomLink(e) {
          return e.split("+")[0];
        }
        static parseShareLink(e) {
          return e.split("-");
        }
        static extractReferrerFromShareLink(e) {
          return {
            referrer: this.parseShareLink(e)[0],
            referralType: Number(this.parseShareLink(e)[1]),
          };
        }
      }
    },
    21503: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/road_green.d206aed3747b3687bc40.svg";
    },
    21514: (e, t, s) => {
      "use strict";
      s.d(t, {
        kv: () => c,
        hF: () => a,
        g: () => o,
        H3: () => r,
        cC: () => l,
      });
      class i {}
      var n = s(98487);
      class r extends i {
        constructor(...e) {
          (super(...e),
            (this.scenarioSetting = n.ec.None),
            (this.defaultVPsToWin = 10));
        }
      }
      class o extends i {
        constructor(...e) {
          (super(...e),
            (this.scenarioSetting = n.ec.SS1HeadingForNewShores),
            (this.defaultVPsToWin = 14));
        }
      }
      class a extends i {
        constructor(...e) {
          (super(...e),
            (this.scenarioSetting = n.ec.SS2TheFourIslands),
            (this.defaultVPsToWin = 13));
        }
      }
      class c extends i {
        constructor(...e) {
          (super(...e),
            (this.scenarioSetting = n.ec.SS3TheFogIslands),
            (this.defaultVPsToWin = 12));
        }
      }
      class l extends i {
        constructor(...e) {
          (super(...e),
            (this.scenarioSetting = n.ec.SS4ThroughTheDesert),
            (this.defaultVPsToWin = 14));
        }
      }
    },
    21786: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/knight_move_mysticblue.e72657ccfe1bf9cebc5b.svg";
    },
    22067: (e, t, s) => {
      "use strict";
      s.d(t, { M1: () => n, Q: () => o, l: () => r });
      var i = s(98487);
      const n = {
          [i.ro.Base15s]: {
            key: i.ro.Base15s,
            labelTranslationKey: "strings:colonistCommon.SpeedSettings.Base15s",
          },
          [i.ro.Base30s]: {
            key: i.ro.Base30s,
            labelTranslationKey: "strings:colonistCommon.SpeedSettings.Base30s",
          },
          [i.ro.Base60s]: {
            key: i.ro.Base60s,
            labelTranslationKey: "strings:colonistCommon.SpeedSettings.Base60s",
          },
          [i.ro.Base120s]: {
            key: i.ro.Base120s,
            labelTranslationKey:
              "strings:colonistCommon.SpeedSettings.Base120s",
            isDefault: !0,
          },
          [i.ro.Base240s]: {
            key: i.ro.Base240s,
            labelTranslationKey:
              "strings:colonistCommon.SpeedSettings.Base240s",
          },
          [i.ro.Base12000s]: {
            key: i.ro.Base12000s,
            labelTranslationKey:
              "strings:colonistCommon.SpeedSettings.Base12000s",
          },
          [i.ro.Rush5s]: {
            key: i.ro.Rush5s,
            labelTranslationKey: "strings:colonistCommon.SpeedSettings.Rush5s",
            isDefault: !0,
          },
          [i.ro.Rush8s]: {
            key: i.ro.Rush8s,
            labelTranslationKey: "strings:colonistCommon.SpeedSettings.Rush8s",
          },
          [i.ro.Rush10s]: {
            key: i.ro.Rush10s,
            labelTranslationKey: "strings:colonistCommon.SpeedSettings.Rush10s",
          },
          [i.ro.Rush15s]: {
            key: i.ro.Rush15s,
            labelTranslationKey: "strings:colonistCommon.SpeedSettings.Rush15s",
          },
          [i.ro.Rush20s]: {
            key: i.ro.Rush20s,
            labelTranslationKey: "strings:colonistCommon.SpeedSettings.Rush20s",
          },
        },
        r = [
          i.ro.Base15s,
          i.ro.Base30s,
          i.ro.Base60s,
          i.ro.Base120s,
          i.ro.Base12000s,
        ],
        o = [
          i.ro.Rush5s,
          i.ro.Rush8s,
          i.ro.Rush10s,
          i.ro.Rush15s,
          i.ro.Rush20s,
        ];
    },
    22179: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/ship_move_silver.1ce3b82434ae7a129892.svg";
    },
    22186: (e, t, s) => {
      "use strict";
      e.exports =
        s.p +
        "assets/card_progress_trade_commercial_harbor.928146af979e0e396be4.svg";
    },
    22194: (e, t, s) => {
      "use strict";
      s.d(t, { os: () => i, Yt: () => n, Gb: () => u, Ob: () => r });
      var i = (function (e) {
          return (
            (e[(e.Grandmaster = 0)] = "Grandmaster"),
            (e[(e.Master = 1)] = "Master"),
            (e[(e.Diamond = 2)] = "Diamond"),
            (e[(e.Platinum = 3)] = "Platinum"),
            (e[(e.Gold = 4)] = "Gold"),
            (e[(e.Silver = 5)] = "Silver"),
            (e[(e.Bronze = 6)] = "Bronze"),
            (e[(e.None = 7)] = "None"),
            e
          );
        })({}),
        n = (function (e) {
          return (
            (e[(e.None = 0)] = "None"),
            (e[(e.I = 1)] = "I"),
            (e[(e.II = 2)] = "II"),
            (e[(e.III = 3)] = "III"),
            (e[(e.IV = 4)] = "IV"),
            (e[(e.V = 5)] = "V"),
            e
          );
        })({}),
        r = (function (e) {
          return (
            (e[(e.Placement = 0)] = "Placement"),
            (e[(e.Ranked = 1)] = "Ranked"),
            (e[(e.RankedLocked = 2)] = "RankedLocked"),
            e
          );
        })({});
      class o {}
      class a extends o {
        finishedPlacementGames() {
          return this.numberOfGamesPlayed >= this.requiredNumberOfGames;
        }
        getEndGameScreenText() {
          const e = this.requiredNumberOfGames - this.numberOfGamesPlayed;
          return {
            title: {
              key: "strings:game.endGame.rankedUpdate.lockedTitle",
              options: {
                gamesPlayedCount: this.numberOfGamesPlayed,
                requiredGamesCount: this.requiredNumberOfGames,
              },
            },
            description: {
              key: "strings:game.endGame.rankedUpdate.lockedDescription",
              options: { count: e },
            },
          };
        }
        getEndGameData() {
          return this.defaultEndGameData;
        }
        getFindGamePopupStatusText() {
          return {
            key: "strings:colonistCommon.rankedState.gamesPlayed",
            options: {
              gamesPlayedCount: this.numberOfGamesPlayed,
              count: this.requiredNumberOfGames,
            },
          };
        }
        static deserialize(e) {
          return new a(e.numberOfGamesPlayed, e.requiredNumberOfGames);
        }
        constructor(e, t) {
          (super(),
            (this.type = r.RankedLocked),
            (this.numberOfGamesPlayed = e),
            (this.requiredNumberOfGames = t),
            (this.defaultEndGameData = { amount: "-", highest: !1 }));
        }
      }
      class c {
        static deserialize(e) {
          return new c(
            e.divisionType,
            e.subdivisionType,
            e.demotionDivisionBoundary,
            e.promotionDivisionBoundary,
          );
        }
        constructor(e, t, s, i) {
          ((this.divisionType = e),
            (this.subdivisionType = t),
            (this.demotionDivisionBoundary = s),
            (this.promotionDivisionBoundary = i));
        }
      }
      class l extends o {
        getEndGameScreenText() {
          return {
            title: {
              key: "strings:colonistCommon.utils.#buffer",
              options: { value: `${this.currentMMR}` },
            },
            description: { key: "strings:colonistCommon.utils.emptyString" },
          };
        }
        getEndGameScreenMMRChangeText() {
          return {
            key: "strings:game.endGame.rankedUpdate.rating",
            options: {
              ratingChange: `${this.mostRecentChangeInValue > 0 ? "+" : ""}${this.mostRecentChangeInValue}`,
            },
          };
        }
        getEndGameData() {
          return {
            amount: `${this.mostRecentChangeInValue > 0 ? "+" : ""}${this.mostRecentChangeInValue}`,
            highest: !1,
          };
        }
        getFindGamePopupStatusText() {
          return {
            key: "strings:colonistCommon.rankedState.rating",
            options: { rating: this.currentMMR },
          };
        }
        static deserialize(e) {
          const t = c.deserialize(e.previousDivisionState),
            s = c.deserialize(e.currentDivisionState);
          return new l(
            e.userStatCategory,
            e.previousMMR,
            e.currentMMR,
            t,
            s,
            e.promotionDemotionText,
          );
        }
        constructor(e, t, s, i, n, o) {
          (super(),
            (this.type = r.Ranked),
            (this.userStatCategory = e),
            (this.mostRecentChangeInValue = Math.round(s - t)),
            (this.promotionDemotionText = o),
            (this.previousMMR = Math.round(t)),
            (this.currentMMR = Math.round(s)),
            (this.currentDivisionState = n),
            (this.previousDivisionState = i));
        }
      }
      class d extends o {
        finishedPlacementGames() {
          return (
            this.numberOfPlacementGamesFinished >=
            this.numberOfPlacementGamesRequired
          );
        }
        getEndGameScreenText() {
          const e =
            this.numberOfPlacementGamesRequired -
            this.numberOfPlacementGamesFinished;
          return {
            title: {
              key: "strings:game.endGame.rankedUpdate.placementTitle",
              options: {
                gamesPlayedCount: this.numberOfPlacementGamesFinished,
                requiredGamesCount: this.numberOfPlacementGamesRequired,
              },
            },
            description: {
              key: "strings:game.endGame.rankedUpdate.placementDescription",
              options: { count: e },
            },
          };
        }
        getEndGameData() {
          return this.defaultEndGameData;
        }
        getFindGamePopupStatusText() {
          return {
            key: "strings:colonistCommon.rankedState.placementGamesPlayed",
            options: {
              gamesPlayedCount: this.numberOfPlacementGamesFinished,
              count: this.numberOfPlacementGamesRequired,
            },
          };
        }
        static deserialize(e) {
          return new d(
            e.numberOfPlacementGamesFinished,
            e.numberOfPlacementGamesRequired,
          );
        }
        constructor(e, t) {
          (super(),
            (this.type = r.Placement),
            (this.numberOfPlacementGamesFinished = e),
            (this.numberOfPlacementGamesRequired = t),
            (this.defaultEndGameData = { amount: "-", highest: !1 }));
        }
      }
      class u {
        static deserialize(e) {
          switch (e.type) {
            case r.Placement:
              return d.deserialize(e);
            case r.Ranked:
              return l.deserialize(e);
            case r.RankedLocked:
              return a.deserialize(e);
          }
        }
      }
      s(78311);
    },
    22466: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_share.21acd51b7df57e85f2db.svg";
    },
    22502: (e, t, s) => {
      "use strict";
      e.exports =
        s.p +
        "assets/sfx_settlement_phase_ended_guitar.21440c801c97c0a7e291.mp3";
    },
    22578: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/city_improvement_mobile_after.a608b5eb0d9160c9850f.png";
    },
    22604: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/bg_button_purple.a839f31fbbe5a79141a0.svg";
    },
    23130: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/stat_gold_income.c6fdd53c1a793c6d8358.svg";
    },
    23153: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_robber.d6f984074d0d7ed7d8f2.svg";
    },
    23201: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_largest_army.206b49b3c9d2b206f699.svg";
    },
    23288: (e, t, s) => {
      "use strict";
      s.d(t, { U: () => i });
      class i {
        constructor(e) {
          this.roomState = e;
        }
      }
    },
    23294: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/colonist_rush_banner_beta.ebcdab07f278d34a9e09.png";
    },
    23355: (e, t, s) => {
      "use strict";
      s.d(t, { K_: () => C, xp: () => P, F9: () => k });
      var i = s(95176),
        n = s(9029),
        r = s(78311),
        o = s(32398),
        a = s(81931),
        c = s(9620),
        l = s(7099),
        d = s(42003),
        u = s(84805),
        h = s(50482),
        p = s(76389),
        m = s(18587),
        g = s(84445),
        f = s(66681);
      class y {
        init(e) {
          (this.setOnClickHandlers(),
            this.profileLinkController.showSection(e),
            this.setStickyPlayerInfo(),
            this.makeApiCall());
        }
        setOnClickHandlers() {
          this.profileLinkController.sectionLinks.forEach((e, t) => {
            ((e.hasMadeAPICall = !1),
              (0, n.G0)(
                e,
                () => {
                  ((this.profileLinkController.activeLink = e),
                    this.profileLinkController.showSection(t),
                    this.makeApiCall());
                },
                !0,
              ),
              m.r.isUserOnMobile && e.classList.add("no-hover"));
          });
        }
        async setStickyPlayerInfo() {
          (y.setUserIcon(this.stickyPlayerInfo.iconImageId),
            y.setMembershipIcon(this.stickyPlayerInfo.currentMembershipType),
            y.setStickyUsername(this.stickyPlayerInfo.username));
        }
        async makeApiCall() {
          switch (this.profileLinkController.activeLink.id) {
            case this.profileLinkController.overviewSectionLink.id:
              await u.K.genericApiCallWrapper(
                this.profileLinkController.activeLink,
                o.l.apiUserProfile.overview(this.username),
                (e) => {
                  this.overviewController.setStats(e);
                },
              );
              break;
            case this.profileLinkController.historySectionLink.id:
              await u.K.genericApiCallWrapper(
                this.profileLinkController.activeLink,
                o.l.apiUserProfile.history(this.username),
                (e) => {
                  this.setHistory(e);
                },
              );
              break;
            case this.profileLinkController.itemsSectionLink.id:
              await u.K.genericApiCallWrapper(
                this.profileLinkController.activeLink,
                o.l.apiUserProfile.items(this.username),
                (e) => {
                  y.setItems(e);
                },
              );
              break;
            case this.profileLinkController.rankedSectionLink.id:
              await u.K.genericApiCallWrapper(
                this.profileLinkController.activeLink,
                o.l.apiUserProfileRankedSeasons(),
                (e) => {
                  this.setRankedSeasons(e);
                },
              );
          }
        }
        static setStickyUsername(e) {
          const t = document.getElementById(
            "profile_popup_sticky_player_info_username",
          );
          (0, n.RH)(t, {
            key: "strings:colonistCommon.utils.#buffer",
            options: { value: e },
          });
        }
        static setUserIcon(e) {
          const t = document.getElementById(
              "profile_popup_sticky_player_info_icon",
            ),
            s = null != e ? e : r.am.Guest;
          (0, n.zO)(t, s, "profile-icon");
        }
        static setMembershipIcon(e) {
          const t = document.getElementById(
            "profile_popup_sticky_player_info_icon",
          );
          if (null == e) return;
          const s = h.Zt.getMembershipProduct(e).lobbyImage,
            i = (0, n.zO)(t, s, "profile-membership-icon");
          ((i.style.display = "block"),
            (i.id = "profile_popup_sticky_player_membership_icon"));
        }
        setHistory(e) {
          const { gameDatas: t, profileUserId: s } = e;
          this.gameHistoryController.update(t, this.username, s);
        }
        setRankedSeasons(e) {
          new d.h(e, this.rankedController, !0);
        }
        static setItems(e) {
          const t = document.getElementById("profile_popup_profile_items_div");
          (0, n.RH)(t, { key: "strings:colonistCommon.utils.emptyString" });
          const s = m.r.isUserOnMobileAppOrWeb && f.P_.isSceneGame();
          for (const i of e) {
            const e = m.r.isUserOnDiscord
                ? "https://colonist.io/store"
                : "/store",
              r = (0, g.bl)(i.category),
              o = s
                ? (0, n.Le)(t, "profile-item-container")
                : (0, n.cE)(
                    t,
                    `${e}#${r}`,
                    { key: "strings:colonistCommon.utils.emptyString" },
                    "",
                    "",
                    !0,
                  );
            ((0, n.zO)(o, i.image), (0, n.n8)(o, i.name, "", "", "H4"));
          }
        }
        constructor(e, t, s) {
          ((this.username = e),
            (this.stickyPlayerInfo = t),
            (this.profileLinkController = new u.K(!0, e)),
            (this.overviewController = new a.b(!0)),
            (this.rankedController = new l.T(this.username, !0)),
            (this.gameHistoryController = new c.A(!0)));
          const i = document.getElementById(
            "profile_popup_sticky_player_info_text_container",
          );
          ((this.friendsController = new p.N(
            this.username,
            this.profileLinkController,
            i,
            !0,
          )),
            this.init(s));
        }
      }
      var b = s(655),
        v = s(42466),
        S = s(18514);
      function k(e, t) {
        return "" + (t ? "profile_popup_" : "") + e;
      }
      var C = (function (e) {
        return (
          (e[(e.Overview = 0)] = "Overview"),
          (e[(e.Ranked = 1)] = "Ranked"),
          (e[(e.History = 2)] = "History"),
          (e[(e.Items = 3)] = "Items"),
          e
        );
      })({});
      class P extends i.y {
        static init(e, t) {
          let s;
          (v.y.activePopups.forEach((e) => {
            e instanceof P && (s = e.username);
          }),
            s != e &&
              (null != s &&
                ((P.previousUsernames = P.previousUsernames.filter(
                  (t) => t != e,
                )),
                P.previousUsernames.push(s)),
              P.create(e, t)));
        }
        static async create(e, t = 0) {
          (v.y.activePopups.forEach((e) => {
            e instanceof P && (e.clearHistoryOnClose = !1);
          }),
            v.y.closeAllPopups());
          const s = await P.getStickyPlayerInfo(e);
          if (null == s) return;
          new P(e, s, t).show();
        }
        static async getStickyPlayerInfo(e) {
          const t = await b.m.getRequestHandler(
            o.l.apiUserProfile.stickyPlayerInfo(e),
            void 0,
          );
          if (null != t) return t.json;
        }
        createProfileHTML() {
          const e = (0, n.Le)(
            this.body,
            "main_container_block main_container_singleton_page profile-page-main-container profile-popup-container",
          );
          (0, n.Le)(
            e,
            "singleton_page_sidebar",
            "profile_popup_profile_sidebar",
          );
          const t = (0, n.Le)(e, "singleton_page_main_section");
          (P.createStickyPlayerInfo(t, this.username),
            P.createOverviewSection(t),
            P.createRankedSection(t),
            P.createHistorySection(t),
            P.createItemsSection(t));
        }
        static createStickyPlayerInfo(e, t) {
          const s = (0, n.Le)(e, "sticky_player_info"),
            i = (0, n.Le)(
              s,
              "sticky_player_info_text_container",
              "profile_popup_sticky_player_info_text_container",
            );
          ((0, n.Le)(
            i,
            "profile-icon-wrapper",
            "profile_popup_sticky_player_info_icon",
          ),
            (0, n.n8)(
              i,
              {
                key: "strings:colonistCommon.utils.#buffer",
                options: { value: t },
              },
              "sticky_player_info_username",
              "profile_popup_sticky_player_info_username",
              "H1",
            ));
          const o = (0, n.Le)(
              i,
              "component-dropdown-container",
              "profile_popup_sticky_player_info_dropdown",
            ),
            a = (0, n.Le)(
              o,
              "component-dropdown-arrow",
              "profile_popup_sticky_player_info_dropdown_button",
            );
          ((0, n.zO)(a, r.am.DownArrow, "component-icon-down-arrow"),
            (0, n.Le)(o, "component-dropdown-content"));
        }
        static createOverviewSection(e) {
          const t = (0, n.Le)(
            e,
            "hidden static_center_scroll_profile",
            "profile_popup_overview-container",
          );
          (0, n.n8)(
            t,
            { key: "strings:profilePage.overview.title" },
            "",
            "",
            "H2",
          );
          const s = (0, n.Le)(t, "user_info_container"),
            i = (0, n.Le)(s, "user_info_item user_info_item_top_row");
          (i.setAttribute(
            "data-tooltip",
            S.a7.t("strings:profilePage.overview.table.totalGames.tooltip"),
          ),
            (0, n.n8)(
              i,
              { key: "strings:profilePage.overview.table.totalGames.title" },
              "",
              "",
              "H3",
            ),
            (0, n.n8)(
              i,
              {
                key: "strings:colonistCommon.utils.#buffer",
                options: { value: "?" },
              },
              "",
              "profile_popup_total_games_stat",
              "H3",
            ));
          const r = (0, n.Le)(s, "user_info_item user_info_item_top_row");
          (r.setAttribute(
            "data-tooltip",
            S.a7.t("strings:profilePage.overview.table.winPercentage.tooltip"),
          ),
            (0, n.n8)(
              r,
              { key: "strings:profilePage.overview.table.winPercentage.title" },
              "",
              "",
              "H3",
            ),
            (0, n.n8)(
              r,
              {
                key: "strings:colonistCommon.utils.#buffer",
                options: { value: "?" },
              },
              "",
              "profile_popup_win_ratio_stat",
              "H3",
            ));
          const o = (0, n.Le)(s, "user_info_item user_info_item_bottom_row");
          (o.setAttribute(
            "data-tooltip",
            S.a7.t("strings:profilePage.overview.table.karma.tooltip"),
          ),
            (0, n.n8)(
              o,
              { key: "strings:profilePage.overview.table.karma.title" },
              "",
              "",
              "H3",
            ),
            (0, n.n8)(
              o,
              {
                key: "strings:colonistCommon.utils.#buffer",
                options: { value: "?/?" },
              },
              "",
              "profile_popup_karma_stat",
              "H3",
            ));
          const a = (0, n.Le)(s, "user_info_item user_info_item_bottom_row");
          (a.setAttribute(
            "data-tooltip",
            S.a7.t("strings:profilePage.overview.table.pointsPerGame.tooltip"),
          ),
            (0, n.n8)(
              a,
              { key: "strings:profilePage.overview.table.pointsPerGame.title" },
              "",
              "",
              "H3",
            ),
            (0, n.n8)(
              a,
              {
                key: "strings:colonistCommon.utils.#buffer",
                options: { value: "?" },
              },
              "",
              "profile_popup_pg_stat",
              "H3",
            ));
          const c = (0, n.Le)(s, "user_info_item user_info_item_bottom_row");
          (c.setAttribute(
            "data-tooltip",
            S.a7.t("strings:profilePage.overview.table.points.tooltip"),
          ),
            (0, n.n8)(
              c,
              { key: "strings:profilePage.overview.table.points.title" },
              "",
              "",
              "H3",
            ),
            (0, n.n8)(
              c,
              {
                key: "strings:colonistCommon.utils.#buffer",
                options: { value: "?" },
              },
              "",
              "profile_popup_points_stat",
              "H3",
            ),
            (0, n.Le)(
              t,
              "user-badges-container",
              "profile_popup_user-badges-container",
            ));
        }
        static createRankedSection(e) {
          const t = (0, n.Le)(
              e,
              "hidden static_center_scroll_profile",
              "profile_popup_ranked-container",
            ),
            s = (0, n.Le)(t, "profile_ranked_section_header");
          ((0, n.n8)(
            s,
            { key: "strings:profilePage.navigationTabs.ranked" },
            "",
            "",
            "H2",
          ),
            (0, n.Kr)(
              s,
              "",
              "profile_popup_profile_ranked_season_dropdown",
              () => {},
            ));
          const i = (0, n.Le)(t, "ranked_mode_player_info_cards_container");
          (P.createRankedCard(
            i,
            "profile_popup_ranked_mode_player_info_card_base",
            r.am.GameModeBase,
            "settlers of catan base game icon",
            { key: "strings:leaderboardPage.gameModes.baseGame" },
            "base",
          ),
            P.createRankedCard(
              i,
              "profile_popup_ranked_mode_player_info_card_1v1",
              r.am.GameMode1v1,
              "colonist 1v1 game mode icon",
              { key: "strings:leaderboardPage.gameModes.1v1" },
              "1v1",
            ),
            this.createRankedCard(
              i,
              "profile_popup_ranked_mode_player_info_card_citiesandknights",
              r.am.GameModeCnK,
              "settlers of catan cities and knights icon",
              { key: "strings:leaderboardPage.gameModes.citiesAndKnights" },
              "citiesandknights",
            ));
        }
        static createRankedCard(e, t, s, i, r, o) {
          const a = (0, n.Le)(e, "ranked_mode_player_info_card");
          a.id = t;
          const c = (0, n.Le)(a, "ranked-card-header"),
            l = (0, n.Le)(c, "ranked-card-header-title");
          ((0, n.zO)(l, s, i), (0, n.i5)(l, "", r));
          const d = (0, n.Le)(a, "ranked-card-content");
          ((0, n.Le)(
            d,
            "ranked_mode_player_progress_container",
            `profile_popup_ranked_mode_player_progress_${o}_container`,
          ),
            (0, n.Le)(
              d,
              "ranked_mode_player_stats_container",
              `profile_popup_ranked_mode_player_stats_${o}_container`,
            ));
        }
        static createHistorySection(e) {
          const t = (0, n.Le)(
            e,
            "hidden static_center_scroll_profile",
            "profile_popup_game-history-container",
          );
          (0, n.n8)(
            t,
            { key: "strings:profilePage.history.title" },
            "",
            "",
            "H2",
          );
          const s = (0, n.Le)(
              t,
              "profile_section game-history-table-container profile_container",
            ),
            i = (0, n.MD)(s),
            r = (0, n.ou)(
              i,
              "game-history-table-head",
              "profile_popup_game-history-table-head",
            ).insertRow();
          ((0, n.m7)(r, void 0, {
            key: "strings:profilePage.history.table.date.title",
          }),
            (0, n.m7)(r, void 0, {
              key: "strings:profilePage.history.table.rank.title",
            }),
            (0, n.m7)(r, "center", {
              key: "strings:profilePage.history.table.opponents.title",
            }),
            (0, n.m7)(r, "right", {
              key: "strings:profilePage.history.table.duration.title",
            }),
            (0, n.m7)(r, "center", {
              key: "strings:profilePage.history.table.replay.title",
            }),
            (0, n.K_)(
              i,
              "game-history-table-body",
              "profile_popup_game-history-table-body",
            ));
        }
        static createItemsSection(e) {
          const t = (0, n.Le)(
            e,
            "hidden static_center_scroll_profile",
            "profile_popup_items-container",
          );
          (0, n.n8)(
            t,
            { key: "strings:profilePage.navigationTabs.items" },
            "",
            "",
            "H2",
          );
          const s = (0, n.Le)(t, "profile_container"),
            i = (0, n.Le)(s, "user_info_partition");
          (0, n.Le)(
            i,
            "user_info_items_list_container",
            "profile_popup_profile_items_div",
          );
        }
        constructor(e, t, s) {
          (super(
            {
              key: "strings:colonistCommon.utils.#buffer",
              options: { value: `${e}'s Profile` },
            },
            void 0,
            () => {},
            () => {},
            !0,
            {
              showXButton: !1,
              showCheckButton: !1,
              showXonHeader: !0,
              backButton: {
                showBackButton: P.previousUsernames.length > 0,
                backButtonAction: () => {
                  const e = P.previousUsernames.pop();
                  null != e && P.create(e);
                },
              },
            },
          ),
            (this.clearHistoryOnClose = !0),
            (this.username = e),
            (this.removeAction = () => {
              this.clearHistoryOnClose && (P.previousUsernames.length = 0);
            }),
            this.makeLarge(),
            this.removeFooter(),
            this.createProfileHTML(),
            new y(e, t, s));
        }
      }
      P.previousUsernames = [];
    },
    23566: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/metropolis_trade.ff1adabda27121403f8c.svg";
    },
    23706: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/knight_move_red.09a99a6f98a51912246c.svg";
    },
    23779: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/icon_trade_arrow_green.dc94789e15ba3783e25e.svg";
    },
    23789: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/card_brick.5950ea07a7ea01bc54a5.svg";
    },
    23813: (e, t, s) => {
      "use strict";
      function i(e, t) {
        const s = {};
        let i = !1;
        for (const e in t) {
          const a = t[e],
            c = Array.isArray(a) ? r(a) : n(a);
          ((s[`${e}`] = c), o(a) && (i = !0));
        }
        return {
          key: e.key,
          options: { ...e.options, ...s, interpolation: { escapeValue: !i } },
        };
      }
      function n(e) {
        return `$t(${e.key}, ${JSON.stringify(e.options)})`;
      }
      function r(e) {
        const t = [];
        for (const s of e) t.push(n(s));
        return t;
      }
      function o(e) {
        const t = Array.isArray(e) ? e : [e];
        for (const e of t) if (null != e.options) return !0;
        return !1;
      }
      s.d(t, { d: () => i });
    },
    23918: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/dice_3.bdf9bed70b715ad2ab2c.svg";
    },
    23959: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_robber_cupid.e95ebaff0ea63ee62ea7.svg";
    },
    24127: (e, t, s) => {
      "use strict";
      s.d(t, { r: () => c });
      var i = s(9029),
        n = s(78311),
        r = s(50482),
        o = s(19733),
        a = s(26658);
      class c {
        createPerks() {
          const e = (0, i.Le)(this.bodyDiv, "store_page_membership_grid", ""),
            t = r.Zt.getMembershipProduct(n.Qb.EliteMonthly),
            s = this.getValidMembershipPerks(t);
          for (const t of s) this.createPerkIn(e, t);
        }
        createPerkIn(e, t) {
          const s = (0, i.Le)(e, "", ""),
            n = (0, i.zO)(s, t.imageUrl),
            r = (0, i.Le)(e, "", ""),
            o = (0, i.Wr)(r, t.description, "", ""),
            a = c.createInfoIcon(e, t);
          this.isPerkActive(t) ||
            ((n.style.display = "none"),
            (o.style.opacity = "50%"),
            (a.style.opacity = "50%"));
        }
        addBestValueHint() {
          if (!this.membershipProduct.bestValue) return;
          this.productDiv.classList.add(
            "store_page_membership_best_value_border",
          );
          const e = (0, i.Le)(this.headerDiv, "badge-white badge-lg");
          (0, i.Wr)(e, { key: "strings:storePage.bestValue" }, "");
        }
        getValidMembershipPerks(e) {
          const t = structuredClone(e.perks);
          for (const s of e.perks)
            t.some((e) => e.type == s.type) ||
              (s.type != a.gr.FullReplay && t.push(s));
          return (c.mergeMapsAndExpansionDescriptions(t), t);
        }
        static mergeMapsAndExpansionDescriptions(e) {
          const t = e.find((e) => e.type == a.gr.AllMaps),
            s = e.find((e) => e.type == a.gr.AllExpansions);
          if (!t || !s) return e;
          const i = e.indexOf(t);
          return (
            e.splice(i, 1),
            (s.description = {
              key: "strings:storePage.sections.membership.perks.allMapsAndExpansions",
            }),
            e
          );
        }
        isPerkActive(e) {
          return this.membershipProduct.perks.some((t) => t.type == e.type);
        }
        static createInfoIcon(e, t) {
          const s = (0, i.Le)(e, "", "");
          if (
            ![
              a.gr.AllExpansions,
              a.gr.AllMaps,
              a.gr.BasicReplay,
              a.gr.FullReplay,
              a.gr.PremiumMatchmaking,
            ].includes(t.type)
          )
            return s;
          const r = (0, i.zO)(s, n.am.InfoIcon);
          return (c.createClickEventForInfoIcon(r, t.type), s);
        }
        static createClickEventForInfoIcon(e, t) {
          t != a.gr.PremiumMatchmaking
            ? (0, i.G0)(
                e,
                () => c.createInfoPopupForMapsAndExpansions(),
                !1,
                !0,
              )
            : (0, i.G0)(
                e,
                () => c.createInfoPopupForPremiumMatchmaking(),
                !1,
                !0,
              );
        }
        static createInfoPopupForPremiumMatchmaking() {
          o.r.create(
            {
              key: "strings:storePage.sections.membership.perks.premiumMatchmaking.title",
            },
            {
              key: "strings:storePage.sections.membership.perks.premiumMatchmaking.description",
            },
            () => {},
            () => {},
            !0,
            { showXonHeader: !0, showXButton: !1, showCheckButton: !1 },
          );
        }
        static createInfoPopupForMapsAndExpansions() {
          o.r.create(
            { key: "strings:storePage.FAQ.title" },
            { key: "strings:storePage.FAQ.body" },
            () => {},
            () => {},
            !0,
            { showXonHeader: !0, showXButton: !1, showCheckButton: !1 },
          );
        }
        constructor(e, t) {
          ((this.membershipProduct = t),
            (this.productDiv = (0, i.Le)(e, "store_page_membership", "")));
          const s =
            "store_page_membership_header " +
            this.membershipProduct.membershipColor;
          ((this.headerDiv = (0, i.Le)(this.productDiv, s, "")),
            (0, i.zO)(
              this.headerDiv,
              this.membershipProduct.lobbyImage,
              "header_background_image",
            ),
            (0, i.zO)(this.headerDiv, this.membershipProduct.lobbyImage),
            (0, i.n8)(
              this.headerDiv,
              this.membershipProduct.membershipTitle,
              "",
              "",
              "H2",
            ),
            (this.bodyDiv = (0, i.Le)(
              this.productDiv,
              "store_page_membership_body",
              "",
            )),
            this.createPerks(),
            this.addBestValueHint());
        }
      }
    },
    24138: (e, t, s) => {
      "use strict";
      s.d(t, {
        gu: () => E,
        CD: () => N,
        _b: () => L,
        eo: () => M,
        h$: () => T,
        q7: () => I,
        Ly: () => B,
        iN: () => H,
        xT: () => x,
        TZ: () => K,
        dw: () => U,
        Ss: () => D,
        go: () => W,
        BB: () => V,
        zj: () => F,
      });
      var i,
        n = s(67908),
        r = s(98487),
        o = s(81888),
        a = s(19720),
        c = s(19644),
        l = s(76092),
        d = s(1863),
        u = s(69508),
        h = s(41207),
        p = s(78311);
      !(function (e) {
        class t extends h.Ak {
          constructor() {
            super(
              { key: "strings:popups.errors.matchmakingError.title" },
              { key: "strings:popups.errors.matchmakingError.disabled" },
              u.R.ServiceUnavailable,
            );
          }
        }
        e.MatchmakingDisabled = t;
        class s extends h.Ak {
          constructor() {
            super(
              { key: "strings:popups.errors.matchmakingError.title" },
              {
                key: "strings:popups.errors.matchmakingError.finishWatchingAd",
              },
              u.R.Forbidden,
            );
          }
        }
        e.FinishWatchingAd = s;
        class i extends h.Ak {
          constructor() {
            super(
              { key: "strings:popups.errors.matchmakingError.title" },
              {
                key: "strings:popups.errors.matchmakingError.alreadySearchingForMatch",
              },
              u.R.Conflict,
            );
          }
        }
        e.AlreadySearchingForMatch = i;
        class n extends h.Ak {
          constructor() {
            super(
              { key: "strings:popups.errors.matchmakingError.title" },
              {
                key: "strings:popups.errors.matchmakingError.internalServerError",
                options: { email: p.gq.SUPPORT_EMAIL },
              },
              u.R.InternalServerError,
            );
          }
        }
        e.InternalServerError = n;
        class r extends h.Ak {
          constructor() {
            super(
              { key: "strings:popups.errors.matchmakingError.title" },
              { key: "strings:popups.errors.matchmakingError.invalidRequest" },
              u.R.BadRequest,
            );
          }
        }
        e.InvalidRequest = r;
        class o extends h.Ak {
          constructor() {
            super(
              { key: "strings:popups.errors.matchmakingError.title" },
              {
                key: "strings:popups.errors.matchmakingError.connectedToMultipleGames",
              },
              u.R.Conflict,
            );
          }
        }
        e.ConnectedToMultipleGames = o;
        class a extends h.Ak {
          constructor(e, t) {
            super(
              { key: "strings:popups.errors.matchmakingInfo.title" },
              {
                key: "strings:popups.errors.matchmakingInfo.playMoreToUnlockRanked",
                options: {
                  finishedGames: e,
                  totalRequiredGames: t,
                  gamesNeeded: t - e,
                },
              },
              u.R.ServiceUnavailable,
            );
          }
        }
        e.RankedLocked = a;
        class c extends h.Ak {
          constructor(e, t) {
            super(
              { key: "strings:popups.errors.matchmakingInfo.title" },
              {
                key: "strings:popups.errors.matchmakingInfo.playMoreToUnlockShuffle",
                options: {
                  finishedGames: e,
                  totalRequiredGames: t,
                  gamesNeeded: t - e,
                },
              },
              u.R.ServiceUnavailable,
            );
          }
        }
        e.ShuffleLocked = c;
        class l extends h.Ak {
          constructor() {
            super(
              { key: "strings:popups.errors.matchmakingError.title" },
              {
                key: "strings:colonistCommon.serverStatus.serverUpdating",
                options: { discordLink: p.gq.DISCORD_CHANNEL },
              },
              u.R.ServiceUnavailable,
            );
          }
        }
        e.ServerUpdating = l;
        class d extends h.Ak {
          constructor() {
            super(
              { key: "strings:popups.errors.matchmakingError.title" },
              {
                key: "strings:popups.errors.matchmakingError.alreadyPlayingRankedGame",
              },
              u.R.Conflict,
            );
          }
        }
        e.AlreadyPlayingRankedGame = d;
        class m extends h.Ak {
          constructor() {
            super(
              { key: "strings:popups.errors.matchmakingError.title" },
              {
                key: "strings:popups.errors.matchmakingError.invalidRankedMode",
              },
              u.R.BadRequest,
            );
          }
        }
        e.InvalidRankedMode = m;
        class g extends h.Ak {
          constructor() {
            super(
              {
                key: "strings:popups.errors.matchmakingError.queueUpdating.title",
              },
              {
                key: "strings:popups.errors.matchmakingError.queueUpdating.body",
              },
              u.R.ServiceUnavailable,
            );
          }
        }
        e.QueueUpdating = g;
        class f extends h.Ak {
          constructor() {
            super(
              {
                key: "strings:popups.errors.matchmakingError.noFreeGamesRemaining.title",
              },
              {
                key: "strings:popups.errors.matchmakingError.noFreeGamesRemaining.body",
              },
              u.R.Forbidden,
            );
          }
        }
        e.NoFreeGamesRemaining = f;
      })(i || (i = {}));
      var m = s(74710),
        g = s(95176),
        f = s(66681),
        y = s(73022),
        b = s(56961),
        v = s(22194),
        S = s(19966),
        k = s(34915),
        C = s(18587),
        P = s(31567),
        _ = s(69714),
        A = s(46456),
        w = s(30506);
      const R = {
        [r.Nw.RankedClassic1v1]: p.um.VisibleRanked1v1,
        [r.Nw.RankedClassic4P]: p.um.VisibleRanked4PClassic,
        [r.Nw.RankedCitiesAndKnights4P]: p.um.VisibleRankedCitiesAndKnights4P,
      };
      function T(e) {
        switch (e) {
          case r._M.BeginnerMode:
            return r.IU.BOTS_BEGINNER_MODE;
          case r._M.ColonistRush:
            return r.IU.BOTS_COLONIST_RUSH;
          case r._M.Easy:
          case r._M.Medium:
          case r._M.Hard:
            return r.IU.BOTS_STANDARD;
          case r.Nw.UnrankedClassic1v1:
          case r.Nw.RankedClassic1v1:
            return r.IU.CLASSIC_1V1;
          case r.Nw.UnrankedClassic4P:
            return 30;
          case r.Nw.RankedClassic4P:
            return r.IU.CLASSIC;
          case r.Nw.RankedCitiesAndKnights4P:
            return r.IU.CITIES_AND_KNIGHTS;
          case r.Nw.UnrankedShuffle:
            var t, s;
            return (0, P.N6)(
              null === (t = A.y.shuffleQueueData) || void 0 === t
                ? void 0
                : t.playerCount,
              null === (s = A.y.shuffleQueueData) || void 0 === s
                ? void 0
                : s.modeId,
            );
          default:
            return;
        }
      }
      function I(e) {
        switch (e) {
          case r._M.BeginnerMode:
            return { playerCount: 1, botCount: 0 };
          case r._M.ColonistRush:
          case r._M.Easy:
          case r._M.Medium:
          case r._M.Hard:
            return { playerCount: 1, botCount: 3 };
          case r.Nw.UnrankedClassic1v1:
          case r.Nw.RankedClassic1v1:
            return { playerCount: 2, botCount: 0 };
          case r.Nw.UnrankedClassic4P:
          case r.Nw.RankedClassic4P:
          case r.Nw.RankedCitiesAndKnights4P:
            return { playerCount: 4, botCount: 0 };
          case r.Nw.UnrankedShuffle: {
            const e = A.y.shuffleQueueData;
            if (null == e) return { playerCount: 0, botCount: 0 };
            const t = e.playerCount;
            return 1 == e.isBotGame
              ? { playerCount: 1, botCount: t - 1 }
              : { playerCount: t, botCount: 0 };
          }
          default:
            return { playerCount: 0, botCount: 0 };
        }
      }
      function M(e) {
        var t, s, u, h, p;
        const m = x(e),
          g = e == r.Nw.UnrankedShuffle;
        if (!m && !g)
          return {
            isEligible: !0,
            createPopup: void 0,
            shouldDisableCardIfNotEligible: !0,
          };
        if (
          !(null === (t = o._.userState) || void 0 === t
            ? void 0
            : t.isLoggedIn)
        )
          return {
            isEligible: !1,
            createPopup: () => new a.L(),
            shouldDisableCardIfNotEligible: !0,
          };
        if (g) {
          var b;
          const e = n.FP.NumberOfGamesToUnlockRanked;
          if (
            !(
              (null === (b = o._.userState) || void 0 === b
                ? void 0
                : b.totalCompletedGameCount) >= e
            )
          ) {
            const t = new i.ShuffleLocked(
              o._.userState.totalCompletedGameCount,
              e,
            );
            return {
              isEligible: !1,
              createPopup: () => D(t),
              shouldDisableCardIfNotEligible: !0,
            };
          }
          const t = A.y.shufflePlayerData,
            s = o._.userState.items.hasMembership(),
            r = null != t && t.totalGameCount < t.freeGamesTotalCount,
            a = !1 === (null == t ? void 0 : t.playedToday);
          return s || r || a
            ? {
                isEligible: !0,
                createPopup: void 0,
                shouldDisableCardIfNotEligible: !0,
              }
            : {
                isEligible: !1,
                createPopup: () => {
                  const e = f.P_.premiumMembershipCheckAction();
                  new c.R(e, l.Jd.PopupMembershipIncentivesShuffleQueue);
                },
                shouldDisableCardIfNotEligible: !1,
              };
        }
        const v = G(e),
          S = (0, y.kV)(
            null === (s = o._.userState) || void 0 === s ? void 0 : s.items,
            null === (u = o._.userState) || void 0 === u
              ? void 0
              : u.ckTotalGameCount,
            o._.abTests,
            null === (h = o._.userState) || void 0 === h
              ? void 0
              : h.ckNextRerollAt,
            null === (p = o._.userState) || void 0 === p
              ? void 0
              : p.ckFreeGameUntil,
          );
        if (v && S)
          return {
            isEligible: !1,
            createPopup: () => {
              const e = f.P_.premiumMembershipCheckAction();
              new c.R(e, l.Jd.PopupMembershipIncentivesRankedCitiesAndKnights);
            },
            shouldDisableCardIfNotEligible: !0,
          };
        if (!d.z.userEligibleForRanked()) {
          const e = n.FP.NumberOfGamesToUnlockRanked,
            t = new i.RankedLocked(o._.userState.totalCompletedGameCount, e);
          return {
            isEligible: !1,
            createPopup: () => D(t),
            shouldDisableCardIfNotEligible: !0,
          };
        }
        return {
          isEligible: !0,
          createPopup: void 0,
          shouldDisableCardIfNotEligible: !0,
        };
      }
      function L(e, t) {
        var s;
        if (e == r.Nw.UnrankedShuffle)
          return (function () {
            if (null == o._.userState || !o._.userState.isLoggedIn)
              return {
                description: {
                  key: "strings:homePage.unranked.logInToPlayShuffle",
                },
                badge: void 0,
              };
            const e = n.FP.NumberOfGamesToUnlockRanked,
              t = o._.userState.totalCompletedGameCount;
            if (t < e)
              return {
                description: {
                  key: "strings:homePage.matchmakingSelect.playGamesToUnlockShuffle",
                },
                badge: {
                  text: {
                    key: "strings:colonistCommon.utils.#buffer",
                    options: { value: `${t}/${e}` },
                  },
                  icon: p.am.IconSwords,
                },
              };
            const s = A.y.shuffleQueueData,
              i = A.y.shufflePlayerData;
            if (null == s) return { description: void 0, badge: void 0 };
            if (o._.userState.items.hasMembership() || null == i)
              return { description: B(s), badge: void 0 };
            const r = i.totalGameCount,
              a = i.freeGamesTotalCount;
            if (r < a) {
              const e = a - r;
              return {
                description: B(s),
                badge: {
                  text: {
                    key: "strings:homePage.matchmakingSelect.freeGamesLeft",
                    options: { count: e },
                  },
                  icon: p.am.StoreGiftMembership,
                },
              };
            }
            if (!i.playedToday)
              return {
                description: B(s),
                badge: {
                  text: {
                    key: "strings:homePage.matchmakingSelect.dailyFreeShuffleGame",
                  },
                  icon: p.am.IconTimeBomb,
                  backgroundColorClass: "mm-badge-yellow",
                },
              };
            return {
              description: B(s),
              badge: {
                text: {
                  key: "strings:homePage.matchmakingSelect.dailyFreeShuffleGameSubscribe",
                },
                icon: p.am.StoreMembershipPlus,
              },
            };
          })();
        if (!x(e)) return { description: void 0, badge: void 0 };
        if (
          !(null === (s = o._.userState) || void 0 === s
            ? void 0
            : s.isLoggedIn)
        )
          return {
            description: { key: "strings:homePage.ranked.logInToPlayRanked" },
            badge: void 0,
          };
        if (G(e)) {
          const e = (function () {
            switch (E()) {
              case y.rz.Locked:
                return {
                  description: {
                    key: "strings:homePage.becomeAMemberToUnlock",
                  },
                  badge: void 0,
                };
              case y.rz.HasFreeGames:
                var e, t;
                return {
                  description: void 0,
                  badge: {
                    text: {
                      key: "strings:homePage.matchmakingSelect.freeGamesLeft",
                      options: {
                        count:
                          y.Pz -
                          (null !==
                            (t =
                              null === (e = o._.userState) || void 0 === e
                                ? void 0
                                : e.ckTotalGameCount) && void 0 !== t
                            ? t
                            : 0),
                      },
                    },
                    icon: p.am.StoreGiftMembership,
                  },
                };
              case y.rz.HasFreeGameFromDiceRoll:
                var s;
                return {
                  description: void 0,
                  badge: {
                    text: {
                      key: "strings:homePage.matchmakingSelect.freeGameFromDiceRoll",
                      options: {
                        time: w.Re.formatCountdownString(
                          null === (s = o._.userState) || void 0 === s
                            ? void 0
                            : s.ckFreeGameUntil,
                        ),
                      },
                    },
                    icon: p.am.StoreGiftMembership,
                  },
                };
              case y.rz.CanRollDice:
                return {
                  description: void 0,
                  badge: {
                    text: {
                      key: "strings:homePage.matchmakingSelect.dailyFreeRoll",
                    },
                    icon: p.am.Dice6,
                  },
                };
              case y.rz.WaitingToRollDice:
                var i;
                return {
                  description: void 0,
                  badge: {
                    text: {
                      key: "strings:homePage.matchmakingSelect.dailyFreeRollWaiting",
                      options: {
                        time: w.Re.formatCountdownString(
                          null === (i = o._.userState) || void 0 === i
                            ? void 0
                            : i.ckNextRerollAt,
                        ),
                      },
                    },
                    icon: p.am.Dice6,
                  },
                };
              default:
                return;
            }
          })();
          if (null != e) return e;
        }
        if (!d.z.userEligibleForRanked()) {
          const e = n.FP.NumberOfGamesToUnlockRanked;
          return {
            description: {
              key: "strings:homePage.matchmakingSelect.playGamesToUnlockRanked",
            },
            badge: {
              text: {
                key: "strings:colonistCommon.utils.#buffer",
                options: {
                  value: `${o._.userState.totalCompletedGameCount}/${e}`,
                },
              },
              icon: p.am.IconSwords,
            },
          };
        }
        const i = R[e],
          a = null == t ? void 0 : t.find((e) => e.eloType === i);
        if (null != (null == a ? void 0 : a.rankedState)) {
          const e = v.Gb.deserialize(a.rankedState);
          if (e.type == v.Ob.Placement) {
            const t = e;
            var c;
            var l;
            return {
              description: {
                key: "strings:homePage.matchmakingSelect.playPlacementsForRating",
              },
              badge: {
                text: {
                  key: "strings:colonistCommon.utils.#buffer",
                  options: {
                    value: `${null !== (c = t.numberOfPlacementGamesFinished) && void 0 !== c ? c : 0}/${null !== (l = t.numberOfPlacementGamesRequired) && void 0 !== l ? l : 10}`,
                  },
                },
                icon: p.am.IconSwords,
              },
            };
          }
          {
            const t = e;
            var u;
            const s = null !== (u = t.currentMMR) && void 0 !== u ? u : 0,
              i = t.currentDivisionState.divisionType,
              n = k.j.getRankedDivisionImage(i);
            return {
              description: void 0,
              badge: {
                text: {
                  key: "strings:colonistCommon.utils.#buffer",
                  options: { value: Math.round(s) },
                },
                icon: n,
              },
            };
          }
        }
        return { description: void 0, badge: void 0 };
      }
      function B(e) {
        const t = (0, P.gz)(e.mapId),
          s = (0, P.LE)(e.modeId),
          i = e.isBotGame;
        return t
          ? s
            ? (0, m.dN)(
                {
                  key: "strings:homePage.shuffleQueue.mapAndMode",
                  options: { context: 1 == i ? "withBots" : "" },
                },
                { map: t, mode: s },
              )
            : (0, m.dN)(
                {
                  key: "strings:homePage.shuffleQueue.mapOnly",
                  options: { context: 1 == i ? "withBots" : "" },
                },
                { map: t },
              )
          : { key: "strings:homePage.shuffleQueue.mapAndModeUnknown" };
      }
      function D(e) {
        const t = e.title,
          s = e.description;
        new g.y(
          t,
          s,
          () => {},
          () => {},
          !0,
          { showXButton: !1 },
        ).show();
      }
      function E() {
        var e, t, s, i;
        return (0, y.Hq)(
          null === (e = o._.userState) || void 0 === e ? void 0 : e.items,
          null === (t = o._.userState) || void 0 === t
            ? void 0
            : t.ckTotalGameCount,
          o._.abTests,
          null === (s = o._.userState) || void 0 === s
            ? void 0
            : s.ckNextRerollAt,
          null === (i = o._.userState) || void 0 === i
            ? void 0
            : i.ckFreeGameUntil,
        );
      }
      function G(e) {
        return b.zk.has(e);
      }
      function x(e) {
        return b.SK.has(e);
      }
      function U(e, t) {
        var s;
        return (
          !!C.r.rankedPrerollAdsEnabled &&
          !C.r.isUserOnMobile &&
          !C.r.isUserOnDiscord &&
          !!x(e) &&
          !(null === (s = o._.userState) || void 0 === s
            ? void 0
            : s.items.hideAds()) &&
          (function (e, t) {
            const s = R[e];
            if (null == s) return !1;
            const i = t.find((e) => e.eloType == s);
            if (null == (null == i ? void 0 : i.rankedState)) return !1;
            const n = v.Gb.deserialize(i.rankedState);
            if (n.type == v.Ob.Placement) return n.finishedPlacementGames();
            return !0;
          })(e, t)
        );
      }
      const O = {
        [r.Nw.UnrankedClassic4P]: "UnrankedClassic4P",
        [r.Nw.RankedClassic4P]: "RankedClassic4P",
        [r.Nw.UnrankedClassic1v1]: "UnrankedClassic1v1",
        [r.Nw.RankedClassic1v1]: "RankedClassic1v1",
        [r.Nw.UnrankedCitiesAndKnights4P]: "UnrankedCitiesAndKnights4P",
        [r.Nw.RankedCitiesAndKnights4P]: "RankedCitiesAndKnights4P",
        [r.Nw.UnrankedShuffle]: "UnrankedShuffle",
      };
      function N(e) {
        if ("string" == typeof e) {
          return `PlayVsBots_${e.charAt(0).toUpperCase() + e.slice(1).toLowerCase()}`;
        }
        var t;
        return null !== (t = O[e]) && void 0 !== t ? t : "Unknown";
      }
      function F(e, t) {
        if (!C.r.isUserOnMobileAppOrWeb) return;
        const s = (Date.now() - e) / 1e3;
        S.CA.sendAnalyticEvent({
          type: l.k0.MatchmakingUITimeToFirstQueueStart,
          category: l.eX.Matchmaking,
          floatValue: s,
          stringValue: t,
        });
      }
      function H(e) {
        return Object.values(r._M).includes(e);
      }
      function W(e) {
        switch (e) {
          case r._M.BeginnerMode:
            _.Q.continueCampaignMode();
            break;
          case r._M.ColonistRush:
            _.Q.clickedStartColonistRushBotGame();
            break;
          case r._M.Easy:
            (S.CA.sendGoogleAnalyticsEvent(
              S.CA.Category.LandingPage,
              S.CA.Label.ClickedLandingPageVSBots,
            ),
              _.Q.clickedStartEasyBotGame());
            break;
          case r._M.Medium:
            (S.CA.sendGoogleAnalyticsEvent(
              S.CA.Category.LandingPage,
              S.CA.Label.ClickedLandingPageVSBots,
            ),
              _.Q.clickedStartMediumBotGame());
            break;
          case r._M.Hard:
            (S.CA.sendGoogleAnalyticsEvent(
              S.CA.Category.LandingPage,
              S.CA.Label.ClickedLandingPageVSBots,
            ),
              _.Q.clickedStartHardBotGame());
        }
      }
      function K(e) {
        var t;
        return (
          e == r.Nw.UnrankedShuffle &&
          1 ==
            (null === (t = A.y.shuffleQueueData) || void 0 === t
              ? void 0
              : t.isBotGame)
        );
      }
      function V() {
        _.Q.startShuffleBotGame();
      }
    },
    24160: (e, t, s) => {
      "use strict";
      e.exports =
        s.p +
        "assets/dang-fix-pixelated-fullscreen-popup-image-before.b2baff274f27ba38d8cf.png";
    },
    24368: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/road_gold.c48ddeff8c81a713c940.svg";
    },
    24415: (e, t, s) => {
      "use strict";
      s.d(t, { D: () => x });
      var i = s(9029),
        n = s(78311),
        r = s(50482),
        o = s(74710),
        a = s(90676),
        c = s(23355);
      class l {
        setOpacity(e) {
          this.players.style.opacity = e;
        }
        update(e, t, s) {
          l.changedPlayerData(e, t, s) &&
            (this.removePlayers(),
            this.addRealPlayers(e),
            this.addHollowPlayers(t - e.length));
        }
        static changedPlayerData(e, t, s) {
          return (
            null == s ||
            s.maxPlayers != t ||
            s.players.length != e.length ||
            JSON.stringify(e) !== JSON.stringify(s.players)
          );
        }
        removePlayers() {
          (0, i.RH)(this.players, {
            key: "strings:colonistCommon.utils.emptyString",
          });
        }
        addRealPlayers(e) {
          for (const t of e) {
            const e = this.addPlayer(t.icon, void 0, t.membership),
              s =
                null != t.karmaCompletedGames && null != t.karmaTotalGames
                  ? {
                      key: "strings:homePage.header.playerKarma",
                      options: {
                        totalCompleted: t.karmaCompletedGames,
                        totalGames: t.karmaTotalGames,
                      },
                    }
                  : {
                      key: "strings:colonistCommon.utils.#buffer",
                      options: { value: "" },
                    },
              n = (0, o.dN)(
                { key: "strings:homePage.lobbyPage.playerHoverText" },
                {
                  username: {
                    key: "strings:colonistCommon.utils.#buffer",
                    options: { value: t.username },
                  },
                  karmaText: s,
                },
              );
            t.isBot ||
              ((0, a.vy)(e, n),
              (0, i.G0)(e, () => c.xp.init(t.username), !1, !0));
          }
        }
        addHollowPlayers(e) {
          if (!(e <= 0))
            for (let t = 0; t < e; t += 1) this.addPlayer(n.am.Guest, "0.5");
        }
        addPlayer(e, t, s) {
          const n = (0, i.Le)(this.players, "", "");
          n.style.position = "relative";
          const o = (0, i.zO)(n, e);
          if ((t && (o.style.opacity = t), null == s)) return n;
          const a = r.Zt.getMembershipProduct(s);
          return (
            null == a || (0, i.zO)(n, a.lobbyImage, "lobby_membership_icon"),
            n
          );
        }
        constructor(e, t) {
          ((this.players = (0, i.Le)(e, "player_count")),
            this.update(t.players, t.maxPlayers));
        }
      }
      var d = s(84235),
        u = s(83633),
        h = s(67908),
        p = s(17399),
        m = s(98487);
      class g {
        update(e, t) {
          g.changedNoTrollsData(e, t) &&
            (this.removeNoTrollsIcon(),
            g.isNoTrollsRoom(e) && this.addNoTrollsIcon());
        }
        removeNoTrollsIcon() {
          (0, i.RH)(this.noTrollsIcon, {
            key: "strings:colonistCommon.utils.emptyString",
          });
        }
        addNoTrollsIcon() {
          const e = (0, i.zO)(this.noTrollsIcon, n.am.IconNoTroll);
          (0, a.vy)(e, { key: "strings:roomPage.options.noTrollsGame.title" });
        }
        static changedNoTrollsData(e, t) {
          return null == t || t.minimumKarma != e;
        }
        static isNoTrollsRoom(e) {
          return e == m.Zt.NO_TROLLS_KARMA_THRESHOLD;
        }
        constructor(e, t) {
          ((this.noTrollsIcon = (0, i.Le)(e, "no_trolls_icon")),
            this.update(t.minimumKarma));
        }
      }
      class f {
        createRowElement() {
          const e = document.createElement("tr");
          return (
            e.classList.add("transitioning"),
            setTimeout(() => {
              e.classList.remove("transitioning");
            }, this.TRANSITION_TIME_MS),
            e
          );
        }
        update(e) {
          var t, s;
          (this.players.update(e.players, e.maxPlayers, this.roomData),
            this.noTrollsIcon.update(e.minimumKarma, this.roomData));
          const r = e.modePlayable ? e.gameModeSetting : h.p9.Classic4P,
            o =
              null === (t = u.qq.getModeDataForMode(r)) || void 0 === t
                ? void 0
                : t.name,
            a =
              null != o
                ? o
                : { key: "strings:colonistCommon.utils.emptyString" },
            c =
              null ===
                (s = d.X.getMapDataForMap(
                  e.mapPlayable ? e.gameMapSetting : (0, n.sP)(r),
                )) || void 0 === s
                ? void 0
                : s.name,
            l =
              null != c
                ? c
                : { key: "strings:colonistCommon.utils.emptyString" };
          if (null == c || null == o)
            return (
              (0, p.vV)("update", ["Error no such mode " + e.gameModeSetting]),
              void (0, p.vV)("update", [
                "Error no such map " + e.gameMapSetting,
              ])
            );
          ((0, i.RH)(this.tdMode, a),
            (0, i.RH)(this.tdMap, l),
            (0, i.RH)(this.tdSpeed, h.mt.getSpeedSettingText(e.speed)),
            (this.roomData = e));
        }
        remove() {
          (this.tableRow.classList.add("transitioning"),
            setTimeout(() => {
              this.tableRow.parentElement &&
                this.tableRow.parentElement.removeChild(this.tableRow);
            }, this.TRANSITION_TIME_MS));
        }
        getId() {
          return this.roomData.id;
        }
        setRoomAvailable(e, t) {
          const s = t || (void 0 !== e && e < this.roomData.minimumKarma);
          this.tableRow.classList.toggle(
            "lobby_table_row_unavailable",
            null != s && s,
          );
        }
        constructor(e, t, s) {
          ((this.TRANSITION_TIME_MS = 300),
            (this.tableRow = this.createRowElement()),
            e.appendChild(this.tableRow),
            (this.tdMode = (0, i.Cr)(this.tableRow)),
            (this.tdMap = (0, i.Cr)(this.tableRow)),
            (this.tdSpeed = (0, i.Cr)(this.tableRow)));
          const n = (0, i.Cr)(this.tableRow, "lobby_table_data_no_trolls"),
            r = (0, i.Cr)(this.tableRow, "lobby_table_data_players");
          ((this.noTrollsIcon = new g(n, t)),
            (this.players = new l(r, t)),
            (this.roomData = t),
            (0, i.G0)(this.tableRow, () => s(t.id)));
        }
      }
      var y = s(69714),
        b = s(19966);
      class v {
        hideLoading() {
          "none" != this.loadingView.style.display &&
            (this.loadingView.style.display = "none");
        }
        showLoading() {
          ("flex" != this.loadingView.style.display &&
            (this.loadingView.style.display = "flex"),
            "block" != this.loadingRing.style.display &&
              (this.loadingRing.style.display = "block"),
            "none" != this.loadingError.style.display &&
              (this.loadingError.style.display = "none"));
        }
        showLoadingError() {
          ("flex" != this.loadingView.style.display &&
            (this.loadingView.style.display = "flex"),
            "none" != this.loadingRing.style.display &&
              (this.loadingRing.style.display = "none"),
            "block" != this.loadingError.style.display &&
              (this.loadingError.style.display = "block"),
            (0, i.G0)(this.errorRefreshButton, () => location.reload()));
        }
        constructor(e) {
          ((this.loadingView = document.getElementById(
            e + "loading_ring_container",
          )),
            (this.loadingRing = document.getElementById(e + "loading_ring")),
            (this.loadingError = document.getElementById(e + "loading_error")),
            (this.errorRefreshButton = document.getElementById(
              e + "loading_error_button",
            )));
        }
      }
      var S = s(84324),
        k = s(66681),
        C = s(5603);
      class P {
        showActiveTableBody() {
          (clearTimeout(this.loadingRingTimeout),
            this.uiLoadingRingController.hideLoading(),
            this.setRefreshIconsRotating(!1),
            this.roomsTabDiv.classList.contains(this.ACTIVE_TAB_CLASS) &&
              (this.roomsTableBody.style.display = ""),
            this.spectateTabDiv.classList.contains(this.ACTIVE_TAB_CLASS) &&
              (this.spectateTableBody.style.display = ""));
        }
        updateLastRefreshTimestamp() {
          this.lastRefreshTimestamp = new Date().getTime();
        }
        isRoomListActive() {
          return "none" != this.roomsTable.style.display;
        }
        openSpectateTab() {
          (this.clickedRefreshSpectate(), this.onTabChange());
        }
        setRefreshIconsRotating(e) {
          const t = "rotate";
          e
            ? (this.roomsIcon.classList.add(t),
              this.spectateIcon.classList.add(t))
            : (this.roomsIcon.classList.remove(t),
              this.spectateIcon.classList.remove(t));
        }
        tableHeaderActions() {
          ((0, i.G0)(this.roomsTabDiv, () => {
            (this.clickedRooms(), this.onTabChange());
          }),
            (0, i.G0)(this.spectateTabDiv, () => this.openSpectateTab()),
            (0, i.G0)(this.spectateIcon, () => this.clickedRefreshSpectate()));
        }
        refreshIfLastRefreshTimestampPassed() {
          new Date().getTime() - this.lastRefreshTimestamp >=
            30 * S.i.MILLISECONDS &&
            this.spectateTabDiv.classList.contains(this.ACTIVE_TAB_CLASS) &&
            this.refreshSpectate();
        }
        initAutoRefresh() {
          (setInterval(() => {
            k.P_.isSceneLobby() &&
              this.isTabInFocus &&
              this.refreshIfLastRefreshTimestampPassed();
          }, S.i.MILLISECONDS),
            window.addEventListener("blur", () => {
              this.isTabInFocus = !1;
            }),
            window.addEventListener("focus", () => {
              ((this.isTabInFocus = !0),
                this.refreshIfLastRefreshTimestampPassed());
            }));
        }
        clickedRefreshSpectate() {
          (C.A.play(C.h.Click),
            b.CA.sendGoogleAnalyticsEvent(
              b.CA.Category.Lobby,
              b.CA.Label.ClickedLobbySpectateTab,
            ),
            this.refreshSpectate());
        }
        clickedRooms() {
          (C.A.play(C.h.Click),
            b.CA.sendGoogleAnalyticsEvent(
              b.CA.Category.Lobby,
              b.CA.Label.ClickedLobbyRoomsTab,
            ),
            b.CA.sendGoogleAnalyticsEvent(
              b.CA.Category.Lobby,
              b.CA.Label.ClickedLobbyRefresh,
            ),
            this.selectRooms());
        }
        refreshSpectate() {
          ((this.roomsIcon.style.display = "inline"),
            this.setRefreshIconsRotating(!0),
            this.roomsTabDiv.classList.remove(this.ACTIVE_TAB_CLASS),
            this.spectateTabDiv.classList.add(this.ACTIVE_TAB_CLASS),
            "none" != this.roomsTable.style.display &&
              (this.roomsTable.style.display = "none"),
            "table" != this.spectateTable.style.display &&
              (this.spectateTable.style.display = "table"),
            b.CA.sendGoogleAnalyticsEvent(
              b.CA.Category.Lobby,
              b.CA.Label.ClickedLobbyGames,
            ),
            this.refreshGameList());
        }
        selectRooms() {
          ((this.roomsIcon.style.display = "none"),
            this.roomsTabDiv.classList.add(this.ACTIVE_TAB_CLASS),
            this.spectateTabDiv.classList.remove(this.ACTIVE_TAB_CLASS),
            "none" != this.spectateTable.style.display &&
              (this.spectateTable.style.display = "none"),
            "table" != this.roomsTable.style.display &&
              (this.roomsTable.style.display = "table"));
        }
        constructor(e, t) {
          ((this.ACTIVE_TAB_CLASS = "scene_lobby_mid_tabs_active"),
            (this.isTabInFocus = !0),
            (this.roomsTabDiv = document.getElementById(
              "lobby_center_table_rooms_tab_div",
            )),
            (this.spectateTabDiv = document.getElementById(
              "lobby_center_table_spectate_tab_div",
            )),
            (this.roomsIcon = document.getElementById(
              "lobby_center_table_rooms_refresh_icon_rooms_table",
            )),
            (this.roomsIcon.style.display = "none"),
            (this.spectateIcon = document.getElementById(
              "lobby_center_table_rooms_refresh_icon_spectate_table",
            )),
            (this.roomsTable = document.getElementById(
              "lobby_center_rooms_table",
            )),
            (this.spectateTable = document.getElementById(
              "lobby_center_spectate_table",
            )),
            (this.roomsTableBody = document.getElementById(
              "lobby_center_rooms_table_body",
            )),
            (this.spectateTableBody = document.getElementById(
              "lobby_center_spectate_table_body",
            )),
            (this.uiLoadingRingController = new v("lobby_center_")),
            this.uiLoadingRingController.hideLoading(),
            this.tableHeaderActions(),
            this.updateLastRefreshTimestamp(),
            this.initAutoRefresh(),
            (this.refreshGameList = e),
            (this.onTabChange = t));
        }
      }
      const _ = new Set([
        m.Qy.Classic4P,
        m.Qy.Classic4PRandom,
        m.Qy.TutorialSS1HeadingForNewShores4P,
        m.Qy.TutorialSS2FourIslands4P,
        m.Qy.TutorialSS3FogIsland4P,
        m.Qy.TutorialSS4ThroughTheDesert4P,
      ]);
      new Set([
        m.p9.Classic4P,
        m.p9.ServerStressTestClassic4P,
        m.p9.BeginnerModeClassic4P,
      ]);
      class A {
        sort(e, t) {
          const s = [...e];
          if (null == t) return this.sortGameList(s);
          const i = s.filter((e) => t >= e.minimumKarma),
            n = s.filter((e) => t < e.minimumKarma),
            r = this.sortGameList(i),
            o = this.sortGameList(n);
          return r.concat(o);
        }
        sortGameList(e) {
          return [...e].sort((e, t) => this.getScore(t) - this.getScore(e));
        }
        getScore(e) {
          let t = 0;
          return (
            (t += this.getNoTrollsScore(e)),
            (t += this.getModeScore(e)),
            (t += this.getMapScore(e)),
            (t += this.getPlayerCountScore(e)),
            t
          );
        }
        getNoTrollsScore(e) {
          return e.minimumKarma != m.Zt.DEFAULT_KARMA_THRESHOLD
            ? this.NO_TROLLS_GAME_STRENGTH
            : 0;
        }
        getModeScore(e) {
          const t = e.gameModeSetting;
          return A.getModePriority(t) * this.MODE_PRIORITY_STRENGTH;
        }
        getMapScore(e) {
          return !_.has(e.gameMapSetting) ? this.MAP_PRIORITY_STRENGTH : 0;
        }
        getPlayerCountScore(e) {
          const t = e.players.length / e.maxPlayers;
          return t < 1
            ? t * this.PLAYER_COUNT_PRIORITY_STRENGTH
            : this.PLAYER_COUNT_PRIORITY_PENALTY;
        }
        static getModePriority(e) {
          switch (e) {
            case m.p9.ColonistRush4P:
              return 5;
            case m.p9.CitiesAndKnightsSeafarers4P:
            case m.p9.CitiesAndKnightsSeafarers56P:
              return 4;
            case m.p9.CitiesAndKnights4P:
            case m.p9.CitiesAndKnights56P:
              return 3;
            case m.p9.Seafarers4P:
            case m.p9.Seafarers56P:
              return 2;
            case m.p9.Classic56P:
            case m.p9.Classic78P:
              return 1;
            default:
              return 0;
          }
        }
        constructor() {
          ((this.NO_TROLLS_GAME_STRENGTH = 90),
            (this.MODE_PRIORITY_STRENGTH = 30),
            (this.MAP_PRIORITY_STRENGTH = 20),
            (this.PLAYER_COUNT_PRIORITY_STRENGTH = 10),
            (this.PLAYER_COUNT_PRIORITY_PENALTY = -100));
        }
      }
      var w = s(655),
        R = s(32398),
        T = s(13618),
        I = s(81888);
      class M {
        activate() {
          (this.clear(),
            k.sZ.controller.isSocketOpen()
              ? y.Q.watchRoomList()
              : (this.fetchRooms(),
                (this.fetchRoomsInterval = setInterval(() => {
                  this.fetchRooms();
                }, 2e3))),
            (this.clearRoomsInterval = setInterval(
              () => this.clearRooms(),
              2e3,
            )));
        }
        destroy() {
          (clearInterval(this.clearRoomsInterval),
            clearInterval(this.fetchRoomsInterval),
            y.Q.stopWatchingRoomList(),
            this.clear(),
            this.unregisterSessionEstablishedObserver());
        }
        update(e) {
          var t;
          e.full && this.clear();
          const s =
              null === (t = I._.userState) || void 0 === t ? void 0 : t.karma,
            i = this.getInitialRoomsSorted(e.rooms, s);
          for (const e of i) {
            this.rooms.has(e.id) ||
              this.rooms.set(e.id, {
                room: e,
                lobbyRow: new f(this.tableBody, L(e), (e) =>
                  this.clickedRoom(e),
                ),
              });
            const t = this.rooms.get(e.id);
            ((t.room = e), t.lobbyRow.update(L(e)));
            const i = !t.room.visible || this.unavailableRooms.has(e.id);
            t.lobbyRow.setRoomAvailable(s, i);
          }
        }
        setRoomUnavailable(e) {
          const t = this.rooms.get(e);
          null == t || t.lobbyRow.setRoomAvailable(void 0, !0);
        }
        async fetchRooms() {
          const e = await w.m.getRequestHandler(R.l.apiGetRoomList(), void 0);
          if (null == e) return;
          const { rooms: t } = e.json;
          this.update({ full: !1, rooms: t });
          for (const [e, s] of this.rooms) {
            t.some((t) => t.id === e) || (s.room = { ...s.room, visible: !1 });
          }
        }
        clearRooms() {
          if (this.removeRooms) {
            const e = Array.from(this.rooms.values()).filter(
              (e) => !e.room.visible,
            );
            for (const t of e)
              (t.lobbyRow.remove(), this.rooms.delete(t.room.id));
          }
          for (const e of this.header.getElementsByClassName(
            "room_update_progress",
          ))
            this.header.removeChild(e);
          ((this.removeRooms = this.rooms.size > 0),
            (0, i.Le)(
              this.header,
              "room_update_progress " +
                (this.removeRooms ? "room_update_progress_animation" : ""),
            ));
        }
        getInitialRoomsSorted(e, t) {
          if (this.rooms.size) return e;
          return new A().sort(e.map(L), t);
        }
        clickedRoom(e) {
          var t;
          1 ==
          (null === (t = this.rooms.get(e)) || void 0 === t
            ? void 0
            : t.room.visible)
            ? this.onRoomClick(e)
            : k.OV.showNotification(n.am.Lightning, {
                key: "strings:homePage.lobbyPage.popups.roomNoLongerExists",
              });
        }
        clear() {
          (this.rooms.clear(), this.tableBody.replaceChildren());
        }
        constructor(e, t, s, i) {
          ((this.rooms = new Map()),
            (this.removeRooms = !1),
            (this.tableBody = e),
            (this.header = t),
            (this.onRoomClick = s),
            (this.unavailableRooms = i),
            (this.unregisterSessionEstablishedObserver =
              k.sZ.controller.registerSessionEstablishedObserver(() => {
                void 0 !== this.clearRoomsInterval &&
                  (this.clear(), y.Q.watchRoomList());
              })));
        }
      }
      function L(e) {
        return { ...e, gameMapSetting: e.map, gameModeSetting: e.mode };
      }
      class B {
        show() {
          ((this.visible = !0), this.updateRoomListDisplay());
        }
        hide() {
          ((this.visible = !1), this.updateRoomListDisplay());
        }
        updateRoomList(e) {
          var t;
          null === (t = this.roomList) || void 0 === t || t.update(e);
        }
        onGotKicked(e, t) {
          var s;
          t ||
            (this.kickedFromRooms.add(e),
            null === (s = this.roomList) ||
              void 0 === s ||
              s.setRoomUnavailable(e));
        }
        updateRoomListDisplay() {
          var e;
          if (
            (null === (e = this.roomList) || void 0 === e || e.destroy(),
            (this.roomList = void 0),
            this.visible && this.headerController.isRoomListActive())
          ) {
            const e = document.getElementById("lobby_center_rooms_table_body"),
              t = document.getElementById("lobby_center_table_rooms_tab_div");
            ((this.roomList = new M(
              e,
              t,
              B.createClickedJoinRoomCallback(),
              this.kickedFromRooms,
            )),
              this.roomList.activate());
          }
        }
        static createClickedJoinRoomCallback() {
          return (0, T.BA)(async (e) => {
            await k.P_.createClickedJoinRoomCallback(e);
          });
        }
        async refreshGames() {
          this.headerController.updateLastRefreshTimestamp();
          const e = await w.m.getRequestHandler(
            R.l.apiGetGameList(),
            void 0,
            void 0,
            !1,
          );
          if (void 0 === e) return (0, p.vV)("refreshGames", ["Network error"]);
          this.updateSpectateGames(e.json);
        }
        updateSpectateGames(e) {
          (this.headerController.showActiveTableBody(),
            B.removeLobbyTableRows(this.spectateRows));
          const t = this.gameSorter.sort(e.games);
          this.spectateRows = this.createLobbyTableRows(
            t,
            this.spectateTableBody,
            B.createClickedSpectateRoomCallback(),
          );
        }
        static createClickedSpectateRoomCallback() {
          return (0, T.BA)(async (e) => {
            await y.Q.clickedSpectateGame(e);
          });
        }
        static removeLobbyTableRows(e) {
          (e.forEach((e) => {
            e.remove();
          }),
            (e.length = 0));
        }
        createLobbyTableRows(e, t, s) {
          const i = [];
          for (const n of e) {
            const e = new f(t, n, s);
            (e.update(n), i.push(e));
          }
          return i;
        }
        constructor() {
          ((this.spectateRows = []),
            (this.gameSorter = new A()),
            (this.kickedFromRooms = new Set()),
            (this.visible = !1),
            (this.headerController = new P(
              () => this.refreshGames(),
              () => this.updateRoomListDisplay(),
            )),
            (this.spectateTableBody = document.getElementById(
              "lobby_center_spectate_table_body",
            )));
        }
      }
      var D = s(31166),
        E = s(26658),
        G = s(81966);
      class x {
        setupButtonHandlers() {
          (this.createRoomButton &&
            (0, i.G0)(
              this.createRoomButton,
              (0, T.BA)(async () => {
                (D.WC.play(D.hc.JoinRoom),
                  await I._.requireUser(),
                  y.Q.clickedCreateRoom(E.CJ.Standard));
              }),
            ),
            (0, i.G0)(
              this.joinRoomButton,
              (0, T.BA)(() => {
                this.openJoinRoomPopup();
              }),
            ));
        }
        async handleJoinRoom(e) {
          await y.Q.accessGameFromLink(e);
        }
        openJoinRoomPopup() {
          const e = new G.e(
            { key: "strings:homePage.lobbyPage.popups.enterRoomID.title" },
            { key: "strings:homePage.lobbyPage.popups.enterRoomID.body" },
            async (e) =>
              await this.handleJoinRoom(e.trim().toLocaleLowerCase()),
            () => {},
            !0,
          );
          (e.setLengthLimits(1, 10), e.show());
        }
        hide() {
          ((this.lobbyContainerDiv.style.display = "none"),
            this.tableController.hide());
        }
        show() {
          ((this.lobbyContainerDiv.style.display = "flex"),
            this.tableController.show());
        }
        updateRoomList(e) {
          this.tableController.updateRoomList(e);
        }
        onGotKicked(e, t) {
          (k.OV.showNotification(n.am.Lightning, {
            key: "strings:roomPage.notifications.youWereKickedFromRoom",
          }),
            this.tableController.onGotKicked(e, t));
        }
        constructor() {
          ((this.tableController = new B()),
            (this.lobbyContainerDiv =
              document.getElementById("scene_lobby_mid")),
            (this.createRoomButton = document.getElementById(
              "m-lobby-create-room-btn",
            )),
            (this.joinRoomButton = document.getElementById(
              "m-lobby-join-room-btn",
            )),
            this.setupButtonHandlers());
        }
      }
    },
    24460: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/city_mysticblue.32a6f930f077420c71ba.svg";
    },
    24796: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/bg_button_trade.87e125032b62658b8df0.svg";
    },
    24912: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/ab_gifting_thanksgiving.0cf1f7ccd5667b4d709a.png";
    },
    25059: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_controls.47ceca5c7a69e3f499f7.svg";
    },
    25103: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_trade_arrow_red.d9bd6f9e6fe61a2cda68.svg";
    },
    25150: (e, t, s) => {
      "use strict";
      s.d(t, { Y: () => C });
      var i = s(53015),
        n = s(51988),
        r = s(9029),
        o = s(81966),
        a = s(67908),
        c = s(78311),
        l = s(18587),
        d = s(19720),
        u = s(19733),
        h = s(655),
        p = s(32398),
        m = s(18514),
        g = s(30506),
        f = s(52955);
      const y = a.mt.PlayerConstants;
      class b {
        static isValidLength(e, t) {
          return e
            ? ((s = t),
              (0, f.to)(s, y.MIN_USERNAME_LENGTH, y.MAX_USERNAME_LENGTH))
            : (function (e) {
                return (0, f.to)(
                  e,
                  y.MIN_USERNAME_LENGTH,
                  y.MAX_GUEST_USERNAME_LENGTH,
                );
              })(t);
          var s;
        }
        static containsOnlyAlphanumeric(e) {
          return 0 == g.$x.getNonAlphanumericCharacterCount(e);
        }
      }
      var v = s(13618),
        S = s(81888);
      const k = a.mt.PlayerConstants;
      class C extends o.e {
        static get usernameChangePrice() {
          const e = n.F.getItemDetail(i.n9.Consumable, i.nx.UsernameChange);
          var t;
          return null !== (t = null == e ? void 0 : e.price) && void 0 !== t
            ? t
            : 0;
        }
        static createUsernameChangePriceElementIn(e) {
          const t = C.usernameChangePrice,
            s = (0, r.zO)(e, c.am.ColonistCoin);
          ((s.style.width = "1.25em"),
            (s.style.marginRight = "5px"),
            (0, r.i5)(e, "", {
              key: "strings:colonistCommon.utils.#buffer",
              options: { value: t },
            }));
        }
        setState(e) {
          ((this.state = {
            username: e.username,
            usernameChangeAttemptsLeft: e.usernameChangeAttemptsLeft,
            isGuest: !e.isLoggedIn,
            colonistCoins: e.items.colonistCoins,
          }),
            this.updateUsernameLengthLimits(),
            this.setCharacterCounter(),
            this.updateUsernameInputText(),
            this.updateChangeAttemptsLeftContainer(),
            this.updateSubmitButtonContent());
        }
        async setVisible(e) {
          e &&
          (this.updateUsernameInputText(),
          this.updateCharacterCounter(),
          await this.updateUsernameValidityElements(),
          this.input.classList.remove("invalid-text"),
          (this.usernameValidationMessage.style.visibility = "hidden"),
          this.state.isGuest && this.state.usernameChangeAttemptsLeft <= 0)
            ? C.showOutOfAttemptsAsGuestPopup()
            : ((this.container.style.display = "" + (e ? "block" : "none")),
              l.r.isUserOnDiscordMobile || this.input.focus());
        }
        show() {
          this.setVisible(!0);
        }
        removePopup() {
          this.setVisible(!1);
        }
        updateUsernameInputText() {
          this.input.value = this.state.username;
        }
        updateUsernameLengthLimits() {
          const e = this.state.isGuest
            ? k.MAX_GUEST_USERNAME_LENGTH
            : k.MAX_USERNAME_LENGTH;
          this.setLengthLimits(k.MIN_USERNAME_LENGTH, e);
        }
        updateChangeAttemptsLeftContainer() {
          0 != this.state.usernameChangeAttemptsLeft
            ? ((this.usernameChangeAttemptsLeftContainer.style.display =
                "block"),
              (0, r.RH)(this.usernameChangeAttemptsLeftContainer, {
                key: "strings:homePage.header.changeUsername.usernameChangeAttemptsLeftNote",
                options: { count: this.state.usernameChangeAttemptsLeft },
              }))
            : (this.usernameChangeAttemptsLeftContainer.style.display = "none");
        }
        updateSubmitButtonContent() {
          ((0, r.RH)(this.checkButton, {
            key: "strings:colonistCommon.utils.emptyString",
          }),
            this.state.usernameChangeAttemptsLeft <= 0
              ? (this.checkButton.classList.remove("btn_general_check"),
                this.showCostInSubmitButton())
              : this.checkButton.classList.add("btn_general_check"));
        }
        showCostInSubmitButton() {
          C.createUsernameChangePriceElementIn(this.checkButton);
        }
        async submit(e) {
          if (
            (await this.checkUsernameValidity(),
            5 != this.usernameValidationState)
          )
            return;
          if (this.state.usernameChangeAttemptsLeft > 0)
            return void this.showConfirmUsernameChangeWithAttemptsLeftPopup(e);
          this.state.colonistCoins >= C.usernameChangePrice
            ? this.showConfirmUsernameChangeWithCoinsPopup(e)
            : "/store" != window.location.pathname
              ? this.showNotEnoughCoinsToChangeUsernamePopup(() => {
                  (0, v.Yf)("/store#coins", !0, !0);
                })
              : this.showNotEnoughCoinsToChangeUsernamePopup(() => {
                  const e = document.getElementById("coins");
                  null == e || e.scrollIntoView({ behavior: "smooth" });
                });
        }
        static showOutOfAttemptsAsGuestPopup() {
          new d.L();
        }
        showConfirmUsernameChangeWithAttemptsLeftPopup(e) {
          const t = {
            key: "strings:homePage.header.changeUsername.confirm.body",
            options: { count: this.state.usernameChangeAttemptsLeft - 1 },
          };
          u.r.create(
            { key: "strings:homePage.header.changeUsername.confirm.title" },
            t,
            () => {
              (this.setVisible(!1), this.updateUsername(e, !1));
            },
            () => {},
          );
        }
        showNotEnoughCoinsToChangeUsernamePopup(e) {
          u.r.create(
            {
              key: "strings:homePage.header.changeUsername.notEnoughCoins.title",
            },
            {
              key: "strings:homePage.header.changeUsername.notEnoughCoins.body",
            },
            () => {
              (this.setVisible(!1), e());
            },
            () => {},
            !0,
            {
              showXButton: !1,
              checkButtonCustomContent: {
                key: "strings:homePage.header.changeUsername.notEnoughCoins.checkButton",
              },
            },
          );
        }
        showConfirmUsernameChangeWithCoinsPopup(e) {
          const t = document.createElement("span");
          C.createUsernameChangePriceElementIn(t);
          const s = {
            key: "strings:homePage.header.changeUsername.confirm.body",
            options: {
              context: "coins",
              interpolation: { escapeValue: !1 },
              price: t.outerHTML,
            },
          };
          u.r.create(
            { key: "strings:homePage.header.changeUsername.confirm.title" },
            s,
            () => {
              (this.setVisible(!1), this.updateUsername(e, !0));
            },
            () => {},
          );
        }
        initializeValidityCheck() {
          (this.updateUsernameValidityElements(),
            this.input.addEventListener("input", () => {
              (0, v.a8)(async () => {
                this.updateUsernameValidityElements();
              })();
            }));
        }
        async updateUsernameValidityElements() {
          (this.disableSubmission(),
            await this.checkUsernameValidity(),
            this.updateCustomValidityAndErrorMessage(),
            this.updateUsernameTextColor(),
            this.updateSuggestedUsernames(),
            this.updateCheckButtonState());
        }
        disableSubmission() {
          const e = m.a7.t(
            "strings:homePage.header.changeUsername.validationMessage.pleaseWait",
          );
          (this.input.setCustomValidity(e),
            (this.checkButton.style.pointerEvents = "none"));
        }
        async checkUsernameValidity() {
          const e = this.input.value;
          if (
            ((this.suggestedPostfixes = []),
            e.toLowerCase() == this.state.username.toLowerCase())
          )
            return void (this.usernameValidationState = 0);
          if (!b.containsOnlyAlphanumeric(e))
            return void (this.usernameValidationState = 1);
          if (!b.isValidLength(!this.state.isGuest, e))
            return void (this.usernameValidationState = 2);
          const t = await h.m.postRequestHandler(
            p.l.apiValidateUsername(e),
            void 0,
            void 0,
          );
          if (e != this.input.value) return;
          const s = null == t ? void 0 : t.json;
          if (null != s) {
            if (!s.containsToxicWord)
              return s.isAvailable
                ? void (this.usernameValidationState = 5)
                : ((this.usernameValidationState = 4),
                  void (this.suggestedPostfixes = s.suggestedPostfixes));
            this.usernameValidationState = 3;
          }
        }
        updateCustomValidityAndErrorMessage() {
          let e = { key: "strings:colonistCommon.utils.emptyString" };
          switch (this.usernameValidationState) {
            case 5:
              return (
                (this.usernameValidationMessage.style.visibility = "hidden"),
                void this.input.setCustomValidity("")
              );
            case 0:
              e = {
                key: "strings:homePage.header.changeUsername.validationMessage.notDifferent",
              };
              break;
            case 2:
              e = {
                key: "strings:homePage.header.changeUsername.validationMessage.invalidLength",
                options: {
                  minLength: k.MIN_USERNAME_LENGTH,
                  maxLength: k.MAX_USERNAME_LENGTH,
                },
              };
              break;
            case 1:
              e = {
                key: "strings:homePage.header.changeUsername.validationMessage.nonAlphanumeric",
              };
              break;
            case 3:
              e = {
                key: "strings:homePage.header.changeUsername.validationMessage.hasBadWords",
              };
              break;
            case 4:
              e = {
                key: "strings:homePage.header.changeUsername.validationMessage.notAvailable",
              };
          }
          ((0, r.RH)(this.usernameValidationMessage, e),
            (this.usernameValidationMessage.style.visibility = "visible"));
          const t = l.r.isUserOnDiscordMobile ? " " : m.a7.t(e.key, e.options);
          this.input.setCustomValidity(t);
        }
        updateUsernameTextColor() {
          5 != this.usernameValidationState
            ? this.input.classList.add("invalid-text")
            : this.input.classList.remove("invalid-text");
        }
        updateSuggestedUsernames() {
          var e;
          ((0, r.RH)(this.suggestedUsernamesContainer, {
            key: "strings:colonistCommon.utils.emptyString",
          }),
            null === (e = this.suggestedPostfixes) ||
              void 0 === e ||
              e.forEach((e) => {
                const t = this.input.value + e,
                  s = (0, r.i5)(
                    this.suggestedUsernamesContainer,
                    "suggestion-text",
                    {
                      key: "strings:colonistCommon.utils.#buffer",
                      options: { value: t },
                    },
                  );
                (0, r.G0)(s, () => {
                  ((this.input.value = t),
                    this.updateCharacterCounter(),
                    this.updateUsernameValidityElements());
                });
              }));
        }
        constructor(e, t, s) {
          const i = l.r.isUserOnDiscord ? "discord" : "";
          (super(
            null != e
              ? e
              : {
                  key: "strings:homePage.header.changeUsername.title",
                  options: { context: i },
                },
            null != t
              ? t
              : {
                  key: "strings:homePage.header.changeUsername.body",
                  options: { context: i },
                },
            (e) => {
              this.submit(e);
            },
            null != s ? s : () => {},
            !0,
          ),
            (this.state = {
              username: "",
              usernameChangeAttemptsLeft: 0,
              isGuest: !1,
              colonistCoins: 0,
            }),
            (this.usernameValidationState = 0));
          const n = (0, r.Le)(this.form, "");
          ((this.usernameValidationMessage = (0, r.i5)(
            n,
            "popup-footnote warning-text",
            { key: "strings:colonistCommon.utils.emptyString" },
          )),
            (this.suggestedUsernamesContainer = (0, r.Le)(
              n,
              "popup-footnote suggestions-wrapper",
            )),
            (this.usernameChangeAttemptsLeftContainer = (0, r.Wr)(
              this.form,
              { key: "strings:colonistCommon.utils.emptyString" },
              "popup-footnote",
            )),
            this.setFocusStyles(this.input),
            this.initializeValidityCheck(),
            S._.registerChangeListener((e) => {
              null != e && this.setState(e);
            }));
        }
      }
    },
    25196: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/sfx_city_place.ef88a7889150162d1350.mp3";
    },
    25720: (e, t, s) => {
      "use strict";
      s.d(t, { H: () => k, Y: () => C });
      var i = s(9029),
        n = s(66681),
        r = s(98487),
        o = s(78311);
      class a {
        setAction(e) {
          this.buttonContainer.onpointerdown = (t) => {
            (t.preventDefault(), e());
          };
        }
        setButtonAsTopButton() {
          return (
            this.buttonContainer.classList.add(
              "player-options-dropdown-button-top",
            ),
            this
          );
        }
        setButtonAsBottomButton() {
          return (
            this.buttonContainer.classList.add(
              "player-options-dropdown-button-bottom",
            ),
            this
          );
        }
        setButtonAsSingleButton() {
          return (
            this.buttonContainer.classList.add(
              "player-options-dropdown-button-single",
            ),
            this
          );
        }
        constructor(e, t, s, a) {
          const c = n.IH.gameController.isPlayerSpectator;
          switch (t) {
            case k.Report:
              ((this.buttonContainer = (0, i.Le)(
                e,
                "player-options-dropdown-button",
              )),
                (this.buttonText = (0, i.Wr)(
                  this.buttonContainer,
                  { key: "strings:game.playerOptionsPopup.report" },
                  "player-options-dropdown-button-text-red",
                )));
              break;
            case k.Mute:
              this.buttonContainer = (0, i.Le)(
                e,
                "player-options-dropdown-button " + (c ? "disabled" : ""),
              );
              const t = n.IH.gameStore.getState().gameMute.isMuted(s);
              this.buttonText = t
                ? (0, i.Wr)(
                    this.buttonContainer,
                    { key: "strings:game.playerOptionsPopup.unmute" },
                    "player-options-dropdown-button-text",
                  )
                : (0, i.Wr)(
                    this.buttonContainer,
                    { key: "strings:game.playerOptionsPopup.mute" },
                    "player-options-dropdown-button-text",
                  );
              break;
            case k.Profile:
              ((this.buttonContainer = (0, i.Le)(
                e,
                "player-options-dropdown-button",
              )),
                (this.buttonText = (0, i.Wr)(
                  this.buttonContainer,
                  { key: "strings:game.playerOptionsPopup.viewProfile" },
                  "player-options-dropdown-button-text",
                )));
              break;
            case k.AddFriend:
              ((this.buttonContainer = (0, i.Le)(
                e,
                "player-options-dropdown-button",
              )),
                (this.buttonText = (0, i.Wr)(
                  this.buttonContainer,
                  { key: "strings:game.playerOptionsPopup.addFriend" },
                  "player-options-dropdown-button-text",
                )));
              break;
            case k.BlockTrades:
              this.buttonContainer = (0, i.Le)(
                e,
                "player-options-dropdown-button " + (c ? "disabled" : ""),
              );
              const l = r.LF.doesPlayer1HaveAnEmbargoAgainstPlayer2(
                n.IH.gameController.tradeState.embargoState,
                n.IH.gameController.myColor,
                a,
              )
                ? { key: "strings:game.playerOptionsPopup.unblockTrades" }
                : { key: "strings:game.playerOptionsPopup.blockTrades" };
              this.buttonText = (0, i.Wr)(
                this.buttonContainer,
                l,
                "player-options-dropdown-button-text",
              );
              break;
            case k.Gift:
              ((this.buttonContainer = (0, i.Le)(
                e,
                "player-options-dropdown-button",
              )),
                (0, i.zO)(this.buttonContainer, o.am.StoreGiftMembershipDark),
                (this.buttonText = (0, i.Wr)(
                  this.buttonContainer,
                  { key: "strings:storePage.sendGift" },
                  "player-options-dropdown-button-text",
                )));
          }
        }
      }
      var c = s(26406),
        l = s(34617),
        d = s(95176),
        u = s(18587),
        h = s(81888),
        p = s(84445),
        m = s(76092),
        g = s(19966),
        f = s(32398),
        y = s(655),
        b = s(13618),
        v = s(13359),
        S = s(23355),
        k = (function (e) {
          return (
            (e[(e.Report = 0)] = "Report"),
            (e[(e.Mute = 1)] = "Mute"),
            (e[(e.Profile = 2)] = "Profile"),
            (e[(e.AddFriend = 3)] = "AddFriend"),
            (e[(e.BlockTrades = 4)] = "BlockTrades"),
            (e[(e.Gift = 5)] = "Gift"),
            e
          );
        })({});
      class C {
        get isPlayerMyUser() {
          var e;
          return (
            this.player.userState.userId ===
            (null === (e = h._.userState) || void 0 === e ? void 0 : e.id)
          );
        }
        get isPlayerMyPerspective() {
          return (
            this.player.color === this.uiGameManager.gameController.myColor
          );
        }
        buildInGamePlayerOptionsPopup() {
          (this.addProfileButton(),
            this.addAddFriendButton(),
            this.addGiftButton(!1),
            this.addBlockTradesButton(),
            this.addMuteButton(),
            this.addReportButton(),
            this.styleButtons());
        }
        buildInGameBotOptionsPopup() {
          (this.addBlockTradesButton(), this.styleButtons());
        }
        styleButtons() {
          (this.assignTopAndBottomButtons(),
            this.setHeights(),
            this.updatePopupAttributes());
        }
        addGiftButton(e) {
          if (u.r.isUserOnDiscordMobile) return;
          if (u.r.isUserOnMobileAppOrWeb && !e) return;
          if (this.isPlayerMyUser) return;
          if (this.player.isLocalDiscordPlayer) return;
          const t = new a(
              this.contentContainer,
              5,
              this.player.username,
              this.player.color,
            ),
            s = {
              type: m.k0.ABTestClickAnalytics,
              category: m.eX.GiftMembershipOverlay,
              floatValue: m.s8.InGame,
            };
          (t.setAction(() => {
            if ((g.CA.sendAnalyticEvent(s), u.r.isUserOnDiscord && e))
              (0, p.b4)(() => {
                n.P_.handleUrlRedirectViaParameters(
                  v.T.DiscordGifting,
                  this.player.username,
                );
              }, this.player.username);
            else {
              const e =
                (u.r.isUserOnDiscord ? "https://colonist.io" : "") +
                `/store?username=${this.player.username}#gift`;
              (0, p.b4)(() => (0, b.Yf)(e, !0), this.player.username);
            }
            this.removeDropdown();
          }),
            this.optionButtons.push(t));
        }
        addAddFriendButton() {
          if (this.player.isLocalDiscordPlayer) return;
          if (this.isPlayerMyUser) return;
          const e = new a(
            this.contentContainer,
            3,
            this.player.username,
            this.player.color,
          );
          (e.setAction(() => {
            this.addFriendButtonAction();
          }),
            this.optionButtons.push(e));
        }
        addProfileButton() {
          if (this.player.isLocalDiscordPlayer) return;
          if (u.r.isUserOnMobileAppOrWeb && this.isPlayerMyUser) return;
          const e = new a(
            this.contentContainer,
            2,
            this.player.username,
            this.player.color,
          );
          (e.setAction(() => this.viewProfileButtonAction()),
            this.optionButtons.push(e));
        }
        addMuteButton() {
          if (this.uiGameManager.gameController.isReplay) return;
          if (this.player.isLocalDiscordPlayer) return;
          if (this.isPlayerMyPerspective) return;
          if (u.r.isUserOnDiscordMobile) return;
          const e = new a(
            this.contentContainer,
            1,
            this.player.username,
            this.player.color,
          );
          (e.setAction(() => {
            this.muteButtonAction();
          }),
            this.optionButtons.push(e));
        }
        addBlockTradesButton() {
          if (this.uiGameManager.gameController.isReplay) return;
          if (this.isPlayerMyPerspective) return;
          const e = new a(
            this.contentContainer,
            4,
            this.player.username,
            this.player.color,
          );
          (e.setAction(() => {
            (this.uiGameManager.socketGameSend.toggleEmbargoAgainstPlayer(
              this.player.color,
            ),
              this.removeDropdown());
          }),
            this.optionButtons.push(e));
        }
        addReportButton() {
          if (this.player.isLocalDiscordPlayer) return;
          if (this.isPlayerMyUser) return;
          const e = new a(
            this.contentContainer,
            0,
            this.player.username,
            this.player.color,
          );
          (e.setAction(() => {
            this.reportButtonAction();
          }),
            this.optionButtons.push(e));
        }
        removeDropdown() {
          ((this.container.style.display = "none"),
            null != this.container.parentElement &&
              this.container.parentElement.removeChild(this.container));
        }
        reportButtonAction() {
          (c.S.createReportPopup(this.player.username, (e, t) => {
            const s = {
              reason: t,
              databaseGameId: n.sZ.gameListener.databaseGameId,
            };
            (y.m.postRequestHandler(
              f.l.apiReportPlayer(e),
              void 0,
              s,
              "application/json",
            ),
              this.uiGameManager.socketGameSend.reportPlayer(
                t,
                this.player.color,
              ));
          }),
            this.removeDropdown());
        }
        muteButtonAction() {
          (this.uiGameManager.gameStore
            .getState()
            .gameMute.toggleMuteForPlayer(this.player.username),
            this.removeDropdown());
        }
        async addFriendButtonAction() {
          (this.createAddFriendPopup(), this.removeDropdown());
        }
        viewProfileButtonAction() {
          (S.xp.init(this.player.username), this.removeDropdown());
        }
        createAddFriendPopup() {
          new d.y(
            { key: "strings:popups.addFriend.title" },
            {
              key: "strings:popups.addFriend.body",
              options: { username: this.player.username },
            },
            () => {
              l.v.addFriendAction(this.player.username);
            },
            () => {},
            !0,
          ).show();
        }
        updatePopupAttributes() {
          (this.updateAppearance(), this.updatePosition());
        }
        updatePosition() {
          const e = this.uiGameManager.canvasController;
          let t =
              this.popupPositionRelativeToScreen.x * e.app.view.offsetWidth +
              e.responsiveController.getCanvasX(),
            s =
              this.popupPositionRelativeToScreen.y * e.app.view.offsetHeight +
              e.responsiveController.getCanvasY();
          (t + this.contentContainer.offsetWidth > window.innerWidth &&
            (t = Math.max(
              0,
              window.innerWidth - this.contentContainer.offsetWidth,
            )),
            s + this.contentContainer.offsetHeight > window.innerHeight &&
              (s = Math.max(
                0,
                window.innerHeight - this.contentContainer.offsetHeight,
              )),
            (this.contentContainer.style.left =
              (t / window.innerWidth) * 100 + "%"),
            (this.contentContainer.style.top =
              (s / window.innerHeight) * 100 + "%"));
        }
        updateAppearance() {
          const e = this.uiGameManager.canvasController,
            t = e.itemSize / e.appH,
            s =
              2 * t * e.app.view.offsetHeight * (this.optionButtons.length / 4);
          ((this.contentContainer.style.width = "fit-content"),
            (this.contentContainer.style.height = s + "px"));
          const i = 0.1 * t * e.app.view.offsetHeight;
          ((this.contentContainer.style.borderRadius = i + "px"),
            1 != this.optionButtons.length
              ? (null != this.topButton &&
                  (this.topButton.buttonContainer.style["border-radius"] =
                    `${i}px ${i}px 0 0`),
                null != this.bottomButton &&
                  (this.bottomButton.buttonContainer.style["border-radius"] =
                    `0 0 ${i}px ${i}px`))
              : (this.optionButtons[0].buttonContainer.style["border-radius"] =
                  i + "px"));
        }
        setHeights() {
          (this.setContainerHeight(), this.setButtonHeights());
        }
        assignTopAndBottomButtons() {
          var e, t, s, i;
          if (
            ((this.topButton = this.optionButtons[0]),
            (this.bottomButton =
              this.optionButtons[this.optionButtons.length - 1]),
            1 == this.optionButtons.length)
          )
            return (
              null === (s = this.topButton) ||
                void 0 === s ||
                s.setButtonAsSingleButton(),
              void (
                null === (i = this.bottomButton) ||
                void 0 === i ||
                i.setButtonAsSingleButton()
              )
            );
          (null === (e = this.topButton) ||
            void 0 === e ||
            e.setButtonAsTopButton(),
            null === (t = this.bottomButton) ||
              void 0 === t ||
              t.setButtonAsBottomButton());
        }
        setContainerHeight() {
          const e = this.uiGameManager.canvasController,
            t = e.itemSize / e.appH,
            s = this.optionButtons.length,
            i = 2 * t * e.app.view.offsetHeight * (s / 4);
          this.contentContainer.style.height = i + "px";
        }
        setButtonHeights() {
          const e = 100 / this.optionButtons.length + "%";
          for (const t of this.contentContainer.children)
            t instanceof HTMLDivElement && (t.style.height = e);
        }
        constructor(e, t, s) {
          ((this.uiGameManager = e),
            (this.container = (0, i.Le)(
              document.body,
              "player-options-dropdown-container",
            )),
            (window.onpointerdown = (e) => {
              e.target == this.container && this.removeDropdown();
            }),
            (this.player = s),
            (this.popupPositionRelativeToScreen = t),
            (this.optionButtons = []),
            (this.contentContainer = (0, i.Le)(
              this.container,
              "player-options-dropdown-content",
            )),
            u.r.isUserOnMobileAppOrWeb ||
              window.addEventListener("resize", () =>
                this.updatePopupAttributes(),
              ));
        }
      }
    },
    25873: (e, t, s) => {
      "use strict";
      e.exports =
        s.p +
        "assets/stan-fix-safari-low-resolution-dice-before.373d36a7e65e82b68135.jpg";
    },
    25918: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/lobby_ad_signin.09776fae150baa9ee0bf.svg";
    },
    25992: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/favicon_notification.4504f88e371358384a03.png";
    },
    26146: (e, t, s) => {
      "use strict";
      function i(e) {
        return "/profile/" + encodeURIComponent(e);
      }
      function n() {
        const e = (function (e) {
          const t = new URL(e);
          return (t.searchParams.delete("token"), t.href);
        })(window.location.href);
        history.replaceState(null, "", e);
      }
      s.d(t, { UY: () => n, mh: () => i });
    },
    26406: (e, t, s) => {
      "use strict";
      s.d(t, { S: () => l });
      var i = s(98487),
        n = s(95176),
        r = s(9029),
        o = s(30506);
      const a = [
          {
            id: i.lu.CheatingWithAnotherPlayer,
            dropdownText: {
              key: "strings:popups.reportPopup.reasons.cheatingWithAnotherPlayer",
            },
          },
          {
            id: i.lu.AbusingChat,
            dropdownText: {
              key: "strings:popups.reportPopup.reasons.abusingChat",
            },
          },
          {
            id: i.lu.InappropriateUsername,
            dropdownText: {
              key: "strings:popups.reportPopup.reasons.inappropriateUsername",
            },
          },
          {
            id: i.lu.WastingTime,
            dropdownText: {
              key: "strings:popups.reportPopup.reasons.wastingTime",
            },
          },
          {
            id: i.lu.Griefing,
            dropdownText: {
              key: "strings:popups.reportPopup.reasons.griefing",
            },
          },
          {
            id: i.lu.ThrowingTheGame,
            dropdownText: {
              key: "strings:popups.reportPopup.reasons.throwingTheGame",
            },
          },
        ],
        c = { key: "strings:popups.reportPopup.reportedPopupText" };
      class l {
        static createReportPopup(e, t, s = c) {
          const i = {
            key: "strings:popups.reportPopup.body",
            options: { playerUsername: e },
          };
          let l;
          const d = new n.y(
            {
              key: "strings:popups.reportPopup.title",
              options: { playerUsername: e },
            },
            i,
            () => {
              if ("" == l) return;
              t(e, l);
              const i = new n.y(
                { key: "strings:popups.reportPopup.reported" },
                s,
                () => {},
                () => {},
                !0,
              );
              (i.removeXButton(), i.show());
            },
            () => {},
            !0,
          );
          d.disableCheckButton();
          const u = (0, r.Kr)(d.body, "", "", (e) => {
            if ("" != e) {
              for (const t of a)
                if (String(t.id) == e)
                  return ((l = t.id), void d.enableCheckButton());
            } else d.disableCheckButton();
          });
          (d.body.classList.add("popup-body-report"),
            (0, r.fg)(u, "", {
              key: "strings:popups.reportPopup.reasons.selection",
            }));
          const h = o.lv.shuffle(a);
          for (const e of h) (0, r.fg)(u, String(e.id), e.dropdownText);
          d.show();
        }
      }
    },
    26626: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_sound_on.ce82851dda8c7f94b440.svg";
    },
    26658: (e, t, s) => {
      "use strict";
      s.d(t, {
        s4: () => l,
        gr: () => u,
        Dj: () => a,
        Vy: () => i,
        jP: () => d,
        II: () => c,
        Wf: () => n,
        yF: () => o,
        CJ: () => r,
        Ih: () => h,
      });
      var i = (function (e) {
        return (
          (e[(e.ClickedFindGame = 1)] = "ClickedFindGame"),
          (e[(e.ClickedCancelFindGame = 2)] = "ClickedCancelFindGame"),
          e
        );
      })({});
      const n = [1, 2];
      var r = (function (e) {
        return (
          (e[(e.Standard = 0)] = "Standard"),
          (e[(e.FreeMap = 1)] = "FreeMap"),
          (e[(e.BeginnerMode = 2)] = "BeginnerMode"),
          (e[(e.CustomLink = 3)] = "CustomLink"),
          (e[(e.DiscordActivity = 4)] = "DiscordActivity"),
          (e[(e.Tournament = 5)] = "Tournament"),
          e
        );
      })({});
      var o = (function (e) {
          return (
            (e[(e.EditSettings = 0)] = "EditSettings"),
            (e[(e.SeedOrderSelection = 1)] = "SeedOrderSelection"),
            (e[(e.PlayOrderSelection = 2)] = "PlayOrderSelection"),
            e
          );
        })({}),
        a = (function (e) {
          return (
            (e[(e.ClickedBotGame = 2)] = "ClickedBotGame"),
            (e[(e.ClickedCreateRoom = 3)] = "ClickedCreateRoom"),
            (e[(e.ClickedJoinRoom = 4)] = "ClickedJoinRoom"),
            (e[(e.AccessGameLink = 5)] = "AccessGameLink"),
            (e[(e.ClickedSpectateGame = 6)] = "ClickedSpectateGame"),
            (e[(e.ReconnectGame = 7)] = "ReconnectGame"),
            (e[(e.SaveClientReferrer = 8)] = "SaveClientReferrer"),
            (e[(e.SetAdBlockStatus = 9)] = "SetAdBlockStatus"),
            (e[(e.InteractedWithSite = 10)] = "InteractedWithSite"),
            (e[(e.ClickedStartBeginnerMode = 11)] = "ClickedStartBeginnerMode"),
            (e[(e.Clicked1v1BeginnerBotGame = 12)] =
              "Clicked1v1BeginnerBotGame"),
            (e[(e.ClickedEasyBotGame = 13)] = "ClickedEasyBotGame"),
            (e[(e.WatchRoomList = 14)] = "WatchRoomList"),
            (e[(e.StopWatchingRoomList = 15)] = "StopWatchingRoomList"),
            (e[(e.AutoRejoinGame = 16)] = "AutoRejoinGame"),
            (e[(e.ClickedStartShuffleBotGame = 17)] =
              "ClickedStartShuffleBotGame"),
            e
          );
        })({});
      const c = [11, 2, 12, 3, 4, 5, 6, 7, 17];
      var l = (function (e) {
        return (
          (e[(e.ChannelJoin = 1)] = "ChannelJoin"),
          (e[(e.ChannelJoinRoomOrGame = 2)] = "ChannelJoinRoomOrGame"),
          e
        );
      })({});
      const d = [1, 2];
      var u = (function (e) {
          return (
            (e[(e.AllMaps = 0)] = "AllMaps"),
            (e[(e.AllExpansions = 1)] = "AllExpansions"),
            (e[(e.PremiumMatchmaking = 2)] = "PremiumMatchmaking"),
            (e[(e.CustomLinks = 3)] = "CustomLinks"),
            (e[(e.ColonistCoins = 4)] = "ColonistCoins"),
            (e[(e.NoAds = 5)] = "NoAds"),
            (e[(e.AllColors = 6)] = "AllColors"),
            (e[(e.BasicReplay = 7)] = "BasicReplay"),
            (e[(e.FullReplay = 8)] = "FullReplay"),
            e
          );
        })({}),
        h = (function (e) {
          return ((e[(e.GetShuffleQueueData = 1)] = "GetShuffleQueueData"), e);
        })({});
    },
    26674: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/map_snowflake_preview.80c0fa8ac185a8708ed8.png";
    },
    26894: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/card_yearofplenty.3df210b5455b7438db09.svg";
    },
    26934: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_swords_highlight.d1909d53c773b8818940.svg";
    },
    27058: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/sfx_knight_place.604372b092e27ba0954a.mp3";
    },
    27334: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/bg_button_pink.74b6475ae79e6cbd40aa.svg";
    },
    27406: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/prob_12.6031ada2e92549efc5ba.svg";
    },
    27532: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/logo.a66b03915fd67e4c68f8.svg";
    },
    27630: (e, t, s) => {
      "use strict";
      s.d(t, { Y: () => l, V: () => c });
      var i = s(95176),
        n = s(66681),
        r = s(23288);
      class o extends r.U {
        shouldShowWarning() {
          const e = this.roomState
            .getSessions()
            .find((e) => e.userSessionId == n.sZ.controller.session.id);
          return (
            this.roomState.hostSession.userSessionId !=
              n.sZ.controller.session.id &&
            !(null == e ? void 0 : e.isReadyToPlay) &&
            this.roomState.gameSetting.victoryPointsToWin >
              this.roomState.victoryPointsRecommendedLimit
          );
        }
        getTitle() {
          return {
            key: "strings:roomPage.warnings.readyUpExceedLimitWarning.title",
          };
        }
        getDescription() {
          return {
            key: "strings:roomPage.warnings.readyUpExceedLimitWarning.description",
          };
        }
      }
      var a = s(34865),
        c = (function (e) {
          return (
            (e[(e.StartGameVPExceededRecommendedLimit = 0)] =
              "StartGameVPExceededRecommendedLimit"),
            (e[(e.ReadyUpVPExceededRecommendedLimit = 1)] =
              "ReadyUpVPExceededRecommendedLimit"),
            e
          );
        })({});
      class l {
        static runWithWarning(e, t, s) {
          const n = this.getWarningPopupContent(t, s);
          if (!n.shouldShowWarning()) return void e();
          new i.y(
            n.getTitle(),
            n.getDescription(),
            () => e(!0),
            () => {},
            !0,
          ).show();
        }
        static getWarningPopupContent(e, t) {
          switch (e) {
            case 0:
              return new a.n(t);
            case 1:
              return new o(t);
          }
        }
      }
    },
    27872: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_bots_easy.df8d1f468aedb2967e05.svg";
    },
    27935: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/rename_lobby_to_room_after.20dd4667e1572e9cc43f.png";
    },
    27961: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/ribbon_small.f1f6f5885b2535205fe3.svg";
    },
    28142: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/stat_res_gain.f31384f4b4ef490c39fc.svg";
    },
    28317: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/avatar_embargo_overlay.932d0eddfc633f68429e.svg";
    },
    28333: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/sfx_ship_move.2c671d2aea50c68e2a87.mp3";
    },
    28440: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/stat_dev_card_used.885327a37259df31d35f.svg";
    },
    28624: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/card_vp.672597308e3a8f1100ae.svg";
    },
    29249: (e, t, s) => {
      "use strict";
      s.d(t, { n: () => i, q: () => n });
      var i = (function (e) {
        return (
          (e[(e.Information = 0)] = "Information"),
          (e[(e.Success = 1)] = "Success"),
          (e[(e.Warning = 2)] = "Warning"),
          (e[(e.Error = 3)] = "Error"),
          (e[(e.SocketError = 4)] = "SocketError"),
          (e[(e.Reconnect = 5)] = "Reconnect"),
          e
        );
      })({});
      class n {}
    },
    29319: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/city_wall_black.48c681c0690df06eb44f.svg";
    },
    29567: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/city_wall_green.6d64a1276d6823f48223.svg";
    },
    29962: (e, t, s) => {
      "use strict";
      s.d(t, { O: () => i });
      class i {}
      ((i.PLUS = 7499), (i.PREMIUM = 14999), (i.ELITE = 19999));
    },
    30081: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/dice_event_politics.b1c46a6a3c1437381142.svg";
    },
    30429: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/road_white.78e66baab120779d5c30.svg";
    },
    30506: (e, t, s) => {
      "use strict";
      var i, n, r, o, a, c, l;
      (s.d(t, {
        lv: () => n,
        R$: () => a,
        h4: () => c,
        xU: () => f,
        BF: () => r,
        n: () => l,
        N_: () => h.N,
        $x: () => i,
        Re: () => o,
        qE: () => m.qE,
        ph: () => p.p,
        cb: () => d.c,
        Yf: () => m.Yf,
        Qn: () => u.Q,
        Cc: () => m.Cc,
      }),
        (function (e) {
          function t(e) {
            return e.replace(/(<([^>]+)>)/gi, "");
          }
          ((e.replaceHTMLCharacters = t),
            (e.replaceStringAt = function (e, t, s) {
              const i = e.split("");
              return ((i[t] = s), i.join(""));
            }),
            (e.capitalizeFirstLetter = function (e) {
              return e.charAt(0).toUpperCase() + e.slice(1);
            }),
            (e.getNonAlphanumericCharacterCount = function (e) {
              var t, s;
              return null !==
                (s =
                  null === (t = e.match(/[^a-zA-Z0-9]/g)) || void 0 === t
                    ? void 0
                    : t.length) && void 0 !== s
                ? s
                : 0;
            }),
            (e.removeUnrenderableCharacters = function (e) {
              return t(e).replace(/['"&<>/()]/g, "");
            }));
        })(i || (i = {})),
        (function (e) {
          function t(e, t, s) {
            return e.length < 2
              ? 1
              : Math.sqrt(
                  e.map((e) => Math.pow(e - t, 2)).reduce((e, t) => e + t) /
                    (s - 1),
                );
          }
          function s(e) {
            return e[Math.floor(Math.random() * e.length)];
          }
          function i(e, t) {
            const s = e.indexOf(t);
            return s > -1 && (e.splice(s, 1), !0);
          }
          ((e.arraysEqual = function (e, t) {
            if (e === t) return !0;
            if (null == e || null == t) return !1;
            if (e.length != t.length) return !1;
            for (let s = 0; s < e.length; s += 1) if (e[s] !== t[s]) return !1;
            return !0;
          }),
            (e.shuffle = function (e) {
              const t = [...e];
              let s = t.length;
              for (; s > 0; ) {
                const e = Math.floor(Math.random() * s);
                s -= 1;
                const i = t[s];
                ((t[s] = t[e]), (t[e] = i));
              }
              return t;
            }),
            (e.arrayMean = function (e) {
              const t = e.length;
              return e.length < 1 ? 0 : e.reduce((e, t) => e + t) / t;
            }),
            (e.arrayStandardDeviation = t),
            (e.arrayStandardError = function (e, t) {
              return e / Math.sqrt(t);
            }),
            (e.calculateConfidenceInterval95 = function (s) {
              return (
                (1.96 * t(s, e.arrayMean(s), s.length)) / Math.sqrt(s.length)
              );
            }),
            (e.arrayPercentile = function (e, t) {
              e.sort((e, t) => e - t);
              const s = (t / 100) * (e.length - 1),
                i = Math.floor(s),
                n = Math.ceil(s);
              if (i === n) return e[i];
              {
                const t = s - i;
                return e[i] * (1 - t) + e[n] * t;
              }
            }),
            (e.randomElementFromArray = s),
            (e.randomElementsKeepInArray = function e(t, i) {
              if (i == t.length) return t;
              const n = [...t];
              return (n.splice(n.indexOf(s(n)), 1), e(n, i));
            }),
            (e.randomElementsThrowFromArray = function e(t, i) {
              if (0 == i) return t;
              const n = [...t];
              return (n.splice(n.indexOf(s(n)), 1), e(n, i - 1));
            }),
            (e.removeElementFromArray = i),
            (e.removeOneElement = function (e, t) {
              const s = e.indexOf(t);
              if (-1 === s) return e;
              const i = [...e];
              return (i.splice(s, 1), i);
            }),
            (e.removeElementsFromArray = function (e, t) {
              for (const s of t) i(e, s);
            }),
            (e.removeDuplicatesFromArray = function (e) {
              return e.filter((e, t, s) => t == s.indexOf(e));
            }),
            (e.removeAllOccurrenceFromArray = function (e, t) {
              return e.filter((e) => e !== t);
            }),
            (e.countOccurenceOfValueInArray = function (e, t) {
              return e.reduce((e, s) => (s === t ? e + 1 : e), 0);
            }),
            (e.elementInArray = function (e, t) {
              for (const s of e) if (s == t) return !0;
              return !1;
            }),
            (e.differenceOfTwoArrays = function (e, t) {
              return e.filter((e) => !t.includes(e));
            }),
            (e.swapElementOfArray = function (e, t, s) {
              const i = e[t];
              return ((e[t] = e[s]), (e[s] = i), e);
            }),
            (e.removeAllInstancesOfElementInArray = function (e, t) {
              return e.filter((e) => e != t);
            }),
            (e.findIndexGreaterThanOrEqual = function (e, t) {
              if (0 == e.length) return -1;
              let s = 0,
                i = e.length - 1;
              for (; i - s > 1; ) {
                const n = Math.floor((s + i) / 2);
                e[n] < t ? (s = n) : (i = n);
              }
              return e[s] >= t ? s : e[i] >= t ? i : e[i] < t ? -1 : s;
            }),
            (e.findMaximumIndexLessThanOrEqual = function (e, t) {
              if (0 == e.length) return -1;
              let s = 0,
                i = e.length - 1;
              for (; i - s > 1; ) {
                const n = Math.floor((s + i) / 2);
                e[n] <= t ? (s = n) : (i = n);
              }
              return e[i] <= t ? i : e[s] <= t ? s : e[i] > t ? -1 : s;
            }),
            (e.getNElementIfExistsOrClosestLower = function (e, t) {
              if (0 != e.length) return e.length <= t ? e[e.length - 1] : e[t];
            }),
            (e.sortNumberArrayAscending = function (e) {
              return e.sort((e, t) => e - t);
            }),
            (e.sortNumberArrayDescending = function (e) {
              return e.sort((e, t) => t - e);
            }),
            (e.isSomeElementIncluded = function (e, t) {
              return t.some((t) => e.includes(t));
            }),
            (e.getUniqueElements = function (e) {
              return Array.from(new Set(e));
            }),
            (e.last = function (e) {
              return e[e.length - 1];
            }));
        })(n || (n = {})),
        (function (e) {
          ((e.isObjectEqual = function (e, t) {
            const s = Object.getOwnPropertyNames(e),
              i = Object.getOwnPropertyNames(t);
            if (s.length != i.length) return !1;
            for (const i of s) if (e[i] !== t[i]) return !1;
            return !0;
          }),
            (e.arrayToObjectWithIndexesAsKeys = function (e) {
              const t = {};
              for (let s = 0; s < e.length; s++) t[s] = e[s];
              return t;
            }),
            (e.removeAllPropertiesEqualTo = function (e, t) {
              for (const s in e) e[s] === t && delete e[s];
            }),
            (e.isNestedObjectEmpty = function e(t) {
              for (const s in t) {
                const i = t[s];
                if (Array.isArray(i)) return !1;
                if (!("object" == typeof i && null !== i)) return !1;
                if (!e(i)) return !1;
              }
              return !0;
            }));
        })(r || (r = {})),
        (function (e) {
          var t;
          function s(e) {
            return `${e.getFullYear()}-${String(e.getMonth() + 1).padStart(2, "0")}-${String(e.getDate()).padStart(2, "0")}`;
          }
          function i(t, s) {
            let i = (t.getTime() - s.getTime()) / e.MILLISECONDS;
            const n = Math.floor(i / a.daysAsSeconds(1));
            i -= a.daysAsSeconds(n);
            const r = Math.floor(i / a.hoursAsSeconds(1)) % e.HOURS_IN_DAY;
            i -= a.hoursAsSeconds(r);
            const o =
              Math.floor(i / a.minutesAsSeconds(1)) % e.SECONDS_IN_MINUTE;
            return (
              (i -= a.minutesAsSeconds(o)),
              { days: n, hours: r, minutes: o }
            );
          }
          function n(e, t = new Date()) {
            return new Date(t.getTime() + a.daysAsMilliseconds(e));
          }
          function r(t, s) {
            return (
              Math.abs(t.getTime() - s.getTime()) /
              (e.MILLISECONDS *
                e.SECONDS_IN_MINUTE *
                e.MINUTES_IN_HOUR *
                e.HOURS_IN_DAY)
            );
          }
          ((e.MILLISECONDS = 1e3),
            (e.SECONDS_IN_MINUTE = 60),
            (e.SECONDS_IN_HOUR = 3600),
            (e.MINUTES_IN_HOUR = 60),
            (e.SECONDS_IN_DAY = 86400),
            (e.HOURS_IN_DAY = 24),
            (e.DAYS_IN_WEEK = 7),
            (e.DAYS_IN_MONTH = 30),
            (e.DAYS_IN_YEAR = 365.25),
            (e.WEEKS_IN_MONTH = e.DAYS_IN_MONTH / e.DAYS_IN_WEEK),
            (e.MONTHS_IN_YEAR = 12),
            ((t = e.TimeType || (e.TimeType = {})).Day = "day"),
            (t.Hour = "hour"),
            (t.Minute = "minute"),
            (e.isDatePassed = function (e) {
              const t = new Date(e);
              return new Date() > t;
            }),
            (e.isDateInTheFuture = function (e) {
              return null != e && new Date() < e;
            }),
            (e.millisecondsLeftInUTCDay = function (t) {
              const s = e.HOURS_IN_DAY - t.getUTCHours() - 1,
                i = e.MINUTES_IN_HOUR - t.getUTCMinutes() - 1,
                n = e.SECONDS_IN_MINUTE - t.getUTCSeconds() - 1,
                r = e.MILLISECONDS - t.getUTCMilliseconds() - 1;
              return (
                (n + i * e.SECONDS_IN_MINUTE + s * e.SECONDS_IN_HOUR) *
                  e.MILLISECONDS +
                r
              );
            }),
            (e.getDate = s),
            (e.getDateTime = function (e) {
              return `${s(e)}-${String(e.getHours()).padStart(2, "0")}-${String(e.getMinutes()).padStart(2, "0")}-${String(e.getSeconds()).padStart(2, "0")}`;
            }),
            (e.getHoursAgoInTimestampFormat = function (t) {
              const s =
                t * e.MINUTES_IN_HOUR * e.SECONDS_IN_MINUTE * e.MILLISECONDS;
              return Math.floor((Date.now() - s) / e.MILLISECONDS);
            }),
            (e.convertTimestampToDateTimeText = function (e) {
              return {
                key: "strings:colonistCommon.utils.#date",
                options: {
                  value: new Date(Number(e)),
                  formatParams: {
                    value: {
                      year: "numeric",
                      month: "numeric",
                      day: "numeric",
                      hour: "2-digit",
                      minute: "2-digit",
                      hour12: !1,
                    },
                  },
                },
              };
            }),
            (e.timeToString = function (t) {
              const s = t / e.MILLISECONDS,
                i = Math.floor(s / (e.MINUTES_IN_HOUR * e.SECONDS_IN_MINUTE)),
                n = Math.floor((s % e.SECONDS_IN_HOUR) / e.SECONDS_IN_MINUTE),
                r = Math.floor(s % e.SECONDS_IN_MINUTE);
              let o = "";
              return (
                (o = i < 10 ? ("0" + i).slice(-2) : i.toString()),
                o + ":" + ("0" + n).slice(-2) + ":" + ("0" + r).slice(-2)
              );
            }),
            (e.timePadding = function (e) {
              return e < 10 ? "0" + e.toString() : e.toString();
            }),
            (e.getUTCTimeString = function (e) {
              return new Date(e).toUTCString();
            }),
            (e.minutesPassedSince = function (t) {
              const s = (Date.now() - t) / e.MILLISECONDS;
              return Math.round(s / e.SECONDS_IN_MINUTE);
            }),
            (e.millisecondsPassedSince = function (e) {
              return Date.now() - e;
            }),
            (e.isThisLastMonth = function (t, s = Date.now()) {
              return (
                t >
                s -
                  e.MILLISECONDS *
                    e.SECONDS_IN_MINUTE *
                    e.MINUTES_IN_HOUR *
                    e.HOURS_IN_DAY *
                    e.DAYS_IN_MONTH
              );
            }),
            (e.isThisLastYear = function (t, s = Date.now()) {
              return (
                t >
                s -
                  e.MILLISECONDS *
                    e.SECONDS_IN_MINUTE *
                    e.MINUTES_IN_HOUR *
                    e.HOURS_IN_DAY *
                    e.DAYS_IN_MONTH *
                    e.MONTHS_IN_YEAR
              );
            }),
            (e.secondsLeftForCurrentState = function (e) {
              return e < 0 ? 0 : Math.round(e);
            }),
            (e.yesterdayDate = function () {
              return n(-1);
            }),
            (e.getWeekNumber = function (e) {
              const t = new Date(e);
              t.setUTCDate(t.getUTCDate() + 4 - (t.getUTCDay() || 7));
              const s = new Date(Date.UTC(t.getUTCFullYear(), 0, 1));
              return [
                Math.ceil(((+t - +s) / 864e5 + 1) / 7),
                t.getUTCFullYear(),
              ];
            }),
            (e.getDaysHoursMinutesBetweenDates = i),
            (e.getDaysHoursMinutesBetweenDatesString = function (e, t) {
              const s = i(e, t);
              return `${s.days} days ${s.hours} hours ${s.minutes} minutes`;
            }),
            (e.getDaysHoursOrMinutesBetweenDates = function (e, t) {
              const s = i(e, t),
                { days: n, hours: r, minutes: o } = s;
              return n > 0
                ? { dateType: "day", duration: n }
                : r > 0
                  ? { dateType: "hour", duration: r }
                  : { dateType: "minute", duration: o };
            }),
            (e.getOneWeekInThePast = function () {
              return n(-e.DAYS_IN_WEEK);
            }),
            (e.getOneWeekInTheFuture = function () {
              return n(e.DAYS_IN_WEEK);
            }),
            (e.getNDaysInThePast = function (e) {
              return n(-e);
            }),
            (e.adjustDateByDays = n),
            (e.adjustDateByMinutes = function (e, t = new Date()) {
              return new Date(t.getTime() + a.minutesAsMilliseconds(e));
            }),
            (e.adjustDateByMilliseconds = function (e, t = new Date()) {
              return new Date(t.getTime() + e);
            }),
            (e.formatSecondsToElapsedString = function (e) {
              const t = Math.floor(e / 3600),
                s = Math.floor((e - 3600 * t) / 60),
                i = e - 3600 * t - 60 * s;
              let n =
                s.toString().padStart(2, "0") +
                ":" +
                i.toString().padStart(2, "0");
              return (t && (n = t.toString().padStart(2, "0") + ":" + n), n);
            }),
            (e.absoluteDifferenceInDays = r),
            (e.differenceInDays = function (t, s) {
              return (
                (s.getTime() - t.getTime()) /
                (e.MILLISECONDS *
                  e.SECONDS_IN_MINUTE *
                  e.MINUTES_IN_HOUR *
                  e.HOURS_IN_DAY)
              );
            }),
            (e.isDateInBetween = function (e, t, s) {
              return e <= s && s <= t;
            }),
            (e.addYears = function (e, t) {
              const s = new Date(e.getTime());
              return (s.setUTCFullYear(s.getUTCFullYear() + t), s);
            }),
            (e.toDate = function (e) {
              return e instanceof Date ? e : new Date(e);
            }),
            (e.getStartOfDay = function (e) {
              return new Date(
                Date.UTC(
                  e.getUTCFullYear(),
                  e.getUTCMonth(),
                  e.getUTCDate(),
                  0,
                  0,
                  0,
                  0,
                ),
              );
            }),
            (e.getEndOfDay = function (e) {
              return new Date(
                Date.UTC(
                  e.getUTCFullYear(),
                  e.getUTCMonth(),
                  e.getUTCDate(),
                  23,
                  59,
                  59,
                  999,
                ),
              );
            }),
            (e.formatDateDistance = function (t, s) {
              const i = r(t, s);
              if (i < 1)
                return {
                  key: "strings:colonistCommon.dates.day",
                  options: { count: 1 },
                };
              if (i < e.DAYS_IN_MONTH)
                return {
                  key: "strings:colonistCommon.dates.day",
                  options: { count: Math.round(i) },
                };
              const n = i / e.DAYS_IN_MONTH;
              return {
                key: "strings:colonistCommon.dates.month",
                options: { count: Math.round(n) },
              };
            }),
            (e.formatCountdownString = function (t) {
              const s = new Date(),
                i = (t.getTime() - s.getTime()) / e.MILLISECONDS,
                n = i / e.SECONDS_IN_DAY;
              if (n >= 1) return `${Math.floor(n)}d`;
              const r = i / e.SECONDS_IN_HOUR;
              if (r >= 1) return `${Math.floor(r)}h`;
              const o = i / e.SECONDS_IN_MINUTE;
              if (o >= 1) return `${Math.floor(o)}m`;
              const a = i % e.SECONDS_IN_MINUTE;
              return a >= 1 ? `${Math.floor(a)}s` : "0s";
            }),
            (e.formatTimeLeft = function (t) {
              const s = new Date(),
                i = (t.getTime() - s.getTime()) / e.MILLISECONDS,
                n = i / e.SECONDS_IN_DAY;
              if (n >= 1)
                return {
                  key: "strings:colonistCommon.timeLeft.days",
                  options: { count: Math.floor(n) },
                };
              const r = i / e.SECONDS_IN_HOUR;
              if (r >= 1)
                return {
                  key: "strings:colonistCommon.timeLeft.hours",
                  options: { count: Math.floor(r) },
                };
              const o = i / e.SECONDS_IN_MINUTE;
              if (o >= 1)
                return {
                  key: "strings:colonistCommon.timeLeft.minutes",
                  options: { count: Math.floor(o) },
                };
              const a = i % e.SECONDS_IN_MINUTE;
              return a >= 1
                ? {
                    key: "strings:colonistCommon.timeLeft.seconds",
                    options: { count: Math.floor(a) },
                  }
                : {
                    key: "strings:colonistCommon.timeLeft.seconds",
                    options: { count: 0 },
                  };
            }),
            (e.getTimeAgoTextFromDate = function (t) {
              const s = new Date(),
                i = Math.floor((s.getTime() - t.getTime()) / e.MILLISECONDS);
              if (i < e.SECONDS_IN_MINUTE)
                return {
                  key: "strings:popups.notification.timeAbbreviations.second",
                  options: { count: i },
                };
              const n = Math.floor(i / e.SECONDS_IN_MINUTE);
              if (n < e.MINUTES_IN_HOUR)
                return {
                  key: "strings:popups.notification.timeAbbreviations.minute",
                  options: { count: n },
                };
              const r = Math.floor(n / e.MINUTES_IN_HOUR);
              if (r < e.HOURS_IN_DAY)
                return {
                  key: "strings:popups.notification.timeAbbreviations.hour",
                  options: { count: r },
                };
              const o = Math.floor(r / e.HOURS_IN_DAY);
              if (o < e.DAYS_IN_WEEK)
                return {
                  key: "strings:popups.notification.timeAbbreviations.day",
                  options: { count: o },
                };
              const a = Math.floor(o / e.DAYS_IN_WEEK);
              if (a < e.WEEKS_IN_MONTH)
                return {
                  key: "strings:popups.notification.timeAbbreviations.week",
                  options: { count: a },
                };
              const c = Math.floor(o / e.DAYS_IN_MONTH);
              return c < e.MONTHS_IN_YEAR
                ? {
                    key: "strings:popups.notification.timeAbbreviations.month",
                    options: { count: c },
                  }
                : {
                    key: "strings:popups.notification.timeAbbreviations.year",
                    options: { count: Math.floor(o / e.DAYS_IN_YEAR) },
                  };
            }));
        })(o || (o = {})),
        (function (e) {
          function t(e) {
            return e * o.MILLISECONDS;
          }
          function s(e) {
            return e * t(o.SECONDS_IN_MINUTE);
          }
          function i(e) {
            return e * s(o.MINUTES_IN_HOUR);
          }
          function n(e) {
            return e * i(o.HOURS_IN_DAY);
          }
          function r(e) {
            return e * o.SECONDS_IN_MINUTE;
          }
          function a(e) {
            return e * r(o.MINUTES_IN_HOUR);
          }
          function c(e) {
            return e * a(o.HOURS_IN_DAY);
          }
          ((e.secondsAsMilliseconds = t),
            (e.minutesAsMilliseconds = s),
            (e.hoursAsMilliseconds = i),
            (e.daysAsMilliseconds = n),
            (e.weeksAsMilliseconds = function (e) {
              return e * n(o.DAYS_IN_WEEK);
            }),
            (e.monthsAsMilliseconds = function (e) {
              return e * n(o.DAYS_IN_MONTH);
            }),
            (e.minutesAsSeconds = r),
            (e.hoursAsSeconds = a),
            (e.daysAsSeconds = c),
            (e.weeksAsSeconds = function (e) {
              return e * c(o.DAYS_IN_WEEK);
            }),
            (e.monthsAsSeconds = function (e) {
              return e * c(o.DAYS_IN_MONTH);
            }));
        })(a || (a = {})),
        (function (e) {
          ((e.loopEnums = function (e, t) {
            for (const s in e) {
              const e = Number(s);
              isNaN(e) || t(s, e);
            }
          }),
            (e.iterateEnum = function (e, t) {
              for (const s in e) isNaN(Number(s)) && t(e[s]);
            }),
            (e.getLength = function (e) {
              return Object.keys(e).filter((e) => isNaN(Number(e))).length;
            }),
            (e.getEnumKey = function (e, t) {
              return t[e];
            }));
        })(c || (c = {})),
        (function (e) {
          function t(e, t) {
            return Math.floor(Math.random() * (t - e + 1)) + e;
          }
          ((e.randomIntBetween = t),
            (e.randomNumberBetweenFloat = function (e, t) {
              return Math.random() * (t - e) + e;
            }),
            (e.randomUniqueIndicesFromLength = function (e, s) {
              const i = new Set();
              if (0 === e) return [];
              s > e && (s = e);
              for (let n = 0; n < s; n += 1) {
                const s = t(0, e - 1);
                i.has(s) ? (n -= 1) : i.add(s);
              }
              return Array.from(i);
            }));
          const s = n.differenceOfTwoArrays(
            [
              "A",
              "B",
              "C",
              "D",
              "E",
              "F",
              "G",
              "H",
              "I",
              "J",
              "K",
              "L",
              "M",
              "N",
              "O",
              "P",
              "Q",
              "R",
              "S",
              "T",
              "U",
              "V",
              "W",
              "X",
              "Y",
              "Z",
              "a",
              "b",
              "c",
              "d",
              "e",
              "f",
              "g",
              "h",
              "i",
              "j",
              "k",
              "l",
              "m",
              "n",
              "o",
              "p",
              "q",
              "r",
              "s",
              "t",
              "u",
              "v",
              "w",
              "x",
              "y",
              "z",
              "0",
              "1",
              "2",
              "3",
              "4",
              "5",
              "6",
              "7",
              "8",
              "9",
            ],
            ["1", "I", "l", "O", "0"],
          );
          function i() {
            return Math.random() < 0.5 ? -1 : 1;
          }
          ((e.randomStringId = function (e) {
            let t = "";
            for (let i = 0; i < e; i += 1)
              t += s[Math.floor(Math.random() * s.length)];
            return t;
          }),
            (e.randomNumberExcept = function e(s, i, n) {
              const r = t(s, i);
              return r != n ? r : e(s, i, n);
            }),
            (e.randomBool = function () {
              return Math.random() >= 0.5;
            }),
            (e.randomAngle = function () {
              return 2 * Math.PI * Math.random();
            }),
            (e.randomSign = i),
            (e.randomNegativePositive = function (e) {
              return e * Math.random() * i();
            }),
            (e.randomWeightedValue = function (e, t) {
              const s = t.reduce((e, t) => e + t, 0),
                i = Math.random() * s;
              let n = 0;
              for (let s = 0; s < e.length; s += 1)
                if (((n += t[s]), i <= n)) return e[s];
              return e[e.length - 1];
            }));
        })(l || (l = {})));
      var d = s(64475);
      if (837 != s.j) var u = s(32294);
      if (837 != s.j) var h = s(42845);
      var p = s(61651);
      if (!/^(251|837)$/.test(s.j)) var m = s(10968);
      var g = s(78311);
      class f {
        static shouldDisable10SecondRuleFor(e) {
          switch (e) {
            case g.ro.Base15s:
            case g.ro.Base30s:
            case g.ro.Base60s:
            case g.ro.Rush5s:
            case g.ro.Rush8s:
            case g.ro.Rush10s:
            case g.ro.Rush15s:
            case g.ro.Rush20s:
              return !0;
            case g.ro.Base120s:
            case g.ro.Base240s:
            case g.ro.Base12000s:
              return !1;
          }
        }
        static getDefaultTradeAutoRejectionTimeByGameSpeed(e) {
          switch (e) {
            case g.ro.Base15s:
              return 6 * o.MILLISECONDS;
            case g.ro.Base30s:
              return 8 * o.MILLISECONDS;
            case g.ro.Base60s:
              return 10 * o.MILLISECONDS;
            case g.ro.Base120s:
              return 13 * o.MILLISECONDS;
            case g.ro.Base240s:
              return 15 * o.MILLISECONDS;
            case g.ro.Base12000s:
              return 20 * o.MILLISECONDS;
            case g.ro.Rush5s:
              return 4 * o.MILLISECONDS;
            case g.ro.Rush8s:
              return 6 * o.MILLISECONDS;
            case g.ro.Rush10s:
              return 8 * o.MILLISECONDS;
            case g.ro.Rush15s:
              return 12 * o.MILLISECONDS;
            case g.ro.Rush20s:
              return 15 * o.MILLISECONDS;
          }
        }
      }
    },
    30762: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_player.9bc9dae8d8b97555e0ab.svg";
    },
    30904: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_arrow_up_black.82635b6e9f69a1a10e3e.svg";
    },
    30911: (e, t, s) => {
      "use strict";
      s.d(t, { Z: () => r, k: () => o });
      var i = s(53015),
        n = s(63778);
      const r = 2;
      class o {
        static getStorePlayerColorOfPlayerColor(e) {
          switch (e) {
            case n.DS.None:
            case n.DS.Red:
            case n.DS.Blue:
            case n.DS.Orange:
            case n.DS.Green:
              return;
            case n.DS.Black:
              return i.WB.Black;
            case n.DS.Purple:
              return i.WB.Purple;
            case n.DS.MysticBlue:
              return i.WB.MysticBlue;
            case n.DS.White:
              return i.WB.White;
            case n.DS.Bronze:
              return i.WB.Bronze;
            case n.DS.Silver:
              return i.WB.Silver;
            case n.DS.Gold:
              return i.WB.Gold;
            case n.DS.Pink:
              return i.WB.Pink;
          }
        }
        static getPlayerColorOfStorePlayerColor(e) {
          switch (e) {
            case i.WB.Gold:
              return n.DS.Gold;
            case i.WB.Silver:
              return n.DS.Silver;
            case i.WB.Bronze:
              return n.DS.Bronze;
            case i.WB.Black:
              return n.DS.Black;
            case i.WB.Purple:
              return n.DS.Purple;
            case i.WB.MysticBlue:
              return n.DS.MysticBlue;
            case i.WB.White:
              return n.DS.White;
            case i.WB.Pink:
              return n.DS.Pink;
          }
        }
        constructor() {
          ((this.activeInStore = !1), (this.hideOnDiscordMobile = !1));
        }
      }
    },
    31166: (e, t, s) => {
      "use strict";
      s.d(t, { AB: () => a, WC: () => r, hc: () => o });
      var i = s(41931),
        n = s(5603);
      const r = /^(251|517|837)$/.test(s.j) ? null : n.A,
        o = /^(251|517|837)$/.test(s.j) ? null : n.h;
      var a;
      !(function (e) {
        ((e.DEFAULT_VOLUME = n.A.DEFAULT_VOLUME),
          (e.SoundType = n.h),
          (e.loadSounds = function () {
            const e = i.p.getMasterVolume();
            n.A.init(e);
          }),
          (e.setMasterVolume = function (e) {
            (i.p.setMasterVolume(e), n.A.setMasterVolume(e));
          }),
          (e.playSound = function (e, t, s) {
            n.A.play(e, t, s);
          }));
      })(a || (a = {}));
    },
    31338: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/room_guests_after.37328881e7a598cff48c.png";
    },
    31364: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/settlement_green.1b78c696cd137be02fae.svg";
    },
    31567: (e, t, s) => {
      "use strict";
      s.d(t, { LE: () => c, N6: () => u, gz: () => l, kl: () => d });
      var i = s(98487),
        n = s(83633),
        r = s(84235),
        o = s(78311),
        a = s(9029);
      function c(e) {
        if (n.qq.getModeDataForMode(e))
          switch (e) {
            case i.p9.Classic4P:
            case i.p9.Classic56P:
            case i.p9.Classic78P:
              return;
            case i.p9.CitiesAndKnights4P:
            case i.p9.CitiesAndKnights56P:
              return {
                key: "strings:homePage.shuffleQueue.modes.citiesAndKnights",
              };
            case i.p9.Seafarers4P:
            case i.p9.Seafarers56P:
              return { key: "strings:homePage.shuffleQueue.modes.seafarers" };
            case i.p9.CitiesAndKnightsSeafarers4P:
            case i.p9.CitiesAndKnightsSeafarers56P:
              return {
                key: "strings:homePage.shuffleQueue.modes.cnkSeafarers",
              };
            case i.p9.ColonistRush4P:
              return { key: "strings:homePage.shuffleQueue.modes.rush" };
            default:
              return;
          }
      }
      function l(e) {
        if (r.X.getMapDataForMap(e))
          switch (e) {
            case i.Qy.Classic4P:
            case i.Qy.Classic56P:
            case i.Qy.Classic78P:
              return { key: "strings:homePage.shuffleQueue.maps.standard" };
            case i.Qy.Classic4PRandom:
              return { key: "strings:homePage.shuffleQueue.maps.random" };
            case i.Qy.Earth:
            case i.Qy.EarthSeafarers:
              return { key: "strings:homePage.shuffleQueue.maps.earth" };
            case i.Qy.USA:
              return { key: "strings:homePage.shuffleQueue.maps.usa" };
            case i.Qy.UK:
            case i.Qy.UKSeafarers:
              return { key: "strings:homePage.shuffleQueue.maps.uk" };
            case i.Qy.Diamond:
              return { key: "strings:homePage.shuffleQueue.maps.diamond" };
            case i.Qy.Gear:
              return { key: "strings:homePage.shuffleQueue.maps.gear" };
            case i.Qy.Lakes:
              return { key: "strings:homePage.shuffleQueue.maps.lakes" };
            case i.Qy.Pond:
              return { key: "strings:homePage.shuffleQueue.maps.pond" };
            case i.Qy.Twirl:
              return { key: "strings:homePage.shuffleQueue.maps.twirl" };
            case i.Qy.ShuffleBoard:
              return { key: "strings:homePage.shuffleQueue.maps.shuffleBoard" };
            case i.Qy.BlackForest:
              return { key: "strings:homePage.shuffleQueue.maps.blackForest" };
            case i.Qy.Volcano:
              return { key: "strings:homePage.shuffleQueue.maps.volcano" };
            case i.Qy.GoldRush:
              return { key: "strings:homePage.shuffleQueue.maps.goldRush" };
            case i.Qy.KingOfTheHill:
              return {
                key: "strings:homePage.shuffleQueue.maps.kingOfTheHill",
              };
            case i.Qy.Circle:
              return { key: "strings:homePage.shuffleQueue.maps.circle" };
            case i.Qy.Kite:
              return { key: "strings:homePage.shuffleQueue.maps.kite" };
            case i.Qy.Romania:
              return { key: "strings:homePage.shuffleQueue.maps.romania" };
            case i.Qy.MiniBase:
              return { key: "strings:homePage.shuffleQueue.maps.miniBase" };
            case i.Qy.Monopoly:
              return { key: "strings:homePage.shuffleQueue.maps.monopoly" };
            case i.Qy.MountainOfRiches:
              return {
                key: "strings:homePage.shuffleQueue.maps.mountainOfRiches",
              };
            case i.Qy.Doggo:
              return { key: "strings:homePage.shuffleQueue.maps.doggo" };
            case i.Qy.Duel:
              return { key: "strings:homePage.shuffleQueue.maps.duel" };
            case i.Qy.TradeIslands:
            case i.Qy.TradeIslandsSeafarers:
              return { key: "strings:homePage.shuffleQueue.maps.tradeIslands" };
            case i.Qy.Vietnam:
              return { key: "strings:homePage.shuffleQueue.maps.vietnam" };
            case i.Qy.TurningTidesSeafarers:
            case i.Qy.TurningTidesClassic:
              return { key: "strings:homePage.shuffleQueue.maps.turningTides" };
            case i.Qy.TwoIsles:
              return { key: "strings:homePage.shuffleQueue.maps.twoIsles" };
            case i.Qy.JellyFish:
              return { key: "strings:homePage.shuffleQueue.maps.jellyfish" };
            case i.Qy.Istanbul:
            case i.Qy.IstanbulSeafarers:
              return { key: "strings:homePage.shuffleQueue.maps.istanbul" };
            case i.Qy.Europe:
            case i.Qy.EuropeSeafarers:
              return { key: "strings:homePage.shuffleQueue.maps.europe" };
            case i.Qy.Stripes:
              return { key: "strings:homePage.shuffleQueue.maps.stripes" };
            case i.Qy.MonopolyIslands:
            case i.Qy.MonopolyIslandsSeafarers:
              return {
                key: "strings:homePage.shuffleQueue.maps.monopolyIslands",
              };
            case i.Qy.SS1HeadingForNewShores3P:
            case i.Qy.SS1HeadingForNewShores4P:
            case i.Qy.SS1HeadingForNewShores56P:
              return {
                key: "strings:homePage.shuffleQueue.maps.headingForNewShores",
              };
            case i.Qy.SS2FourIslands3P:
            case i.Qy.SS2FourIslands4P:
            case i.Qy.SS2SixIslands56P:
              return { key: "strings:homePage.shuffleQueue.maps.fourIslands" };
            case i.Qy.SS3FogIslands3P:
            case i.Qy.SS3FogIslands4P:
            case i.Qy.SS3FogIslands56P:
              return { key: "strings:homePage.shuffleQueue.maps.fogIslands" };
            case i.Qy.SS4ThroughTheDesert3P:
            case i.Qy.SS4ThroughTheDesert4P:
            case i.Qy.SS4ThroughTheDesert56P:
              return {
                key: "strings:homePage.shuffleQueue.maps.throughTheDesert",
              };
            default:
              return;
          }
      }
      function d(e, t) {
        const s = (function (e) {
          const t = r.X.getMapDataForMap(e);
          if (!t) return;
          switch (e) {
            case i.Qy.Classic4P:
              return o.am.MapClassic4PPreview;
            case i.Qy.Classic56P:
              return o.am.MapClassic56PPreview;
            case i.Qy.Classic78P:
              return o.am.MapClassic78PPreview;
            case i.Qy.Classic4PRandom:
              return o.am.MapRandomBasePreview;
            case i.Qy.Earth:
            case i.Qy.EarthSeafarers:
              return o.am.MapEarthPreview;
            case i.Qy.USA:
              return o.am.MapUSAPreview;
            case i.Qy.UK:
            case i.Qy.UKSeafarers:
              return o.am.MapUKPreview;
            case i.Qy.Diamond:
              return o.am.MapDiamondPreview;
            case i.Qy.Gear:
              return o.am.MapGearPreview;
            case i.Qy.Lakes:
              return o.am.MapLakesPreview;
            case i.Qy.Pond:
              return o.am.MapPondPreview;
            case i.Qy.Twirl:
              return o.am.MapTwirlPreview;
            case i.Qy.ShuffleBoard:
              return o.am.MapShuffleBoardPreview;
            case i.Qy.BlackForest:
              return o.am.MapBlackForestPreview;
            case i.Qy.Volcano:
              return o.am.MapVolcanoPreview;
            case i.Qy.GoldRush:
              return o.am.MapGoldRushPreview;
            case i.Qy.KingOfTheHill:
              return o.am.MapKingOfTheHillPreview;
            case i.Qy.Circle:
              return o.am.MapCirclePreview;
            case i.Qy.Kite:
              return o.am.MapKitePreview;
            case i.Qy.Romania:
              return o.am.MapRomaniaPreview;
            case i.Qy.MiniBase:
              return o.am.MapMiniBasePreview;
            case i.Qy.Monopoly:
              return o.am.MapMonopolyPreview;
            case i.Qy.MountainOfRiches:
              return o.am.MapMountainOfRichesPreview;
            case i.Qy.Doggo:
              return o.am.MapDoggoPreview;
            case i.Qy.Duel:
              return o.am.MapDuelPreview;
            case i.Qy.TradeIslands:
            case i.Qy.TradeIslandsSeafarers:
              return o.am.MapTradeIslandsPreview;
            case i.Qy.Vietnam:
              return o.am.MapVietnamPreview;
            case i.Qy.TurningTidesSeafarers:
            case i.Qy.TurningTidesClassic:
              return o.am.MapTurningTidesPreview;
            case i.Qy.TwoIsles:
              return o.am.MapTwoIslesPreview;
            case i.Qy.JellyFish:
              return o.am.MapJellyFishPreview;
            case i.Qy.Istanbul:
            case i.Qy.IstanbulSeafarers:
              return o.am.MapIstanbulPreview;
            case i.Qy.Europe:
            case i.Qy.EuropeSeafarers:
              return o.am.MapEuropePreview;
            case i.Qy.Stripes:
              return o.am.MapStripesPreview;
            case i.Qy.MonopolyIslands:
            case i.Qy.MonopolyIslandsSeafarers:
              return o.am.MapMonopolyIslandsPreview;
            case i.Qy.SS1HeadingForNewShores3P:
              return o.am.MapSS1HeadingForNewShores3PPreview;
            case i.Qy.SS1HeadingForNewShores4P:
              return o.am.MapSS1HeadingForNewShores4PPreview;
            case i.Qy.SS1HeadingForNewShores56P:
              return o.am.MapSS1HeadingForNewShores56PPreview;
            case i.Qy.SS2FourIslands3P:
              return o.am.MapSS2FourIslands3PPreview;
            case i.Qy.SS2FourIslands4P:
              return o.am.MapSS2FourIslands4PPreview;
            case i.Qy.SS2SixIslands56P:
              return o.am.MapSS2SixIslands56PPreview;
            case i.Qy.SS3FogIslands3P:
              return o.am.MapSS3FogIslands3PPreview;
            case i.Qy.SS3FogIslands4P:
              return o.am.MapSS3FogIslands4PPreview;
            case i.Qy.SS3FogIslands56P:
              return o.am.MapSS3FogIslands56PPreview;
            case i.Qy.SS4ThroughTheDesert3P:
              return o.am.MapSS4ThroughTheDesert3PPreview;
            case i.Qy.SS4ThroughTheDesert4P:
              return o.am.MapSS4ThroughTheDesert4PPreview;
            case i.Qy.SS4ThroughTheDesert56P:
              return o.am.MapSS4ThroughTheDesert56PPreview;
            default:
              return;
          }
        })(e);
        if (null == s) return;
        const c = (function (e) {
            const t = n.qq.getModeDataForMode(e);
            if (!t) return;
            switch (e) {
              case i.p9.Classic4P:
              case i.p9.Classic56P:
              case i.p9.Classic78P:
                return;
              case i.p9.Seafarers4P:
              case i.p9.Seafarers56P:
                return o.am.GameModeSeafarers;
              case i.p9.CitiesAndKnights4P:
              case i.p9.CitiesAndKnights56P:
                return o.am.GameModeCnK;
              case i.p9.CitiesAndKnightsSeafarers4P:
              case i.p9.CitiesAndKnightsSeafarers56P:
                return o.am.GameModeCnKSeafarers;
              case i.p9.ColonistRush4P:
                return o.am.GameModeColonistRush;
              default:
                return;
            }
          })(t),
          l = (0, a.Sw)("shuffle-queue-icon");
        (0, a.zO)(l, o.am.GameModeShuffle, "shuffle-queue-icon-shuffle-card");
        const d = (0, a.Le)(l, "shuffle-queue-icon-details");
        return (
          (0, a.zO)(d, s, "shuffle-queue-icon-map"),
          null != c && (0, a.zO)(d, c, "shuffle-queue-icon-mode"),
          l
        );
      }
      function u(e, t) {
        if (null == e || null == t) return 30;
        const s = (function (e) {
            switch (e) {
              case i.p9.Classic4P:
              case i.p9.Classic56P:
              case i.p9.Classic78P:
                return i.IU.CLASSIC;
              case i.p9.CitiesAndKnights4P:
              case i.p9.CitiesAndKnights56P:
                return i.IU.CITIES_AND_KNIGHTS;
              case i.p9.Seafarers4P:
              case i.p9.Seafarers56P:
                return i.IU.SEAFARERS;
              case i.p9.CitiesAndKnightsSeafarers4P:
              case i.p9.CitiesAndKnightsSeafarers56P:
                return i.IU.CITIES_AND_KNIGHTS_SEAFARERS;
              case i.p9.ColonistRush4P:
                return i.IU.COLONIST_RUSH;
              default:
                return 30;
            }
          })(t),
          n = (function (e) {
            switch (e) {
              case 2:
                return 0.5;
              case 3:
                return 0.75;
              case 4:
              default:
                return 1;
              case 5:
                return 1.125;
              case 6:
                return 1.25;
              case 7:
                return 1.375;
              case 8:
                return 1.5;
            }
          })(e);
        return 5 * Math.round((s * n) / 5);
      }
    },
    31597: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/sfx_beginner_hint_activated.99512f2b1314db3489d6.mp3";
    },
    31735: (e, t, s) => {
      "use strict";
      s.d(t, { M: () => o });
      var i = s(9029),
        n = s(27532);
      const r = s.p + "assets/icon_arrow_white.1cfd43894bd6514a469d.svg";
      class o {
        async getImageFile() {
          var e, t, s;
          return this.imageFile
            ? (null === (s = this.imageLoadingCallback) ||
                void 0 === s ||
                s.call(this, !1),
              this.imageFile)
            : (null === (e = this.imageLoadingCallback) ||
                void 0 === e ||
                e.call(this, !0),
              this.imageGenerated ||
                (await this.generateImage(), (this.imageGenerated = !0)),
              this.convertImagePromise ||
                (this.convertImagePromise = this.convertImage()),
              await this.convertImagePromise,
              null === (t = this.imageLoadingCallback) ||
                void 0 === t ||
                t.call(this, !1),
              this.imageFile);
        }
        async convertImage() {
          const e = (await s.e(526).then(s.t.bind(s, 53827, 23))).default,
            t = await e(this.container, { useCORS: !0 });
          return new Promise((e, s) => {
            t.toBlob((t) => {
              t
                ? ((this.imageFile = new File(
                    [t],
                    "colonist-game-results.png",
                    { type: t.type },
                  )),
                  e(this.imageFile))
                : e(void 0);
            }, "image/png");
          });
        }
        createLogo() {
          (0, i.WL)(
            this.container,
            n,
            { key: "strings:colonistCommon.utils.emptyString" },
            "share-image-logo",
          );
        }
        createColonistLink() {
          const e = (0, i.Le)(this.container, "share-image-url-container");
          ((0, i.WL)(
            e,
            r,
            { key: "strings:colonistCommon.utils.emptyString" },
            "share-image-url-arrow",
          ),
            (0, i.Wr)(
              e,
              {
                key: "strings:colonistCommon.utils.#buffer",
                options: { value: "colonist.io" },
              },
              "share-image-url",
            ));
        }
        constructor(e, t, s) {
          ((this.imageGenerated = !1),
            (this.uiGameManager = e),
            (this.endGameState = t),
            (this.imageLoadingCallback = s),
            (this.extract =
              this.uiGameManager.canvasController.app.renderer.extract),
            (this.extract =
              this.uiGameManager.canvasController.app.renderer.extract),
            (this.container = (0, i.Le)(
              document.body,
              "share-image-container",
            )),
            this.createLogo(),
            this.createColonistLink());
        }
      }
    },
    32294: (e, t, s) => {
      "use strict";
      function i(e) {
        return Math.floor(e);
      }
      s.d(t, { Q: () => i });
    },
    32332: (e, t, s) => {
      "use strict";
      s.d(t, { A: () => S });
      var i = s(87290),
        n = s(50482),
        r = s(34915),
        o = s(9029),
        a = s(95176),
        c = s(18514);
      class l extends a.y {
        createListWithHeaderAndItems(e, t) {
          const s = (0, o.Le)(
              this.descriptionSection,
              "popup_ranked_game_description_text_section",
              "",
            ),
            i = (0, o.Le)(s, "");
          (0, o.n8)(i, e, "");
          const n = (0, o.uk)(s, "");
          for (const e of t) {
            const t = {
              key: "strings:colonistCommon.utils.#buffer",
              options: { value: e },
            };
            (0, o.t2)(n, t, "");
          }
        }
        constructor() {
          (super(
            { key: "strings:homePage.ranked.infoPopup.title" },
            { key: "strings:colonistCommon.utils.emptyString" },
            () => {},
            () => {},
            !0,
            { showXonHeader: !0, showXButton: !1, showCheckButton: !1 },
          ),
            (this.body.style.flexDirection = "column"),
            (0, o.RH)(this.body, {
              key: "strings:colonistCommon.utils.emptyString",
            }),
            (this.leagueIconSection = (0, o.Le)(
              this.body,
              "popup_ranked_game_description_league_icons",
              "",
            )),
            (this.descriptionSection = (0, o.Le)(
              this.body,
              "popup_ranked_game_description_texts_wrapper",
              "",
            )),
            (this.faqSection = (0, o.Le)(
              this.body,
              "popup_ranked_game_description_faq",
              "",
            )),
            (this.leagueIconSection.style.display = "flex"));
          const e = [
            r.j.getRankedDivisionImage(i.os.Bronze),
            r.j.getRankedDivisionImage(i.os.Silver),
            r.j.getRankedDivisionImage(i.os.Gold),
            r.j.getRankedDivisionImage(i.os.Platinum),
            r.j.getRankedDivisionImage(i.os.Diamond),
          ];
          if (0 !== e.length)
            for (const t of e) {
              (0, o.zO)(this.leagueIconSection, t).style.width =
                100 / e.length + "%";
            }
          const t = c.a7.tArray(
              "strings:homePage.ranked.infoPopup.howItWorks.description",
              {
                subscribeUrl: "/store#membership",
                leaderboardsUrl: "/leaderboards",
              },
            ),
            s = c.a7.tArray(
              "strings:homePage.ranked.infoPopup.gameSettings.description",
            );
          (this.createListWithHeaderAndItems(
            { key: "strings:homePage.ranked.infoPopup.howItWorks.title" },
            t,
          ),
            this.createListWithHeaderAndItems(
              { key: "strings:homePage.ranked.infoPopup.gameSettings.title" },
              s,
            ));
          ((0, o.Wr)(
            this.faqSection,
            {
              key: "strings:homePage.ranked.infoPopup.forMoreDetailsCheckOutFAQ",
              options: { faqUrl: "/faq#ranked" },
            },
            "popup_ranked_game_description_faq",
          ),
            this.removeFooter(),
            this.show());
        }
      }
      var d = s(13618),
        u = s(22194),
        h = s(17399),
        p = s(3797),
        m = s(90676),
        g = s(18587),
        f = s(81888),
        y = s(34221);
      const b = s.p + "assets/social_icon_discord_1.4db0a9d3380c7ef77085.svg";
      var v = s(23355);
      class S {
        update(e) {
          const t = `${"number" == typeof e.rank && !g.r.isUserOnMobileAppOrWeb ? "#" : ""}${e.rank}`;
          (0, o.RH)(this.tdRank, {
            key: "strings:colonistCommon.utils.#buffer",
            options: { value: t },
          });
          const s = e.membershipType;
          if (void 0 !== s) {
            const e = this.getMembershipImg(s),
              t = n.Zt.getMembershipProduct(s);
            ((0, m.vy)(e, t.membershipTitle, "right"),
              this.tdRank.appendChild(e));
          }
          const r = S.getDivisionImage(e.division);
          ((0, m.vy)(r, (0, i.du)(e.division, e.subdivision), "right"),
            this.tdDivision.replaceChildren(r));
          const a = S.getSubdivisionImage(e.subdivision);
          (null != a && this.tdDivision.appendChild(a), this.setFlagIcon(e));
        }
        setFlagIcon(e) {
          var t;
          const s =
              null ==
              (null === (t = f._.userState) || void 0 === t
                ? void 0
                : t.regionUpdated),
            i =
              s && g.r.isUserOnDiscord && e.myData
                ? S.getDiscordIcon()
                : this.getCountryOrContinentImage(
                    e.continentCode,
                    e.countryCode,
                    e.countryLeaderboardUrl,
                    e.myData,
                  ),
            n = S.getCountryOrContinentName(e),
            r = {
              key: "strings:leaderboardPage.changeRegion.currentRegion",
              options: { currentRegion: c.a7.t(n.key, n.options) },
            };
          e.myData &&
            ((i.style.cursor = "pointer"),
            (0, o.G0)(i, () => y.h.showChangeRegionPopup(), !1, !0));
          const a = e.myData
            ? s
              ? { key: "strings:leaderboardPage.changeRegion.chooseRegion" }
              : r
            : n;
          ((0, m.vy)(i, a, "right"),
            this.tdUsername.replaceChildren(i, e.username));
        }
        static getDiscordIcon() {
          return (0, o.WL)(
            (0, o.Sw)(),
            b,
            { key: "strings:colonistCommon.utils.emptyString" },
            "flag",
          );
        }
        getMembershipImg(e) {
          const t = document.createElement("img");
          t.classList.add("membership_icon");
          const s = n.Zt.getMembershipProduct(e);
          return (
            (t.src = (0, h.tu)(s.lobbyImage)),
            (0, o.G0)(
              t,
              () => {
                g.r.isUserOnMobileAppOrWeb
                  ? (0, d.er)("/store")
                  : (0, d.Yf)("/store", !0);
              },
              !1,
              !0,
            ),
            t
          );
        }
        static getCountryOrContinentName(e) {
          return e.countryCode
            ? {
                key: "strings:colonistCommon.utils.#buffer",
                options: { value: c.vX.getCountryName(e.countryCode) },
              }
            : e.continentCode
              ? {
                  key: `strings:leaderboardPage.tabs.continents.${e.continentCode}`,
                }
              : { key: "strings:leaderboardPage.earth" };
        }
        static getDivisionImage(e) {
          const t = r.j.getRankedDivisionImage(e),
            s = document.createElement("img");
          return (
            e != u.os.None && (s.src = (0, h.tu)(t)),
            (s.style.cursor = "pointer"),
            (0, o.G0)(
              s,
              () => {
                new l();
              },
              !1,
              !0,
            ),
            s
          );
        }
        static getSubdivisionImage(e) {
          const t = r.j.getRankedSubdivisionImage(e);
          if (null == t) return;
          const s = document.createElement("img");
          return (
            (s.src = (0, h.tu)(t)),
            (s.style.cursor = "pointer"),
            (0, o.G0)(
              s,
              () => {
                g.r.isUserOnMobileAppOrWeb || new l();
              },
              !1,
              !0,
            ),
            s
          );
        }
        getCountryOrContinentImage(e, t, s, i) {
          const n = document.createElement("img");
          return (
            (n.src = (0, p.P)(t, e)),
            n.classList.add("flag"),
            i ||
              null == s ||
              (0, o.G0)(n, () => this.onLeaderboardUrlChange(s), !1, !0),
            n
          );
        }
        static hideCell(e) {
          e.classList.add("hidden");
        }
        destroy() {
          this.tableRow.remove();
        }
        constructor(e, t, s, i) {
          ((this.rowData = t), (this.tableRow = e.insertRow(s)));
          const n = t.myData ? "my_leaderboard_cell" : "leaderboard_cell";
          ((this.tdRank = (0, o.Cr)(this.tableRow, n)),
            (this.tdUsername = (0, o.Cr)(this.tableRow, `${n} truncate-text`)),
            (this.tdDivision = (0, o.Cr)(this.tableRow, n)),
            t.myData && t.division == u.os.None && S.hideCell(this.tdDivision),
            (0, o.G0)(this.tableRow, () => {
              v.xp.init(t.username, v.K_.Ranked);
            }),
            (this.onLeaderboardUrlChange = i));
        }
      }
    },
    32398: (e, t, s) => {
      "use strict";
      s.d(t, { l: () => n });
      var i = s(18587);
      class n {
        static socketServerWSS() {
          return i.r.ejsSocketServerWss;
        }
        static googleAuth(e) {
          return e ? `auth/google?callbackHash=${e}` : "/auth/google";
        }
        static appleAuth(e) {
          return e ? `/auth/apple?callbackHash=${e}` : "/auth/apple";
        }
        static discordAuth(e) {
          return e ? `/auth/discord?callbackHash=${e}` : "/auth/discord";
        }
        static discordActivityAuth() {
          return "/auth/discord-activity";
        }
        static googleLink(e) {
          return e
            ? `/auth-link/google?callbackHash=${e}`
            : "/auth-link/google";
        }
        static appleLink(e) {
          return e ? `/auth-link/apple?callbackHash=${e}` : "/auth-link/apple";
        }
        static discordLink(e) {
          return e
            ? `/auth-link/discord?callbackHash=${e}`
            : "/auth-link/discord";
        }
        static googleUnlink() {
          return "/auth-unlink/google";
        }
        static appleUnlink() {
          return "/auth-unlink/apple";
        }
        static discordUnlink() {
          return "/auth-unlink/discord";
        }
        static logout() {
          return "/logout";
        }
        static checkoutProductUrl(e) {
          return `/checkout?product=${e}`;
        }
        static checkoutMembershipUrl(e) {
          return `/checkout?membership=${e}`;
        }
        static checkoutOneTimePurchaseUrl(e) {
          return `/checkout?one-time-purchase=${e}`;
        }
        static apiPayGetStoreStripeSession() {
          return "/api/pay/get-store-stripe-session";
        }
        static apiPayGetStoreXsollaSession() {
          return "/api/pay/get-store-xsolla-session";
        }
        static apiPayCreateCustomerPortalSession() {
          return "/api/pay/stripe-create-customer-portal-session";
        }
        static apiPayPurchaseItem() {
          return "/api/pay/purchase-item";
        }
        static apiActivateGiftMembership() {
          return "/api/membership/activate-gift";
        }
        static apiCancelGiftMembership() {
          return "/api/membership/cancel-gift";
        }
        static apiAnalytics() {
          return "/api/analytic-events";
        }
        static apiUpdateProfile() {
          return "/api/profile-edit";
        }
        static apiDeleteProfile() {
          return "/api/profile/delete";
        }
        static apiFindGameState() {
          return "/api/find-game-ranked-state";
        }
        static apiUserState() {
          return "/api/user-state";
        }
        static apiUserStateCreate() {
          return "/api/user-state/create";
        }
        static apiUserLoginState() {
          return "/api/user-login-state";
        }
        static apiUserProfileAddFriend() {
          return "/api/profile-edit/add-friend-request";
        }
        static apiUserProfileAcceptFriend() {
          return "/api/profile-edit/accept-friend-request";
        }
        static apiUserProfileRemoveFriend() {
          return "/api/profile-edit/remove-friend";
        }
        static apiUserProfileRankedSeasons() {
          return "/api/profile/ranked-seasons";
        }
        static apiGetDiscordAccessToken() {
          return "/api/discord/token";
        }
        static apiHandleDiscordPurchase() {
          return "/api/discord/handle-purchase";
        }
        static apiSaveDiscordData() {
          return "/api/discord/save-data";
        }
        static apiFriendRequestsReceived() {
          return "/api/header/friend-requests-received";
        }
        static apiSetUserLanguage() {
          return "/api/user/language";
        }
        static apiSetUserReferrer() {
          return "/api/user/set-referrer";
        }
        static apiGetUserReferralCount() {
          return "/api/user/get-referral-count";
        }
        static apiAssignABTest() {
          return "/api/user/assign-ab-test";
        }
        static apiGetRoomList() {
          return "/api/room-list.json";
        }
        static apiGetGameList() {
          return "/api/game-list.json";
        }
        static apiGetRegions() {
          return "/api/regions.json";
        }
        static apiReportPlayer(e) {
          return `/api/${encodeURIComponent(e)}/report-user`;
        }
        static apiFeedbackFormSubmit() {
          return "/api/feedback-form";
        }
        static apiFeedbackFormShow() {
          return "/api/show-feedback-form";
        }
        static apiGetNotifications() {
          return "/api/notifications";
        }
        static apiMarkNotificationAsRead(e) {
          return `/api/notifications/${e}/mark-as-read`;
        }
        static apiValidateUsername(e) {
          return `/api/validate-username/${e}`;
        }
        static apiChangeRegion() {
          return "/api/profile/change-region";
        }
        static apiReplayShareableLink(e, t) {
          return `/api/replay/shareable-link?gameId=${e}&playerColor=${t}`;
        }
        static apiReplayDataFromSlug(e) {
          return `/api/replay/data-from-slug?replayUrlSlug=${e}`;
        }
        static apiReplayDataFromGameId(e, t) {
          return `/api/replay/data-from-game-id?gameId=${e}&playerColor=${t}`;
        }
        static apiRedeemGiftFromHash() {
          return "/api/gift-membership/redeem";
        }
        static apiGetGiftMembershipData(e) {
          return `/api/gift-membership/hash?hash=${e}`;
        }
        static apiSaveGiftMetadata() {
          return "/api/gift-membership/metadata";
        }
        static apiReactivationMessage() {
          return "/api/plan-user-reactivation";
        }
        static apiChampionship25Content() {
          return "/api/championship25/content";
        }
        static apiFreePlayDiceRoll() {
          return "/api/free-play-dice-roll";
        }
      }
      ((n.apiUserProfile = Object.freeze({
        stickyPlayerInfo: (e) =>
          `/api/profile/${encodeURIComponent(e)}/sticky-player-info`,
        overview: (e) => `/api/profile/${encodeURIComponent(e)}/overview`,
        history: (e) => `/api/profile/${encodeURIComponent(e)}/history`,
        items: (e) => `/api/profile/${encodeURIComponent(e)}/items`,
        friends: () => "/api/profile/friends",
        ranked: (e) => `/api/profile/${encodeURIComponent(e)}/ranked`,
        username: (e) => `/api/profile/${e}/username`,
      })),
        (n.apiLeaderboards = Object.freeze({
          data: (e, t) => `/api/leaderboards/${e}/${t}`,
          usernameSearch: (e, t) =>
            `/api/leaderboards-username-search/${e}/${t}`,
          tabs: (e) => `/api/leaderboards-tabs/${e}`,
          stickyRowData: (e, t) =>
            `/api/leaderboards-my-sticky-row-data/${e}/${t}`,
        })));
    },
    32581: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_hourglass.6bc68349265ccde43880.svg";
    },
    32663: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/knight_level1_inactive_gold.8b603be7d7373391d16f.svg";
    },
    32741: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/knight_level1_active_mysticblue.97008f504adb4788e71c.svg";
    },
    32936: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_farmer.1c3c6195494cc2dde10d.svg";
    },
    32980: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/ab_gifting_valentines.85cb6aadc9f5394bb546.png";
    },
    33292: (e, t, s) => {
      "use strict";
      s.d(t, { a: () => u });
      var i = s(92524),
        n = s(64265),
        r = s(50482),
        o = s(13618),
        a = s(82535),
        c = s(17399),
        l = s(9029),
        d = s(17972);
      class u {
        hideNonStripePayments() {
          if (!this.isMembershipProduct()) return;
          document.getElementById("label_paypal").style.display = "none";
          document.getElementById("label_amazon_pay").style.display = "none";
          document.getElementById("label_bitpay").style.display = "none";
          document.getElementById("label_other_methods").style.display = "none";
        }
        deactivatePaynowButton() {
          (this.paynowButton.classList.add("inactive"),
            (0, l.G0)(this.paynowButton, () => {}));
        }
        activatePaynowButton() {
          (this.paynowButton.classList.remove("inactive"),
            (0, l.G0)(this.paynowButton, () => this.clickedPaynow()));
        }
        static getStoreProduct() {
          const e = (0, o.Ez)("product");
          if (null != e) {
            const t = Number(e);
            return n.AB.getPurchaseProduct(t);
          }
          const t = (0, o.Ez)("membership");
          if (null != t) {
            const e = Number(t);
            return r.Zt.getMembershipProduct(e);
          }
          const s = (0, o.Ez)("one-time-purchase");
          if (null != s) {
            const e = Number(s),
              t = d.f.getOneTimePurchaseProduct(e);
            if (0 == t.isActive()) return;
            return t;
          }
        }
        generateCheckoutItem() {
          this.isMembershipProduct()
            ? this.generateMembershipCheckoutText()
            : this.generateCoinCheckoutText();
        }
        generateMembershipCheckoutText() {
          const e = this.product;
          (e.billedAnnually
            ? (0, l.RH)(this.itemPrice, {
                key: "strings:storePage.sections.membership.billing.yearlyPayment",
                options: { amount: e.getAnnualPrice() },
              })
            : (0, l.RH)(this.itemPrice, {
                key: "strings:colonistCommon.utils.#buffer",
                options: { value: "$" + this.product.getDefaultPrice() },
              }),
            (0, l.RH)(this.itemName, this.product.getProductName()),
            this.generateMembershipRenewalCheckoutText(),
            (this.itemImage.src = (0, c.tu)(this.product.lobbyImage)));
        }
        generateCoinCheckoutText() {
          ((0, l.RH)(this.itemPrice, {
            key: "strings:colonistCommon.utils.#buffer",
            options: { value: this.product.getDefaultPrice() },
          }),
            (0, l.RH)(this.itemName, this.product.getProductName()),
            (this.itemImage.src = (0, c.tu)(this.product.lobbyImage)));
        }
        generateMembershipRenewalCheckoutText() {
          const e = document.getElementById("membership-renewal-info"),
            t = {
              key: "strings:storePage.checkout.membershipRenewalInfo",
              options: { date: this.calculateMembershipRenewalDate() },
            };
          (0, l.RH)(e, t);
        }
        calculateMembershipRenewalDate() {
          const e = new Date();
          return (
            this.product.billedAnnually
              ? e.setFullYear(e.getFullYear() + 1)
              : e.setMonth(e.getMonth() + 1),
            e.toLocaleDateString()
          );
        }
        connectPaymentForm() {
          for (const e of this.radioButtons)
            (0, l.G0)(e, () => this.activatePaynowButton());
        }
        getSelectedPaymentMethod() {
          for (const e of this.radioButtons)
            if (e.checked)
              switch (e.id) {
                case "credit_debit":
                case "google_pay":
                case "apple_pay":
                  return i.g5.Stripe;
                case "paypal":
                case "amazon_pay":
                case "bitpay":
                case "other_methods":
                  return i.g5.Xsolla;
              }
          return (
            (0, c.vV)("getSelectedPaymentMethod", ["Error wtf"]),
            i.g5.Stripe
          );
        }
        isMembershipProduct() {
          return this.product instanceof r.Zt;
        }
        clickedPaynow() {
          const e = this.getSelectedPaymentMethod();
          (e == i.g5.Stripe &&
            a.B.executeStripeColonistProductPurchaseSession(
              this.product.storeProductType,
              this.product.type,
              this.product.itemQuantity,
            ),
            e == i.g5.Xsolla &&
              a.B.executeXsollaColonistCoinPurchaseSession(
                this.product.storeProductType,
                this.product.type,
              ));
        }
        constructor() {
          ((this.paynowButton = document.getElementById(
            "checkout_paynow_button",
          )),
            (this.itemImage = document.getElementById("checkout_item_image")),
            (this.itemPrice = document.getElementById("checkout_item_price")),
            (this.itemName = document.getElementById("checkout_item_name")),
            (this.radioButtons = document.getElementsByName("payment_method")));
          const e = u.getStoreProduct();
          null != e
            ? ((this.product = e),
              this.hideNonStripePayments(),
              this.activatePaynowButton(),
              this.generateCheckoutItem(),
              this.connectPaymentForm())
            : this.deactivatePaynowButton();
        }
      }
    },
    33418: (e, t, s) => {
      "use strict";
      s.d(t, { H5: () => o, gl: () => r });
      var i = s(63778);
      class n {
        getProductionForCornerPieceAndTile(e, t) {
          switch (e) {
            case i.um.KnightActiveLevel1:
            case i.um.KnightActiveLevel2:
            case i.um.KnightActiveLevel3:
            case i.um.KnightInactiveLevel1:
            case i.um.KnightInactiveLevel2:
            case i.um.KnightInactiveLevel3:
              return [];
            case i.um.DestroyedCity:
            case i.um.Settlement:
              return this.getProductionForSettlement(t);
            case i.um.City:
              return this.getProductionForCity(t);
          }
        }
        getProductionForSettlement(e) {
          switch (e) {
            case i.m1.Lumber:
              return this.settlementLumberProduction;
            case i.m1.Brick:
              return this.settlementBrickProduction;
            case i.m1.Wool:
              return this.settlementWoolProduction;
            case i.m1.Grain:
              return this.settlementGrainProduction;
            case i.m1.Ore:
              return this.settlementOreProduction;
            case i.m1.Gold:
              return this.settlementGoldProduction;
            case i.m1.Sea:
              return this.settlementSeaProduction;
            case i.m1.Desert:
              return this.settlementDesertProduction;
            case i.m1.Fog:
              return this.settlementFogProduction;
          }
        }
        getProductionForCity(e) {
          switch (e) {
            case i.m1.Lumber:
              return this.cityLumberProduction;
            case i.m1.Brick:
              return this.cityBrickProduction;
            case i.m1.Wool:
              return this.cityWoolProduction;
            case i.m1.Grain:
              return this.cityGrainProduction;
            case i.m1.Ore:
              return this.cityOreProduction;
            case i.m1.Gold:
              return this.cityGoldProduction;
            case i.m1.Sea:
              return this.citySeaProduction;
            case i.m1.Desert:
              return this.cityDesertProduction;
            case i.m1.Fog:
              return this.cityFogProduction;
          }
        }
      }
      class r extends n {
        constructor(...e) {
          (super(...e),
            (this.settlementLumberProduction = [i.O3.Lumber]),
            (this.settlementBrickProduction = [i.O3.Brick]),
            (this.settlementWoolProduction = [i.O3.Wool]),
            (this.settlementGrainProduction = [i.O3.Grain]),
            (this.settlementOreProduction = [i.O3.Ore]),
            (this.settlementGoldProduction = []),
            (this.settlementSeaProduction = []),
            (this.settlementDesertProduction = []),
            (this.settlementFogProduction = []),
            (this.cityLumberProduction = [i.O3.Lumber, i.O3.Lumber]),
            (this.cityBrickProduction = [i.O3.Brick, i.O3.Brick]),
            (this.cityWoolProduction = [i.O3.Wool, i.O3.Wool]),
            (this.cityGrainProduction = [i.O3.Grain, i.O3.Grain]),
            (this.cityOreProduction = [i.O3.Ore, i.O3.Ore]),
            (this.cityGoldProduction = []),
            (this.citySeaProduction = []),
            (this.cityDesertProduction = []),
            (this.cityFogProduction = []));
        }
      }
      class o extends n {
        constructor(...e) {
          (super(...e),
            (this.settlementLumberProduction = [i.O3.Lumber]),
            (this.settlementBrickProduction = [i.O3.Brick]),
            (this.settlementWoolProduction = [i.O3.Wool]),
            (this.settlementGrainProduction = [i.O3.Grain]),
            (this.settlementOreProduction = [i.O3.Ore]),
            (this.settlementGoldProduction = []),
            (this.settlementSeaProduction = []),
            (this.settlementDesertProduction = []),
            (this.settlementFogProduction = []),
            (this.cityLumberProduction = [i.O3.Lumber, i.O3.Paper]),
            (this.cityBrickProduction = [i.O3.Brick, i.O3.Brick]),
            (this.cityWoolProduction = [i.O3.Wool, i.O3.Cloth]),
            (this.cityGrainProduction = [i.O3.Grain, i.O3.Grain]),
            (this.cityOreProduction = [i.O3.Ore, i.O3.Coin]),
            (this.cityGoldProduction = []),
            (this.citySeaProduction = []),
            (this.cityDesertProduction = []),
            (this.cityFogProduction = []));
        }
      }
    },
    33555: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_chit.147cbb6f9a6127b840db.svg";
    },
    33724: (e, t, s) => {
      "use strict";
      s.d(t, { j: () => o });
      var i = s(78311),
        n = s(9029),
        r = s(90676);
      class o {
        get isDisabled() {
          return this._isDisabled;
        }
        set isDisabled(e) {
          ((this._isDisabled = e),
            (this.slider.disabled = e),
            this.setSliderVisibility());
        }
        createContainer() {
          this.sliderContainer = (0, n.Le)(
            this.container,
            "room-settings-slider-container",
          );
        }
        createHeader() {
          this.headerContainer = (0, n.Le)(
            this.sliderContainer,
            "room-settings-slider-header",
          );
          const e = (0, n.Le)(
            this.headerContainer,
            "room-settings-slider-title",
          );
          ((0, n.n8)(e, this.title, ""),
            (this.sliderWarningImage = (0, n.zO)(e, i.am.DangerIcon, "hidden")),
            (0, r.vy)(this.sliderWarningImage, {
              key: "strings:roomPage.options.vpToWin.aboveRecommendedLimit",
            }));
        }
        createSlider() {
          ((this.sliderTrackContainer = (0, n.Le)(
            this.sliderContainer,
            "room-settings-slider-track-container",
          )),
            (0, n.i5)(this.sliderTrackContainer, "room-settings-slider-label", {
              key: "strings:colonistCommon.utils.#buffer",
              options: { value: this.min },
            }));
          const e = (0, n.Le)(
            this.sliderTrackContainer,
            "room-settings-slider-wrapper",
          );
          ((this.slider = (0, n.Dg)(
            e,
            "room-settings-slider-input",
            "",
            this.min,
            this.max,
            this.step,
            this.defaultValue,
          )),
            (this.sliderTrack = (0, n.Le)(e, "room-settings-slider-track")),
            (this.sliderThumb = (0, n.i5)(e, "room-settings-slider-thumb", {
              key: "strings:colonistCommon.utils.#buffer",
              options: { value: this.defaultValue },
            })),
            (0, n.i5)(this.sliderTrackContainer, "room-settings-slider-label", {
              key: "strings:colonistCommon.utils.#buffer",
              options: { value: this.max },
            }),
            (this.textDisplay = (0, n.i5)(
              this.sliderContainer,
              "room-settings-slider-text-display",
              {
                key: "strings:colonistCommon.utils.#buffer",
                options: { value: this.defaultValue },
              },
            )),
            (this.slider.oninput = () => this.handleOnInput()),
            (this.slider.onchange = () => this.handleOnChange()),
            (this.resizeObserver = new ResizeObserver(() =>
              this.updateSlider(),
            )),
            this.resizeObserver.observe(this.slider),
            this.updateSlider());
        }
        removeSlider() {
          (this.resizeObserver.disconnect(),
            this.sliderTrackContainer.remove(),
            this.textDisplay.remove());
        }
        setSliderVisibility() {
          this.sliderContainer.classList.toggle("view-only", this.isDisabled);
        }
        updateSlider() {
          const e = this.slider.valueAsNumber,
            t = (e - this.min) / (this.max - this.min),
            s = this.slider.offsetWidth,
            i = t * s,
            r = Math.max(4, Math.min(i, s - 4));
          ((this.sliderThumb.style.left = `${r}px`),
            (0, n.oB)(this.sliderThumb, {
              key: "strings:colonistCommon.utils.#buffer",
              options: { value: e },
            }));
          const o = e != this.defaultValue;
          (this.sliderContainer.classList.toggle("modified", o),
            this.sliderThumb.classList.toggle("modified", o),
            this.sliderTrack.style.setProperty(
              "--progress-percent",
              100 * t + "%",
            ),
            this.sliderTrack.classList.toggle(
              "warning",
              this.isAboveWarningThreshold(),
            ),
            this.sliderWarningImage.classList.toggle(
              "hidden",
              !this.isAboveWarningThreshold(),
            ),
            (0, n.oB)(this.textDisplay, {
              key: "strings:colonistCommon.utils.#buffer",
              options: { value: e },
            }));
        }
        updateSliderConfig(e, t) {
          (e == this.defaultValue && t == this.max) ||
            ((this.defaultValue = e),
            (this.max = t),
            this.removeSlider(),
            this.createSlider());
        }
        setWarningThreshold(e) {
          this.sliderWarningThreshold = e;
        }
        isAboveWarningThreshold() {
          return this.slider.valueAsNumber > this.sliderWarningThreshold;
        }
        handleOnInput() {
          this.isDisabled ||
            (null != this.onInput && this.onInput(this.slider.valueAsNumber),
            this.updateSlider());
        }
        handleOnChange() {
          ((this.container.style.overflow = ""),
            this.isDisabled ||
              (this.onChange && this.onChange(this.slider.valueAsNumber)));
        }
        setOnInput(e) {
          this.onInput = e;
        }
        setValue(e, t = !1) {
          ((this.slider.value = e.toString()),
            (this.isDisabled = t),
            this.updateSlider());
        }
        constructor(e, t, s, i, n, r = 1, o, a = !1) {
          ((this.container = e),
            (this.title = t),
            (this.defaultValue = s),
            (this.min = i),
            (this.max = n),
            (this.step = r),
            (this.onChange = o),
            this.createContainer(),
            this.createHeader(),
            this.createSlider(),
            (this.isDisabled = a));
        }
      }
    },
    33744: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/city_red.991ae0c7a0b95da9811d.svg";
    },
    33761: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_rewards_program.8e5e0003b807b3fc3c95.png";
    },
    33832: (e, t, s) => {
      "use strict";
      s.d(t, { fT: () => i, UA: () => r, iV: () => n });
      var i = (function (e) {
        return (
          (e.AppForeground = "app_foreground"),
          (e.AppBackground = "app_background"),
          (e.BackButtonPressed = "back_button_pressed"),
          (e.GameStarted = "game_started"),
          (e.LobbyLoaded = "lobby_loaded"),
          (e.OrientationPortrait = "orientation_portrait"),
          (e.OrientationLandscape = "orientation_landscape"),
          (e.Resize = "resize"),
          (e.ShareLink = "room_link"),
          (e.ShareImage = "share_image"),
          (e.RequestNotificationPermission = "request_notification_permission"),
          (e.NotificationSetExternalUserId =
            "notification_set_external_user_id"),
          (e.RequestReview = "request_review"),
          (e.ShowTextNotification = "show_text_notification"),
          (e.ShowTopBottomSafeArea = "show_top_bottom_safe_area"),
          (e.ShowSplashScreen = "should_show_splash_screen"),
          (e.AppEncounteredError = "app_encountered_error"),
          (e.PurchaseProduct = "purchase_product"),
          (e.GiftMembership = "gift_membership"),
          (e.PurchaseMembership = "purchase_membership"),
          (e.LocalizedPricingSubscriptions = "localized_pricing_subscriptions"),
          (e.LocalizedPricingProducts = "localized_pricing_products"),
          (e.UserCancelledPurchase = "user_cancelled_purchase"),
          (e.ShowManageSubscriptions = "show_manage_subscriptions"),
          (e.BannerAd = "banner_ad"),
          e
        );
      })({});
      function n(e) {
        return Object.values(i).includes(e);
      }
      var r = s(1199);
    },
    34104: (e, t, s) => {
      "use strict";
      s.d(t, { r: () => D, h: () => E });
      var i = s(78311),
        n = s(9029);
      class r {
        update(e) {
          ((this.currentData = e), this.render());
        }
        render() {
          null != this.currentData &&
            (this.container.replaceChildren(),
            (this.container.className = "mm-mode-card-progress"),
            null != this.currentData.backgroundColorClass &&
              this.container.classList.add(
                this.currentData.backgroundColorClass,
              ),
            (0, n.zO)(this.container, this.currentData.icon),
            (0, n.Wr)(this.container, this.currentData.text, ""));
        }
        constructor(e, t) {
          ((this.container = (0, n.Le)(e, "mm-mode-card-progress")),
            null != t && this.update(t));
        }
      }
      var o = s(86204),
        a = s(54369),
        c = s(27872),
        l = s(87775),
        d = s(48685);
      const u = s.p + "assets/icon_playtime.63e007ba9dc3dbe892df.svg",
        h = s.p + "assets/icon_player_count.73a05b7564bc560a87e9.svg",
        p = s.p + "assets/icon_bot_count.7337ba934e6e992feb8e.svg";
      var m = s(34837),
        g = s(17564),
        f = s(68342),
        y = s(49119),
        b = s(59611),
        v = s(46995),
        S = s(98487),
        k = s(24138),
        C = s(655),
        P = s(32398),
        _ = s(41931),
        A = s(81888),
        w = s(30506),
        R = s(31567),
        T = s(67908),
        I = s(46456),
        M = s(11480),
        L = s(73022),
        B = s(18587),
        D = (function (e) {
          return (
            (e[(e.Bots = 0)] = "Bots"),
            (e[(e.Casual = 1)] = "Casual"),
            (e[(e.Ranked = 2)] = "Ranked"),
            e
          );
        })({});
      class E {
        onHomepageShow() {
          ((this.componentShownTimestamp = Date.now()),
            this.startCountdownTimer());
        }
        selectTab(e) {
          this.handleTabClick(e);
        }
        selectCardByMatchType(e) {
          const t = this.cards.find((t) => t.data.matchType == e);
          null != t &&
            (t.data.category != this.currentTab &&
              this.handleTabClick(t.data.category),
            this.selectCard(t));
        }
        async initCardsAndBadges() {
          (await A._.waitUntilFresh,
            this.createBotCards(),
            E.addNewBadgeIfNeeded(this.casualTab),
            this.createCasualCards(),
            await this.createRankedCards(),
            this.setCardsView(),
            this.selectLastPlayedMatchmakingMode(),
            this.startCountdownTimer(),
            this.updateModeSelectorAdVisibility(),
            this.resolveInitialized());
        }
        updateModeSelectorAdVisibility() {
          if (null == this.modeSelectorAd) return;
          const e = 0 == this.currentTab;
          this.modeSelectorAd.style.display = e ? "none" : "";
        }
        initTabClickHandlers() {
          ((0, n.G0)(this.botsTab, () => {
            this.handleTabClick(0);
          }),
            (0, n.G0)(this.casualTab, () => {
              this.handleTabClick(1);
            }),
            (0, n.G0)(this.rankedTab, () => {
              this.handleTabClick(2);
            }));
        }
        setupPlayButtonHandler() {
          (0, n.G0)(this.playButton, () => {
            this.handlePlayButtonClick();
          });
        }
        static addNewBadgeIfNeeded(e) {
          var t, s;
          const i =
              null === (t = A._.userState) || void 0 === t
                ? void 0
                : t.isLoggedIn,
            r =
              null === (s = I.y.shufflePlayerData) || void 0 === s
                ? void 0
                : s.totalGameCount;
          if (i && 0 != r) return;
          if (null != e.querySelector(".badge-red")) return;
          const o = B.r.isUserOnMobileAppOrWeb,
            a = (0, n.Le)(e, o ? "badge-red badge-sm" : "badge-red badge-md");
          (0, n.Wr)(
            a,
            { key: "strings:homePage.matchmakingSelect.newBadge" },
            "",
          );
        }
        createBotCards() {
          var e;
          const t = (0, k.q7)(S._M.BeginnerMode),
            s = (0, k.q7)(S._M.ColonistRush),
            i = (0, k.q7)(S._M.Easy),
            n = (0, k.q7)(S._M.Medium),
            r = (0, k.q7)(S._M.Hard),
            u = A._.abTests.BOT_GAME_TAB_CTA;
          var h;
          const p =
              (null !==
                (h =
                  null === (e = A._.userState) || void 0 === e
                    ? void 0
                    : e.totalCompletedGameCount) && void 0 !== h
                ? h
                : 0) >= 10,
            m = [
              "COLONIST_RUSH" === u && p
                ? {
                    icon: a,
                    category: 0,
                    title: {
                      key: "strings:homePage.matchmakingSelect.cards.bots.colonistRush",
                    },
                    time: (0, k.h$)(S._M.ColonistRush),
                    playerCount: s.playerCount,
                    botCount: s.botCount,
                    matchType: S._M.ColonistRush,
                  }
                : {
                    icon: o,
                    category: 0,
                    title: {
                      key: "strings:homePage.matchmakingSelect.cards.bots.beginner",
                    },
                    time: (0, k.h$)(S._M.BeginnerMode),
                    playerCount: t.playerCount,
                    botCount: t.botCount,
                    matchType: S._M.BeginnerMode,
                  },
              {
                icon: c,
                category: 0,
                title: {
                  key: "strings:homePage.matchmakingSelect.cards.bots.easy",
                },
                time: (0, k.h$)(S._M.Easy),
                playerCount: i.playerCount,
                botCount: i.botCount,
                matchType: S._M.Easy,
              },
              {
                icon: l,
                category: 0,
                title: {
                  key: "strings:homePage.matchmakingSelect.cards.bots.medium",
                },
                time: (0, k.h$)(S._M.Medium),
                playerCount: n.playerCount,
                botCount: n.botCount,
                matchType: S._M.Medium,
              },
              {
                icon: d,
                category: 0,
                title: {
                  key: "strings:homePage.matchmakingSelect.cards.bots.hard",
                },
                time: (0, k.h$)(S._M.Hard),
                playerCount: r.playerCount,
                botCount: r.botCount,
                matchType: S._M.Hard,
              },
            ];
          for (const e of m) this.generateCard(e);
        }
        createCasualCards() {
          var e, t;
          const s = (0, k._b)(S.Nw.UnrankedShuffle),
            i = (0, k.q7)(S.Nw.UnrankedShuffle),
            n = (0, k.q7)(S.Nw.UnrankedClassic1v1),
            r = (0, k.q7)(S.Nw.UnrankedClassic4P),
            o = [
              {
                card: {
                  icon: m,
                  category: 1,
                  title: {
                    key: "strings:homePage.matchmakingSelect.cards.1v1",
                  },
                  time: (0, k.h$)(S.Nw.UnrankedClassic1v1),
                  playerCount: n.playerCount,
                  botCount: n.botCount,
                  matchType: S.Nw.UnrankedClassic1v1,
                },
              },
              {
                card: {
                  icon: g,
                  category: 1,
                  title: {
                    key: "strings:homePage.matchmakingSelect.cards.4Player",
                  },
                  time: (0, k.h$)(S.Nw.UnrankedClassic4P),
                  playerCount: r.playerCount,
                  botCount: r.botCount,
                  matchType: S.Nw.UnrankedClassic4P,
                },
              },
              {
                card: {
                  icon: f,
                  category: 1,
                  title: { key: "strings:homePage.unranked.shuffle" },
                  ...(null != s.description && { subtitle: s.description }),
                  time: (0, k.h$)(S.Nw.UnrankedShuffle),
                  playerCount: i.playerCount,
                  botCount: i.botCount,
                  nextRotationISO:
                    null === (e = I.y.shuffleQueueData) || void 0 === e
                      ? void 0
                      : e.endDate,
                  matchType: S.Nw.UnrankedShuffle,
                },
                ...(s.badge && { badge: s.badge }),
              },
            ];
          for (const { card: e, badge: t } of o) this.generateCard(e, t);
          var a;
          const c =
              (null !==
                (a =
                  null === (t = A._.userState) || void 0 === t
                    ? void 0
                    : t.totalCompletedGameCount) && void 0 !== a
                ? a
                : 0) >= T.FP.NumberOfGamesToUnlockRanked,
            l = this.cards.find(
              (e) => e.data.matchType == S.Nw.UnrankedShuffle,
            );
          if (null == l) return;
          const d = I.y.shuffleQueueData;
          if (d && c) {
            const e = l.element.querySelector(".mm-mode-card-icon");
            if (null == e) return;
            const t = (0, R.kl)(d.mapId, d.modeId);
            if (null == t) return;
            (t.classList.add("mm-mode-card-icon"), e.replaceWith(t));
          }
          E.addNewBadgeIfNeeded(l.element);
        }
        async createRankedCards() {
          var e;
          const t = await C.m.getRequestHandler(
            P.l.apiFindGameState(),
            void 0,
            void 0,
            !1,
          );
          if (null == t) return;
          if (!t.isSuccess) return;
          this.rankedStates = t.json;
          const s = (0, k._b)(S.Nw.RankedClassic4P, this.rankedStates),
            i = (0, k._b)(S.Nw.RankedClassic1v1, this.rankedStates),
            n = (0, k._b)(S.Nw.RankedCitiesAndKnights4P, this.rankedStates),
            r = (0, k.q7)(S.Nw.RankedClassic1v1),
            o = (0, k.q7)(S.Nw.RankedClassic4P),
            a = (0, k.q7)(S.Nw.RankedCitiesAndKnights4P),
            c = [
              {
                card: {
                  icon: y,
                  category: 2,
                  title: {
                    key: "strings:homePage.matchmakingSelect.cards.1v1",
                  },
                  ...(i.description && { subtitle: i.description }),
                  time: (0, k.h$)(S.Nw.RankedClassic1v1),
                  playerCount: r.playerCount,
                  botCount: r.botCount,
                  matchType: S.Nw.RankedClassic1v1,
                },
                ...(i.badge && { badge: i.badge }),
              },
              {
                card: {
                  icon: b,
                  category: 2,
                  title: {
                    key: "strings:homePage.matchmakingSelect.cards.4Player",
                  },
                  ...(s.description && { subtitle: s.description }),
                  time: (0, k.h$)(S.Nw.RankedClassic4P),
                  playerCount: o.playerCount,
                  botCount: o.botCount,
                  matchType: S.Nw.RankedClassic4P,
                },
                ...(s.badge && { badge: s.badge }),
              },
              {
                card: {
                  icon: v,
                  category: 2,
                  title: {
                    key: "strings:homePage.matchmakingSelect.cards.citiesAndKnights",
                  },
                  ...(n.description && { subtitle: n.description }),
                  time: (0, k.h$)(S.Nw.RankedCitiesAndKnights4P),
                  playerCount: a.playerCount,
                  botCount: a.botCount,
                  matchType: S.Nw.RankedCitiesAndKnights4P,
                },
                ...(n.badge && { badge: n.badge }),
              },
            ];
          this.cnKProgressText =
            null === (e = n.badge) || void 0 === e ? void 0 : e.text;
          for (const { card: e, badge: t } of c) this.generateCard(e, t);
        }
        generateCard(e, t) {
          const s = (0, n.Le)(this.cardsContainer, "mm-mode-card hidden");
          e.icon.endsWith(".png")
            ? (0, n.WL)(s, e.icon, e.title, "mm-mode-card-icon")
            : (0, n.tZ)(s, e.icon, "mm-mode-card-icon");
          const o = (0, n.Le)(s, "mm-mode-card-content"),
            a = (0, n.Le)(o, "mm-mode-card-header");
          ((0, n.n8)(a, e.title, "mm-mode-card-title"),
            e.subtitle && (0, n.Wr)(a, e.subtitle, "mm-mode-card-subtitle"));
          const c = (0, n.Le)(o, "mm-mode-card-details");
          if (
            (null != e.time && E.createOrUpdateTime(s, c, e.time),
            E.createOrUpdatePlayerCount(s, c, e.playerCount),
            E.createOrUpdateBotCount(s, c, e.botCount),
            E.setCardEligibility(s, e),
            (0, n.G0)(s, () => {
              this.selectCard(d, !0);
            }),
            null != e.nextRotationISO)
          ) {
            const t = w.Re.formatTimeLeft(new Date(e.nextRotationISO));
            E.createOrUpdateCountdown(s, c, t);
          }
          let l;
          null != t && (l = new r(s, t));
          const d = {
            element: s,
            data: e,
            ...(null != l && { badge: l }),
            infoIcon: (0, n.zO)(
              s,
              i.am.InfoIcon,
              "mm-mode-card-info-icon hidden",
            ),
          };
          this.cards.push(d);
        }
        static setCardEligibility(e, t) {
          if ("number" != typeof t.matchType) return;
          const s = t.matchType,
            { isEligible: r, shouldDisableCardIfNotEligible: o } = (0, k.eo)(s),
            a = !r && o;
          (e.classList.toggle("disabled", a),
            a && (0, n.zO)(e, i.am.LockSlanted, "mm-mode-card-lock-icon"));
        }
        selectCard(e, t = !1) {
          var s, i;
          (null === (s = this.selectedCard) ||
            void 0 === s ||
            s.element.classList.remove("selected"),
            null === (i = this.selectedCard) ||
              void 0 === i ||
              i.infoIcon.classList.add("hidden"),
            this.selectedCard == e && t && this.onShowDetails(e.data.matchType),
            (this.selectedCard = e),
            this.selectedCard.element.classList.add("selected"),
            this.selectedCard.infoIcon.classList.remove("hidden"),
            this.saveCurrentSelection());
        }
        handleTabClick(e) {
          var t;
          ((this.currentTab = e),
            this.botsTab.classList.toggle("selected", 0 == this.currentTab),
            this.casualTab.classList.toggle("selected", 1 == this.currentTab),
            this.rankedTab.classList.toggle("selected", 2 == this.currentTab),
            null === (t = this.selectedCard) ||
              void 0 === t ||
              t.element.classList.remove("selected"),
            this.setCardsView(),
            this.selectFirstCardOfCurrentTab(),
            this.saveCurrentSelection(),
            this.updateModeSelectorAdVisibility());
        }
        setCardsView() {
          for (const e of this.cards)
            e.element.classList.toggle(
              "hidden",
              e.data.category != this.currentTab,
            );
        }
        selectFirstCardOfCurrentTab() {
          null == this.currentTab && this.selectTab(0);
          const e = this.cards.find((e) => e.data.category == this.currentTab);
          null != e && this.selectCard(e);
        }
        selectLastPlayedMatchmakingMode() {
          const e = _.p.getLastSelectedMatchmakingMode();
          if (null == e) return void this.selectFirstCardOfCurrentTab();
          this.handleTabClick(e.category);
          const t = this.cards.find(
            (t) =>
              t.data.category == e.category && t.data.matchType == e.matchType,
          );
          null != t ? this.selectCard(t) : this.selectFirstCardOfCurrentTab();
        }
        saveCurrentSelection() {
          var e;
          const t =
            null === (e = this.selectedCard) || void 0 === e
              ? void 0
              : e.data.matchType;
          null != t &&
            null != this.currentTab &&
            _.p.setLastSelectedMatchmakingMode({
              category: this.currentTab,
              matchType: t,
            });
        }
        handlePlayButtonClick() {
          var e;
          const t =
            null === (e = this.selectedCard) || void 0 === e
              ? void 0
              : e.data.matchType;
          if (null == t) return;
          if (t == S.Nw.RankedCitiesAndKnights4P) {
            if ((0, k.gu)() == L.rz.CanRollDice) return void new M.y();
          }
          const s = (0, k.CD)(t);
          (this.hasTrackedFirstQueueStart ||
            ((0, k.zj)(this.componentShownTimestamp, s),
            (this.hasTrackedFirstQueueStart = !0)),
            this.onStartGame(t));
        }
        resetRankedCards() {
          const e = this.cards.filter((e) => 2 == e.data.category),
            t = (0, k._b)(S.Nw.RankedClassic4P, this.rankedStates),
            s = (0, k._b)(S.Nw.RankedClassic1v1, this.rankedStates),
            i = (0, k._b)(S.Nw.RankedCitiesAndKnights4P, this.rankedStates);
          e.forEach((e) => {
            let o;
            switch (e.data.matchType) {
              case S.Nw.RankedClassic4P:
                o = t;
                break;
              case S.Nw.RankedClassic1v1:
                o = s;
                break;
              case S.Nw.RankedCitiesAndKnights4P:
                o = i;
                break;
              default:
                return;
            }
            const a = e.element.querySelector(".mm-mode-card-subtitle");
            var c;
            (a &&
              o.description &&
              ((0, n.oB)(a, o.description), (e.data.subtitle = o.description)),
            o.badge) &&
              (null == e.badge
                ? (e.badge = new r(e.element, o.badge))
                : e.badge.update(o.badge),
              e.data.matchType == S.Nw.RankedCitiesAndKnights4P &&
                ((this.cnKProgressText =
                  null === (c = o.badge) || void 0 === c ? void 0 : c.text),
                this.startCountdownTimer()));
            E.setCardEligibility(e.element, e.data);
          });
        }
        startCountdownTimer() {
          var e, t, s, i, n, r;
          this.countdownInterval && clearInterval(this.countdownInterval);
          const o =
            null !=
              (null === (e = A._.userState) || void 0 === e
                ? void 0
                : e.ckFreeGameUntil) &&
            (null === (t = A._.userState) || void 0 === t
              ? void 0
              : t.ckFreeGameUntil.getTime()) > Date.now();
          this.cnKCountdownEndTimestamp = o
            ? null === (i = A._.userState) ||
              void 0 === i ||
              null === (s = i.ckFreeGameUntil) ||
              void 0 === s
              ? void 0
              : s.getTime()
            : null === (r = A._.userState) ||
                void 0 === r ||
                null === (n = r.ckNextRerollAt) ||
                void 0 === n
              ? void 0
              : n.getTime();
          const a = this.shouldUpdateCnKCardCountdownTimer(),
            c = this.shouldUpdateShuffleCardCountdownTimer();
          (a || c) &&
            (this.countdownInterval = setInterval(() => {
              (a && this.updateCnKCardCountdownTimer(),
                c && this.updateShuffleCardCountdownTimer());
            }, 1e3));
        }
        updateCnKCardCountdownTimer() {
          const e = this.cards
            .filter((e) => 2 == e.data.category)
            .filter((e) => e.data.matchType == S.Nw.RankedCitiesAndKnights4P);
          if (0 == e.length) return;
          if (null == this.cnKCountdownEndTimestamp) return;
          if (this.cnKCountdownEndTimestamp < Date.now()) {
            var t;
            const e = (0, k._b)(
              S.Nw.RankedCitiesAndKnights4P,
              this.rankedStates,
            );
            ((this.cnKProgressText =
              null === (t = e.badge) || void 0 === t ? void 0 : t.text),
              this.resetRankedCards());
          }
          if (null == this.cnKProgressText) return;
          const s = w.Re.formatCountdownString(
              new Date(this.cnKCountdownEndTimestamp),
            ),
            i = e[0].element.querySelector(".mm-mode-card-progress p");
          i &&
            (0, n.oB)(i, {
              key: this.cnKProgressText.key,
              options: { time: s },
            });
        }
        shouldUpdateCnKCardCountdownTimer() {
          return (
            null != this.cnKCountdownEndTimestamp &&
            !(this.cnKCountdownEndTimestamp < Date.now()) &&
            null != this.cnKProgressText &&
            ("strings:homePage.matchmakingSelect.freeGameFromDiceRoll" ==
              this.cnKProgressText.key ||
              "strings:homePage.matchmakingSelect.dailyFreeRollWaiting" ==
                this.cnKProgressText.key)
          );
        }
        updateShuffleCardCountdownTimer() {
          const e = this.cards.find(
            (e) =>
              1 == e.data.category && e.data.matchType == S.Nw.UnrankedShuffle,
          );
          if (null == e) return;
          if (null == e.data.nextRotationISO) return;
          const t = new Date(e.data.nextRotationISO).getTime(),
            s = e.element.querySelector(".mm-mode-card-details");
          if (t < Date.now())
            return void E.createOrUpdateCountdown(e.element, s, {
              key: "strings:homePage.matchmakingSelect.newQueueSoon",
            });
          const i = w.Re.formatTimeLeft(new Date(t));
          E.createOrUpdateCountdown(e.element, s, i);
        }
        shouldUpdateShuffleCardCountdownTimer() {
          const e = this.cards.find(
            (e) =>
              1 == e.data.category && e.data.matchType == S.Nw.UnrankedShuffle,
          );
          if (null == e) return !1;
          if (null == e.data.nextRotationISO) return !1;
          return !(new Date(e.data.nextRotationISO).getTime() < Date.now());
        }
        updateShuffleCard() {
          var e;
          const t = this.cards.find(
              (e) =>
                1 == e.data.category &&
                e.data.matchType == S.Nw.UnrankedShuffle,
            ),
            s = I.y.shuffleQueueData;
          if (null == t || null == s) return;
          const i = (0, k._b)(S.Nw.UnrankedShuffle);
          var n;
          const o =
              (null !==
                (n =
                  null === (e = A._.userState) || void 0 === e
                    ? void 0
                    : e.totalCompletedGameCount) && void 0 !== n
                ? n
                : 0) >= T.FP.NumberOfGamesToUnlockRanked,
            a = t.element.querySelector(".mm-mode-card-icon");
          if (a && o) {
            const e = (0, R.kl)(s.mapId, s.modeId);
            e && (e.classList.add("mm-mode-card-icon"), a.replaceWith(e));
          }
          const c = t.element.querySelector(".mm-mode-card-details");
          ((t.data.time = (0, k.h$)(S.Nw.UnrankedShuffle)),
            null != t.data.time &&
              E.createOrUpdateTime(t.element, c, t.data.time));
          const l = (0, k.q7)(S.Nw.UnrankedShuffle);
          if (
            ((t.data.playerCount = l.playerCount),
            E.createOrUpdatePlayerCount(t.element, c, l.playerCount),
            (t.data.botCount = l.botCount),
            E.createOrUpdateBotCount(t.element, c, l.botCount),
            i.description &&
              ((t.data.subtitle = i.description),
              E.createOrUpdateSubtitle(t.element, i.description)),
            i.badge &&
              (null == t.badge
                ? (t.badge = new r(t.element, i.badge))
                : t.badge.update(i.badge)),
            s.endDate)
          ) {
            t.data.nextRotationISO = s.endDate;
            const e = w.Re.formatTimeLeft(new Date(s.endDate));
            (E.createOrUpdateCountdown(t.element, c, e),
              this.startCountdownTimer());
          }
          E.addNewBadgeIfNeeded(t.element);
        }
        static createOrUpdateTime(e, t, s) {
          const i = e.querySelector(".mm-mode-card-time p");
          if (i)
            return void (0, n.oB)(i, {
              key: "strings:colonistCommon.utils.#buffer",
              options: { value: s.toString() },
            });
          const r = (0, n.Le)(t, "mm-mode-card-detail mm-mode-card-time");
          ((0, n.WL)(r, u, {
            key: "strings:colonistCommon.utils.#buffer",
            options: { value: s.toString() },
          }),
            (0, n.Wr)(
              r,
              {
                key: "strings:colonistCommon.utils.#buffer",
                options: { value: s.toString() },
              },
              "",
            ));
        }
        static createOrUpdatePlayerCount(e, t, s) {
          const i = e.querySelector(".mm-mode-card-player-count p");
          if (i)
            return void (0, n.oB)(i, {
              key: "strings:colonistCommon.utils.#buffer",
              options: { value: s.toString() },
            });
          const r = (0, n.Le)(
            t,
            "mm-mode-card-detail mm-mode-card-player-count",
          );
          ((0, n.WL)(r, h, {
            key: "strings:colonistCommon.utils.#buffer",
            options: { value: s.toString() },
          }),
            (0, n.Wr)(
              r,
              {
                key: "strings:colonistCommon.utils.#buffer",
                options: { value: s.toString() },
              },
              "",
            ));
        }
        static createOrUpdateBotCount(e, t, s) {
          const i = s <= 0,
            r = e.querySelector(".mm-mode-card-bot-count p");
          var o;
          if (r)
            return (
              (0, n.oB)(r, {
                key: "strings:colonistCommon.utils.#buffer",
                options: { value: s.toString() },
              }),
              void (
                null === (o = r.parentElement) ||
                void 0 === o ||
                o.classList.toggle("hidden", i)
              )
            );
          const a = (0, n.Le)(t, "mm-mode-card-detail mm-mode-card-bot-count");
          ((0, n.WL)(a, p, {
            key: "strings:colonistCommon.utils.#buffer",
            options: { value: s.toString() },
          }),
            (0, n.Wr)(
              a,
              {
                key: "strings:colonistCommon.utils.#buffer",
                options: { value: s.toString() },
              },
              "",
            ),
            a.classList.toggle("hidden", i));
        }
        static createOrUpdateCountdown(e, t, s) {
          const r = e.querySelector(".mm-mode-card-countdown p");
          if (r) return void (0, n.oB)(r, s);
          const o = (0, n.Le)(t, "mm-mode-card-detail mm-mode-card-countdown");
          ((0, n.zO)(o, i.am.IconRotation, "mm-mode-card-detail-icon"),
            (0, n.Wr)(o, s, ""));
        }
        static createOrUpdateSubtitle(e, t) {
          const s = e.querySelector(".mm-mode-card-subtitle");
          if (s) return void (0, n.oB)(s, t);
          const i = e.querySelector(".mm-mode-card-header");
          (0, n.Wr)(i, t, "mm-mode-card-subtitle");
        }
        constructor(e, t, s) {
          ((this.cards = []),
            (this.hasTrackedFirstQueueStart = !1),
            (this.rankedStates = []),
            (this.onStartGame = t),
            (this.onShowDetails = s),
            (this.waitUntilInitialized = new Promise((e) => {
              this.resolveInitialized = e;
            })),
            (this.cardsContainer = document.getElementById(
              "mm-mode-cards-container",
            )),
            (this.playButton = document.getElementById("mm-mode-card-button")),
            (this.botsTab = document.getElementById("mm-mode-tab-bots")),
            (this.casualTab = document.getElementById("mm-mode-tab-casual")),
            (this.rankedTab = document.getElementById("mm-mode-tab-ranked")),
            (this.modeSelectorAd = document.getElementById(
              "mm-mode-selector-ad",
            )),
            (this.componentShownTimestamp = e),
            this.initTabClickHandlers(),
            this.setupPlayButtonHandler(),
            this.initCardsAndBadges(),
            A._.registerChangeListener(() => {
              this.resetRankedCards();
            }),
            I.y.registerChangeListener(() => {
              (E.addNewBadgeIfNeeded(this.casualTab), this.updateShuffleCard());
            }));
        }
      }
    },
    34221: (e, t, s) => {
      "use strict";
      s.d(t, { h: () => h });
      var i = s(18514),
        n = s(32398),
        r = s(655),
        o = s(95176),
        a = s(9029),
        c = s(44517),
        l = s(66681);
      if (!/^(251|517|837)$/.test(s.j)) var d = s(500);
      var u = s(52955);
      class h {
        static showChangeRegionPopup() {
          new p();
        }
        constructor() {
          ((this.changeRegionButton = document.getElementById(
            "page-profile-settings-change-region",
          )),
            (0, a.G0)(this.changeRegionButton, () =>
              h.showChangeRegionPopup(),
            ));
        }
      }
      class p {
        async loadData() {
          var e;
          const t = await r.m.getRequestHandler(n.l.apiGetRegions());
          if (null == (null == t ? void 0 : t.json)) return;
          const { regions: s } = null == t ? void 0 : t.json;
          (this.regions.push(...s),
            this.createRegionSelection(),
            null ===
              (e =
                this.popup.body.getElementsByClassName("loading-spinner")[0]) ||
              void 0 === e ||
              e.remove());
        }
        createRegionSelection() {
          const e = (0, a.Le)(
            this.popup.body,
            "page-profile-change-region-selects-container",
          );
          ((this.continentsSelectElement = p.createSelector(
            e,
            { key: "strings:colonistCommon.continent" },
            (e) => {
              (null != e && "" != e.trim()
                ? this.popup.enableCheckButton()
                : this.popup.disableCheckButton(),
                this.setCountries(e));
            },
          )),
            (this.countriesSelectElement = p.createSelector(
              e,
              { key: "strings:colonistCommon.country" },
              (e) => this.setState(e),
            )),
            (this.statesSelectElement = p.createSelector(
              e,
              { key: "strings:colonistCommon.region" },
              () => {},
            )),
            this.setContinents(),
            p.setDefaultOption(this.countriesSelectElement),
            p.setDefaultOption(this.statesSelectElement));
        }
        async handleChangeRegion() {
          var e, t, s;
          const i =
              null === (e = this.continentsSelectElement) || void 0 === e
                ? void 0
                : e.value,
            a =
              null === (t = this.countriesSelectElement) || void 0 === t
                ? void 0
                : t.value,
            d =
              null === (s = this.statesSelectElement) || void 0 === s
                ? void 0
                : s.value,
            u = {
              continentCode: i || void 0,
              countryCode: a || void 0,
              stateCode: d || void 0,
            },
            h = await r.m.postRequestHandler(n.l.apiChangeRegion(), void 0, u);
          if (null == h) return;
          if (!h.isSuccess) return;
          const p = new o.y(
            { key: "strings:popups.changeRegion.title" },
            { key: "strings:popups.changeRegion.success" },
            () => {},
            () => {},
            !0,
          );
          ((p.removeAction = () => {
            (window.location.reload(), l.i0.sendEvent(c.s.ReloadWebsite));
          }),
            p.removeXButton(),
            p.show());
        }
        static createSelector(e, t, s) {
          const i = (0, a.Le)(e, "page-profile-change-region-select-container");
          (0, a.i5)(i, "", t);
          return (0, a.Kr)(i, "", "", s);
        }
        setContinents() {
          if (null == this.continentsSelectElement) return;
          p.setEmptyOption(this.continentsSelectElement);
          const e = (0, d.A)(this.regions.map((e) => e.continentCode)),
            t = [];
          for (const s of e) {
            const e = i.a7.t(`strings:leaderboardPage.tabs.continents.${s}`);
            t.push({ name: e, code: s });
          }
          t.sort((e, t) => e.name.localeCompare(t.name));
          for (const e of t)
            (0, a.fg)(this.continentsSelectElement, e.code, {
              key: "strings:colonistCommon.utils.#buffer",
              options: { value: e.name, interpolation: { escapeValue: !1 } },
            });
        }
        setCountries(e) {
          if (null == this.countriesSelectElement) return;
          if (null == this.statesSelectElement) return;
          if (
            ((0, a.RH)(this.countriesSelectElement, {
              key: "strings:colonistCommon.utils.emptyString",
            }),
            (0, a.RH)(this.statesSelectElement, {
              key: "strings:colonistCommon.utils.emptyString",
            }),
            p.setDefaultOption(this.countriesSelectElement),
            p.setDefaultOption(this.statesSelectElement),
            !(0, u.jo)(e))
          )
            return;
          const t = (0, d.A)(
              this.regions
                .filter((t) => t.continentCode == e)
                .map((e) => e.countryCode),
            ),
            s = [];
          for (const e of t) {
            const t = i.vX.getCountryName(e);
            null != t && s.push({ name: t, code: e });
          }
          s.sort((e, t) => e.name.localeCompare(t.name));
          for (const e of s)
            (0, a.fg)(this.countriesSelectElement, e.code, {
              key: "strings:colonistCommon.utils.#buffer",
              options: { value: e.name, interpolation: { escapeValue: !1 } },
            });
        }
        setState(e) {
          if (null == this.statesSelectElement) return;
          if (
            ((0, a.RH)(this.statesSelectElement, {
              key: "strings:colonistCommon.utils.emptyString",
            }),
            p.setDefaultOption(this.statesSelectElement),
            !(0, u.jo)(e))
          )
            return;
          const t = this.regions.filter((t) => t.countryCode == e),
            s = [];
          for (const e of t) s.push({ name: e.regionName, code: e.regionCode });
          s.sort((e, t) => e.name.localeCompare(t.name));
          for (const e of s)
            (0, a.fg)(this.statesSelectElement, e.code, {
              key: "strings:colonistCommon.utils.#buffer",
              options: { value: e.name, interpolation: { escapeValue: !1 } },
            });
        }
        static setDefaultOption(e) {
          (0, a.fg)(e, "", { key: "strings:popups.changeRegion.doNotDisplay" });
        }
        static setEmptyOption(e) {
          (0, a.fg)(e, "", {
            key: "strings:colonistCommon.utils.#buffer",
            options: { value: "" },
          });
        }
        constructor() {
          ((this.regions = []),
            (this.popup = new o.y(
              { key: "strings:popups.changeRegion.title" },
              { key: "strings:popups.changeRegion.body" },
              () => this.handleChangeRegion(),
              () => {},
              !0,
            )),
            this.popup.body.classList.add(
              "page-profile-change-region-popup-container",
            ),
            (0, a.Le)(this.popup.body, "loading-spinner"),
            this.popup.disableCheckButton(),
            this.popup.show(),
            this.loadData());
        }
      }
    },
    34405: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/card_wool.17a6dea8d559949f0ccc.svg";
    },
    34463: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/sfx_achievement_ck_progress.a6041ba5935a47b7a5b3.mp3";
    },
    34493: (e, t, s) => {
      "use strict";
      s.d(t, { O: () => m });
      var i = s(76092),
        n = s(53015),
        r = s(78311),
        o = s(67908),
        a = s(74710),
        c = s(51988),
        l = s(30506),
        d = s(19966),
        u = s(9029),
        h = s(95176),
        p = s(13618);
      class m extends h.y {
        constructor(e, t, s) {
          const h = c.F.getItemsInCategory(n.n9.Map, !0),
            m = c.F.getItemsInCategory(n.n9.Expansion, !0),
            g = h.filter((e) => {
              switch (e.type) {
                case n.ai.BlackForest:
                  return t.mapSetting !== o.Qy.BlackForest;
                case n.ai.Classic4PRandom:
                  return t.mapSetting !== o.Qy.Classic4PRandom;
                case n.ai.Diamond:
                  return t.mapSetting !== o.Qy.Diamond;
                case n.ai.Earth:
                  return t.mapSetting !== o.Qy.Earth;
                case n.ai.Gear:
                  return t.mapSetting !== o.Qy.Gear;
                case n.ai.GoldRush:
                  return t.mapSetting !== o.Qy.GoldRush;
                case n.ai.Lakes:
                  return t.mapSetting !== o.Qy.Lakes;
                case n.ai.Pond:
                  return t.mapSetting !== o.Qy.Pond;
                case n.ai.ShuffleBoard:
                  return t.mapSetting !== o.Qy.ShuffleBoard;
                case n.ai.Twirl:
                  return t.mapSetting !== o.Qy.Twirl;
                case n.ai.UK:
                  return t.mapSetting !== o.Qy.UK;
                case n.ai.USA:
                  return t.mapSetting !== o.Qy.USA;
                case n.ai.Volcano:
                  return t.mapSetting !== o.Qy.Volcano;
                default:
                  return !0;
              }
            }),
            f = m.filter((e) => {
              switch (e.type) {
                case r.$y.CitiesAndKnights4P:
                  return t.modeSetting !== o.p9.CitiesAndKnights4P;
                case r.$y.CitiesAndKnights56P:
                  return t.modeSetting !== o.p9.CitiesAndKnights56P;
                case r.$y.CitiesAndKnightsSeafarers4P:
                  return t.modeSetting !== o.p9.CitiesAndKnightsSeafarers4P;
                case r.$y.CitiesAndKnightsSeafarers56P:
                  return t.modeSetting !== o.p9.CitiesAndKnightsSeafarers56P;
                case r.$y.Classic56P:
                  return t.modeSetting !== o.p9.Classic56P;
                case r.$y.Classic78P:
                  return t.modeSetting !== o.p9.Classic78P;
                case r.$y.Seafarers4P:
                  return t.modeSetting !== o.p9.Seafarers4P;
                case r.$y.Seafarers56P:
                  return t.modeSetting !== o.p9.Seafarers56P;
                default:
                  return !0;
              }
            });
          (super(
            { key: "strings:homePage.becomeAMember" },
            { key: "strings:colonistCommon.utils.emptyString" },
            () => {
              const e = {
                type: i.k0.ABTestClickAnalytics,
                category: i.eX.ABTestClickAnalytics,
                floatValue: i.Jd.PopupMembershipIncentiveEndgame,
              };
              (d.CA.sendAnalyticEvent(e), (0, p.Yf)("/store#membership", !0));
            },
            e,
            !0,
          ),
            (this.body.style.flexDirection = "column"));
          const y = l.n.randomBool();
          (0, u.RH)(this.body, {
            key: "strings:colonistCommon.utils.emptyString",
          });
          const b = (0, a.dN)(
            { key: "strings:popups.membershipIncentive.body" },
            {
              value: y
                ? { key: "strings:popups.membershipIncentive.optionMaps" }
                : {
                    key: "strings:popups.membershipIncentive.optionExpansions",
                  },
            },
          );
          (0, u.Wr)(this.body, b, "popup-membership-body");
          const v = (0, u.Le)(
            this.body,
            "popup-subscription-in-room-items-wrapper",
            "",
          );
          ((y ? g : f).forEach((e) => {
            const t = (0, u.Le)(v, "popup-subscription-in-room-item-img", "");
            ((0, u.zO)(t, e.image), (0, u.Wr)(t, e.name, ""), v.appendChild(t));
          }),
            this.changeCheckButtonText({
              key: "strings:popups.membershipIncentive.visitStore",
            }),
            (this.checkButton.id = "store-href"),
            this.changeXButtonText(s),
            this.show());
        }
      }
    },
    34554: (e, t, s) => {
      "use strict";
      s.d(t, { N: () => r, q: () => o });
      var i = s(29249),
        n = s(78311),
        r = (function (e) {
          return (
            (e[(e.General = 0)] = "General"),
            (e[(e.Volume = 1)] = "Volume"),
            e
          );
        })({});
      function o(e) {
        switch (e) {
          case i.n.Information:
            return n.am.InfoIcon;
          case i.n.Success:
            return n.am.CheckMark;
          case i.n.Warning:
          case i.n.Reconnect:
            return n.am.Lightning;
          case i.n.Error:
          case i.n.SocketError:
            return n.am.DangerIcon;
        }
      }
    },
    34617: (e, t, s) => {
      "use strict";
      var i;
      (s.d(t, { v: () => d }),
        (function (e) {
          e.isIStripeCheckoutRequestStatus = function (e) {
            return "boolean" == typeof e.status && "string" == typeof e.message;
          };
          e.PublicProfileDataStickyPlayerInfo = class {
            constructor() {
              this.username = "";
            }
          };
          e.PublicProfileDataOverview = class {
            constructor() {
              ((this.username = ""),
                (this.karma = ""),
                (this.gameData = new t()));
            }
          };
          class t {
            constructor() {
              ((this.pointsInLast100Games = 0),
                (this.totalGames = 0),
                (this.winPercent = "0"),
                (this.pointsPerGame = "0"));
            }
          }
          e.PublicProfileGameDataOverview = t;
          e.UserFriendsData = class {
            constructor() {
              ((this.friends = []),
                (this.friendRequestsSent = []),
                (this.friendRequestsReceived = []));
            }
          };
          e.FriendRequestReceivedData = class {};
        })(i || (i = {})));
      var n = s(78311),
        r = s(66681),
        o = s(655),
        a = s(32398),
        c = s(95176),
        l = s(81888);
      class d {
        static async addFriendAction(e, t) {
          const s = { username: e },
            i = await o.m.postRequestHandler(
              a.l.apiUserProfileAddFriend(),
              void 0,
              s,
              "application/json",
            );
          if (null == i) return;
          l._.refresh();
          const c = i.json.friends.some((t) => t.username == e),
            u = c
              ? {
                  key: "strings:popups.notification.youAreNowFriendsWith",
                  options: { username: e },
                }
              : { key: "strings:profilePage.friends.friendRequestSent" };
          (r.OV.showNotification(n.am.Friends, u), t && t(c));
          for (const e of d.callbackActionOnFriendRequestSent) e();
        }
        static async removeFriendAction(e, t) {
          const s = { username: e };
          null !=
            (await o.m.postRequestHandler(
              a.l.apiUserProfileRemoveFriend(),
              void 0,
              s,
              "application/json",
            )) &&
            (l._.refresh(),
            r.OV.showNotification(n.am.Friends, {
              key: "strings:popups.friendRequests.removed",
              options: { username: e },
            }),
            "function" == typeof t && t());
        }
        static showRemoveFriendPopup(e, t) {
          const s = {
            key: "strings:profilePage.friends.removeFriend.body",
            options: { username: e },
          };
          new c.y(
            { key: "strings:profilePage.friends.removeFriend.title" },
            s,
            t,
            () => {},
            !0,
            {
              checkButtonCustomContent: {
                key: "strings:profilePage.friends.removeFriend.checkButton",
              },
              xButtonCustomContent: {
                key: "strings:profilePage.friends.removeFriend.xButton",
              },
            },
          ).show();
        }
        static async getFriends(e) {
          if (!(null == e ? void 0 : e.isLoggedIn))
            return new i.UserFriendsData();
          const t = await o.m.getRequestHandler(
            a.l.apiUserProfile.friends(),
            void 0,
          );
          return null == t ? new i.UserFriendsData() : t.json;
        }
        static async getFriendRequestsReceived(e) {
          if (!(null == e ? void 0 : e.isLoggedIn)) return [];
          const t = await o.m.getRequestHandler(
            a.l.apiFriendRequestsReceived(),
            void 0,
          );
          return null == t ? [] : t.json;
        }
        static async friendRequestResponded(e, t) {
          const s = { username: e },
            i = t
              ? a.l.apiUserProfileAcceptFriend()
              : a.l.apiUserProfileRemoveFriend();
          if (
            null !=
            (await o.m.postRequestHandler(i, void 0, s, "application/json"))
          ) {
            l._.refresh();
            for (const s of d.callbackNotificationFriendRequestResponded)
              await s(e, t);
          }
        }
        static canUseOnlineFriendService() {
          var e;
          return !!(null === (e = l._.userState) || void 0 === e
            ? void 0
            : e.isLoggedIn);
        }
        static setCallbackFriendRequestResponded(e) {
          d.callbackNotificationFriendRequestResponded.push(e);
        }
      }
      ((d.callbackActionOnFriendRequestSent = []),
        (d.callbackNotificationFriendRequestResponded = []));
    },
    34777: (e, t, s) => {
      "use strict";
      s.d(t, { $: () => h });
      var i = s(9029),
        n = s(30506),
        r = s(655),
        o = s(32398),
        a = s(18587),
        c = s(78311);
      const l = [{ slug: "gQYTA2vXZQV9fT2n" }],
        d = [
          { gameId: "191208779", playerColor: 11 },
          { gameId: "191208784", playerColor: 5 },
          { gameId: "191208346", playerColor: 3 },
          { gameId: "191208573", playerColor: 5 },
        ],
        u = [
          { gameId: "191197897", playerColor: 2 },
          { gameId: "191197330", playerColor: 1 },
          { gameId: "191196681", playerColor: 4 },
          { gameId: "191198102", playerColor: 2 },
          { gameId: "191199121", playerColor: 2 },
          { gameId: "191196320", playerColor: 5 },
          { gameId: "191196489", playerColor: 5 },
          { gameId: "191196952", playerColor: 1 },
          { gameId: "191197221", playerColor: 11 },
          { gameId: "191197079", playerColor: 1 },
          { gameId: "191196444", playerColor: 4 },
          { gameId: "191197644", playerColor: 1 },
          { gameId: "191197558", playerColor: 5 },
          { gameId: "191196948", playerColor: 12 },
          { gameId: "191196835", playerColor: 6 },
          { gameId: "191196714", playerColor: 1 },
        ];
      class h {
        static async loadContent() {
          try {
            const e = await r.m.getRequestHandler(
              o.l.apiChampionship25Content(),
              void 0,
            );
            if (null == e) return;
            const t = e.json;
            if (null == t) return;
            Array.isArray(t.partners) && h.renderPartners(t.partners);
          } catch (e) {
            return;
          }
        }
        static renderResults() {
          const e = document.getElementById("championship25-final-grid"),
            t = document.getElementById("championship25-semifinals-grid"),
            s = document.getElementById("championship25-quarterfinals-grid");
          (e && h.renderResultCards(e, l),
            t && h.renderResultCards(t, d),
            s && h.renderResultCards(s, u));
        }
        static renderResultCards(e, t) {
          t.forEach((t, s) => {
            const n = (0, i.Le)(e, "result-card"),
              r = (0, i.Le)(n, "result-info");
            (0, i.i5)(r, "result-title", {
              key: "strings:colonistCommon.utils.#buffer",
              options: { value: `Table ${s + 1}` },
            });
            const o = h.getReplayUrl(t),
              a = (0, i.cE)(
                n,
                o,
                { key: "strings:colonistCommon.utils.emptyString" },
                "replay-btn",
                void 0,
                !0,
              );
            (0, i.zO)(a, c.am.ReplayIcon);
          });
        }
        static getReplayUrl(e) {
          if (a.r.isUserOnDiscord)
            return "slug" in e
              ? `/replay/${e.slug}`
              : `/replay?gameId=${e.gameId}&playerColor=${e.playerColor}`;
          const t = new URL(window.location.href);
          return (
            (t.pathname = a.r.isUserOnMobileAppOrWeb
              ? "/mobile/replay"
              : "/replay"),
            "slug" in e
              ? (t.pathname += `/${e.slug}`)
              : (t.searchParams.set("gameId", e.gameId.toString()),
                t.searchParams.set("playerColor", e.playerColor.toString())),
            t.href
          );
        }
        static renderPartners(e) {
          const t = document.getElementById("championship25-partners-title"),
            s = [],
            r = document.getElementById("championship25-view-all-partners-btn"),
            o = document.getElementById("championship25-partners-grid");
          ((0, i.oB)(t, {
            key: "strings:colonistCommon.utils.#buffer",
            options: { value: `Partners (${e.length})` },
          }),
            (0, i.RH)(o, { key: "strings:colonistCommon.utils.emptyString" }));
          const c = n.lv.shuffle(e);
          for (const e of c) {
            const t = (0, i.Le)(o, "partner-item");
            if (
              !a.r.isUserOnDiscord &&
              null != e.imageUrl &&
              e.imageUrl.length > 0
            ) {
              const s = document.createElement("img");
              ((s.src = e.imageUrl), (s.alt = e.name), t.appendChild(s));
            }
            const n = (0, i.Le)(t, "partner-name");
            ((0, i.oB)(n, {
              key: "strings:colonistCommon.utils.#buffer",
              options: { value: e.name },
            }),
              s.push(t));
          }
          const l = e.length,
            d = window.innerWidth <= 991 ? 6 : 14;
          if (l <= d) r.classList.add("hidden");
          else {
            for (let e = d; e < l; e++) s[e].classList.add("hidden");
            (0, i.G0)(
              r,
              () => {
                for (const e of s) e.classList.remove("hidden");
                r.classList.add("hidden");
              },
              !0,
            );
          }
        }
        constructor() {
          (h.renderResults(), h.loadContent());
        }
      }
    },
    34837: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_gamemode_1v1.f506758eb0812a9acebd.svg";
    },
    34865: (e, t, s) => {
      "use strict";
      if ((s.d(t, { n: () => n }), !/^(251|517|837)$/.test(s.j)))
        var i = s(23288);
      class n extends (/^(251|517|837)$/.test(s.j) ? null : i.U) {
        shouldShowWarning() {
          return (
            this.roomState.gameSetting.victoryPointsToWin >
            this.roomState.victoryPointsRecommendedLimit
          );
        }
        getTitle() {
          return {
            key: "strings:roomPage.warnings.startGameExceedLimitWarning.title",
          };
        }
        getDescription() {
          return {
            key: "strings:roomPage.warnings.startGameExceedLimitWarning.description",
          };
        }
      }
    },
    34911: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/city_bronze.fed2c86edb98d55da481.svg";
    },
    34915: (e, t, s) => {
      "use strict";
      s.d(t, { j: () => Gr });
      var i = s(63778),
        n = s(22194),
        r = s(78311),
        o = s(60674),
        a = s(89844),
        c = s(86204),
        l = s(27872),
        d = s(87775),
        u = s(48685),
        h = s(55803),
        p = s(8399);
      const m = s.p + "assets/logo.91681d8792afec7588e1.png";
      var g = s(10297);
      const f = s.p + "assets/icon_plus.a514569ca73da58e8762.svg",
        y = s.p + "assets/icon_plus_store.4d870528387aa3d60169.svg";
      var b = s(1176),
        v = s(21018),
        S = s(38774),
        k = s(89010),
        C = s(30762);
      const P = s.p + "assets/icon_star.ac114f8043b13774db5c.svg",
        _ = s.p + "assets/icon_players.85d13bf5dfe81259979a.svg",
        A = s.p + "assets/icon_replay.e1976b11819bc0794f50.svg",
        w = s.p + "assets/icon_question_mark.38d165ceed3829556003.svg";
      var R = s(13657);
      const T = s.p + "assets/icon_danger.b3fb8f39efcd7c30a93f.svg",
        I = s.p + "assets/karma_white.90e26e6ec19a2da878c3.svg",
        M = s.p + "assets/karma_red.d21242999f61a5a23ce9.svg",
        L = s.p + "assets/karma_orange.50da63a8def2d9c8b575.svg",
        B = s.p + "assets/karma_green.411a0217fef52668479b.svg",
        D = s.p + "assets/disable_abblock.c5ac9a0cedb5af327346.png",
        E = s.p + "assets/icon_colonist_coin.bccfecd70a4bc6456de4.svg",
        G = s.p + "assets/icon_book.8d0d6a6b49b3fc71ae0a.svg",
        x = s.p + "assets/icon_bank.bd1762728cfd5af24def.svg",
        U = s.p + "assets/icon_fullscreen_expand.8142bdc24178fb978f67.svg",
        O = s.p + "assets/icon_fullscreen_contract.7af56c892561691f8505.svg",
        N = s.p + "assets/gif_fullscreen.42e77ed3e1017df3faa6.gif";
      var F = s(48716),
        H = s(56105);
      const W = s.p + "assets/icon_eye.fb4c25c86efbc2143a66.svg";
      var K = s(53059);
      const V = s.p + "assets/icon_settings.163a70b3a0e246d006c2.svg",
        q = s.p + "assets/icon_chat.fc7ab020f8054b3ee525.svg",
        Q = s.p + "assets/icon_log.ab006193243703eee2ff.svg",
        $ = s.p + "assets/icon_mm_search.e9d439fb90e5019305a4.svg",
        z = s.p + "assets/icon_lock.05ad30a9974596547b00.svg",
        j = s.p + "assets/icon_lock_outlined.29c543e4eadcbe5a52af.svg",
        Y = s.p + "assets/icon_lock_slanted.2345d6d07c54d14c8420.svg";
      var X = s(22466);
      const Z = s.p + "assets/icon_no_ads.77c0296a26597f73ac9c.svg",
        J = s.p + "assets/icon_colors.ed73fda03be3a06c43b9.svg",
        ee = s.p + "assets/store_icon_avatar.9c7205eabf8e5f8d80bd.png",
        te = s.p + "assets/store_icon_maps.ed11c0ab51512370af79.png",
        se = s.p + "assets/store_icon_expansions.bdd8ad6029d40a272643.png",
        ie = s.p + "assets/store_icon_colors.c459638f6e0fa9d26f7c.png",
        ne = s.p + "assets/map_diamond_preview.57b2c86d87487165a346.png";
      var re = s(20024),
        oe = s(20230);
      const ae = s.p + "assets/map_pond_preview.156fd911def6e35e7723.png";
      var ce = s(12403),
        le = s(91767),
        de = s(63116),
        ue = s(14602),
        he = s(59138);
      const pe =
          s.p + "assets/map_shuffleboard_preview.d8a45ad58a7fce91e213.png",
        me = s.p + "assets/map_pangaea_preview.ecf73119d865433881c4.png",
        ge = s.p + "assets/map_spinner_preview.93d5a3a43db2a32608dd.png",
        fe = s.p + "assets/map_cyclops_preview.363d7990435a07639dea.png",
        ye = s.p + "assets/map_random_base_preview.c1cc73a85407d84296e1.png",
        be = s.p + "assets/map_base_4p_preview.7ea40296a96ee1c95c4e.png";
      var ve = s(44423);
      const Se = s.p + "assets/map_hourglass_preview.e02e6635ad914c15e10b.png",
        ke = s.p + "assets/map_hourglass_xl_preview.32bacd68ebb1d42dedfb.png";
      var Ce = s(26674);
      const Pe = s.p + "assets/map_mini_base_preview.97a427595f26c894c0e2.png",
        _e = s.p + "assets/map_australia_preview.3cd0a11cdbecd9152e28.png",
        Ae = s.p + "assets/map_circle_preview.6e66ff773fe3b372ba5a.png",
        we = s.p + "assets/map_duel_preview.be4e8bfcdce0f5edb8ae.png",
        Re = s.p + "assets/map_monopoly_preview.23fba9abf43a1d33c63f.png",
        Te =
          s.p + "assets/map_king_of_the_hill_preview.40aac24fafd75a736355.png";
      var Ie = s(71568),
        Me = s(63406);
      const Le = s.p + "assets/map_doggo_preview.9cb17f6ec1b3ec63916d.png",
        Be = s.p + "assets/map_trade_islands_preview.4a915a6f7e813e22e6fe.png",
        De = s.p + "assets/map_turning_tides_preview.df3ac07e909deedd796f.png";
      var Ee = s(52324),
        Ge = s(2328);
      const xe = s.p + "assets/map_kite_preview.850df983556c9fdd5419.png";
      var Ue = s(8842);
      const Oe = s.p + "assets/map_two_isles_preview.07510cff17d3d198f15c.png";
      var Ne = s(72248),
        Fe = s(15166),
        He = s(89100),
        We = s(41398);
      const Ke = s.p + "assets/map_5_6_player_preview.9231bc7c8856796b3d1e.png",
        Ve = s.p + "assets/map_7_8_player_preview.76e8a11424b844cdd7b2.png",
        qe = s.p + "assets/map_ss1_3p_preview.fd7f6a61dd46c906d0b4.png",
        Qe = s.p + "assets/map_ss1_4p_preview.f653a5d9e5f66cdea95c.png",
        $e = s.p + "assets/map_ss1_6p_preview.ece955cd7e19ccca2845.png",
        ze = s.p + "assets/map_ss2_3p_preview.38a5bc6db123ec7b4271.png",
        je = s.p + "assets/map_ss2_4p_preview.5bdb8f299cc96689771e.png",
        Ye = s.p + "assets/map_ss2_6p_preview.d3a75f9e4250cbf77765.png",
        Xe = s.p + "assets/map_ss3_3p_preview.c99eaafe2a0298ac3412.png",
        Ze = s.p + "assets/map_ss3_4p_preview.333ddc553878ec4ef418.png",
        Je = s.p + "assets/map_ss3_6p_preview.062ef04b8a00ed541283.png",
        et = s.p + "assets/map_ss4_3p_preview.f2b77bb95c3262721195.png",
        tt = s.p + "assets/map_ss4_4p_preview.f89c99787d83a61108e6.png",
        st = s.p + "assets/map_ss4_6p_preview.11bfdf29420d9c89f2d2.png";
      var it = s(34837),
        nt = s(17564);
      const rt = s.p + "assets/56player.629ad7bb3654ee71cd61.svg",
        ot = s.p + "assets/78player.ed7be9e171c3cf93bd1b.svg";
      var at = s(44945);
      const ct = s.p + "assets/seafarers_56player.20ea4d5897af2f60c13a.svg";
      var lt = s(46995);
      const dt =
          s.p + "assets/cities_and_knights_56player.122acc8196b1c4313308.svg",
        ut =
          s.p + "assets/seafarers_cities_and_knights.13a2c1bab638d8f45624.svg",
        ht =
          s.p +
          "assets/seafarers_cities_and_knights_56player.c6b1dd2732399c81a527.svg";
      var pt = s(54369),
        mt = s(68342),
        gt = s(49119),
        ft = s(59611);
      const yt = s.p + "assets/pack_settler.cba2ea0c8bd2bd4ec4ac.svg",
        bt = s.p + "assets/pack_colonist.54d02ca9b458ea10ad8f.svg",
        vt = s.p + "assets/pack_founder.a8b5c95038f5861be2a5.svg";
      var St = s(87354),
        kt = s(57795),
        Ct = s(34911),
        Pt = s(90712),
        _t = s(23153),
        At = s(57363);
      const wt = s.p + "assets/icon_sunglasses.ecd4d017bb185bbc88b1.svg",
        Rt = s.p + "assets/icon_hide_bank_card.b09a12f928f2d00c985e.svg",
        Tt = s.p + "assets/store_item_56player.4f639b9dcd4228828fe1.png",
        It = s.p + "assets/store_item_78player.00b8959d79d33302f2be.png",
        Mt = s.p + "assets/store_item_seafarers.acf264192f057981efb2.png",
        Lt =
          s.p + "assets/store_item_seafarers_56player.c2fe273508f2dc3e06e3.png",
        Bt =
          s.p + "assets/store_item_cities_and_knights.c06af4fa3cb51672b62c.png",
        Dt =
          s.p +
          "assets/store_item_cities_and_knights_56player.39a2eccb4ab04010dd28.png",
        Et =
          s.p +
          "assets/store_item_seafarers_cities_and_knights.55f1a5120b74025f35ab.png",
        Gt =
          s.p +
          "assets/store_item_seafarers_cities_and_knights_56player.7b3a953a5fb376c80493.png";
      var xt = s(64543);
      const Ut = s.p + "assets/store_color_purple.545676b73eb19d8e9973.png",
        Ot = s.p + "assets/store_color_mysticblue.b42437b2d706ef06cfd3.png",
        Nt = s.p + "assets/store_color_white.9db2ebf033eec04dccaf.png",
        Ft = s.p + "assets/store_color_bronze.680ba9c14db0940c6151.png",
        Ht = s.p + "assets/store_color_silver.a4871f3986637e69ceaa.png",
        Wt = s.p + "assets/store_color_gold.55a2507f0b91edfbe899.png",
        Kt = s.p + "assets/store_color_pink.8e06e7c33fafc81c4fed.png",
        Vt = s.p + "assets/store_icon_membership.607ebfe3bbe6fad775cf.svg";
      var qt = s(68282),
        Qt = s(92626),
        $t = s(83078);
      const zt = s.p + "assets/icon_christmas_hat.791d53a00b2331420a49.svg";
      var jt = s(13279),
        Yt = s(59011),
        Xt = s(10200),
        Zt = s(45859);
      const Jt = s.p + "assets/medal_gold.b44df7c9eb44541c4ad3.svg",
        es = s.p + "assets/medal_silver.2b336579e8a89ec40258.svg",
        ts = s.p + "assets/medal_bronze.a73fa650b8e60e85838c.svg",
        ss = s.p + "assets/icon_elephant.5c1515fe7202098da9c2.svg";
      var is = s(80232),
        ns = s(32936),
        rs = s(9108),
        os = s(56116),
        as = s(12326),
        cs = s(51255),
        ls = s(10806),
        ds = s(52283),
        us = s(52580),
        hs = s(97077),
        ps = s(99527),
        ms = s(41178);
      const gs = s.p + "assets/icon_gifter.d0972efa7b6d8a5504a2.svg",
        fs = s.p + "assets/icon_no_troll.13db236dee0e0ba2c328.svg",
        ys = s.p + "assets/icon_rotation.656c2925f60e743646a7.svg",
        bs = s.p + "assets/icon_time_bomb.825a380d6029cb55c798.svg",
        vs = s.p + "assets/icon_beta.bb22da649503731f2457.svg";
      var Ss = s(66987),
        ks = s(20558),
        Cs = s(21503),
        Ps = s(40972),
        _s = s(4903),
        As = s(93189),
        ws = s(24368),
        Rs = s(30429),
        Ts = s(10008),
        Is = s(62713),
        Ms = s(60178),
        Ls = s(55828),
        Bs = s(85919),
        Ds = s(31364),
        Es = s(58961),
        Gs = s(59548),
        xs = s(16968),
        Us = s(601),
        Os = s(73050),
        Ns = s(38853),
        Fs = s(96144),
        Hs = s(11903),
        Ws = s(33744),
        Ks = s(65019),
        Vs = s(16208),
        qs = s(87541),
        Qs = s(85424),
        $s = s(50276),
        zs = s(88429),
        js = s(98734),
        Ys = s(73697),
        Xs = s(24460),
        Zs = s(64907);
      const Js = s.p + "assets/membership_icon_plus.4a202484f09061f93885.svg",
        ei = s.p + "assets/membership_icon_premium.df4327a99ca9fb53a8d7.svg",
        ti = s.p + "assets/membership_icon_elite.bccacba2f392d83069ea.svg",
        si =
          s.p + "assets/membership_icon_holiday2023.081572d7f5bd075ccb33.svg";
      var ii = s(61925);
      const ni = s.p + "assets/icon_gift_box_dark.371df2cc9dde87c19bc3.svg",
        ri = s.p + "assets/perks_icon_free_maps.b405f6a780e148c32767.png",
        oi = s.p + "assets/perks_icon_free_expansions.39b4ce839c9111fe9bf9.png",
        ai = s.p + "assets/perks_icon_ranked.740d42bb164f83ca9391.png",
        ci = s.p + "assets/perks_icon_custom_links.bb43f63d1d3532d8e858.png",
        li = s.p + "assets/perks_icon_coins.777985cebf39733279f5.png",
        di = s.p + "assets/perks_icon_no_ads.8a757155d4ee99d423c7.png",
        ui =
          s.p +
          "assets/gif_remove_ads_boxedshape_desert.13501b36f37e7f524c4f.gif",
        hi =
          s.p +
          "assets/gif_remove_ads_boxedshape_gold.f13b62439a01b6f60113.gif",
        pi =
          s.p +
          "assets/gif_remove_ads_hexedshape_desert.47ff3ecb4bf8dc83fced.gif",
        mi =
          s.p +
          "assets/gif_remove_ads_hexedshape_gold.ac2e283eba8b8551937c.gif",
        gi = s.p + "assets/coin_stack_1.5f693cf618655da89f2b.png",
        fi = s.p + "assets/coin_stack_2.d6d2fb11327c18541402.png",
        yi = s.p + "assets/coin_stack_3.6932a52a5edd8935a3ab.png",
        bi = s.p + "assets/coin_stack_4.763e5673628babb12160.png",
        vi = s.p + "assets/coin_stack_5.1be8ae54b5372e0b60a7.png",
        Si = s.p + "assets/coin_stack_6.f0e65a81082c496f146c.png",
        ki = s.p + "assets/icon_profile_friends.070663d1d744eb49945c.svg",
        Ci = s.p + "assets/icon_add_friend_2.c3acf8dc1dc8b93f3b76.svg",
        Pi = s.p + "assets/icon_google.5f9c87ab99edeea69edc.svg",
        _i = s.p + "assets/icon_apple.de5779ceb1e109f93f3f.svg";
      var Ai = s(87239);
      const wi = s.p + "assets/icon_facebook.00529da5d71ae5bc1fed.svg",
        Ri = s.p + "assets/bronze.4ee59db67b7900c761eb.svg",
        Ti = s.p + "assets/silver.f683d809422aa364b262.svg",
        Ii = s.p + "assets/gold.a55b7d71ce877c25fdc3.svg",
        Mi = s.p + "assets/platinum.175fcbe15d9d768c5417.svg",
        Li = s.p + "assets/diamond.11ab288221989c929608.svg",
        Bi = s.p + "assets/master.04e4bcf128950beae7c9.svg",
        Di = s.p + "assets/grandmaster.abb26f73ab2d7952e22f.svg",
        Ei = s.p + "assets/subdivisions_i.cb2eb65c31ee95290061.svg",
        Gi = s.p + "assets/subdivisions_ii.859a2e1273532a85b5f0.svg",
        xi = s.p + "assets/subdivisions_iii.a55e015debf15544d914.svg",
        Ui = s.p + "assets/subdivisions_iv.e3f34d15c97b25f5d6ad.svg",
        Oi = s.p + "assets/subdivisions_v.7a381b6f8fc8bd4d0d77.svg",
        Ni = s.p + "assets/menu_portrait_mode.b5c9aca45119e2e2afcb.png",
        Fi = s.p + "assets/menu_landscape_mode.9b89db216dd60a4602ef.png";
      var Hi = s(37145),
        Wi = s(96668),
        Ki = s(61495),
        Vi = s(7325),
        qi = s(16508),
        Qi = s(2330),
        $i = s(2928),
        zi = s(48834),
        ji = s(48295),
        Yi = s(82969),
        Xi = s(96197),
        Zi = s(36759),
        Ji = s(54227),
        en = s(73484),
        tn = s(87887),
        sn = s(1932),
        nn = s(81145),
        rn = s(28624);
      const on = s.p + "assets/icon_profile_overview.df4ad7e5e7bc2daac895.svg",
        an = s.p + "assets/icon_profile_ranked.bb756445fe0a551ed281.svg",
        cn = s.p + "assets/icon_profile_history.72004f9b4244690de945.svg",
        ln = s.p + "assets/icon_profile_items.b443a1a428459b1d29b7.svg",
        dn = s.p + "assets/icon_profile_membership.36f8e042d54d3bb48b1c.svg",
        un = s.p + "assets/badge_tournament_cc25.102ed2491f5c0ac21d9b.svg",
        hn = s.p + "assets/badge_tournament_s11_first.d9cc9cf4ed06a6623b99.svg",
        pn = s.p + "assets/badge_tournament_4p.dac5e83a3b63cfe4bacb.svg",
        mn = s.p + "assets/banner_member.cfe69c53918ea61fa7fb.png",
        gn = s.p + "assets/banner_shuffle.83423b8968ca8c59d43f.png";
      var fn = s(21099),
        yn = s(8878),
        bn = s(96396),
        vn = s(29567),
        Sn = s(29319),
        kn = s(42778),
        Cn = s(48613),
        Pn = s(12688),
        _n = s(38493),
        An = s(65432),
        wn = s(62681),
        Rn = s(48498),
        Tn = s(75279),
        In = s(73316),
        Mn = s(13250),
        Ln = s(59179),
        Bn = s(67523),
        Dn = s(48376),
        En = s(71937),
        Gn = s(60190),
        xn = s(99273),
        Un = s(88758),
        On = s(2109),
        Nn = s(62640),
        Fn = s(75602),
        Hn = s(61193),
        Wn = s(73023),
        Kn = s(47538),
        Vn = s(6818),
        qn = s(11773),
        Qn = s(88834),
        $n = s(32663),
        zn = s(70248),
        jn = s(77999),
        Yn = s(14466),
        Xn = s(73461),
        Zn = s(72311),
        Jn = s(64458),
        er = s(9808),
        tr = s(89179),
        sr = s(491),
        ir = s(53142),
        nr = s(62945),
        rr = s(3700),
        or = s(56145),
        ar = s(80420),
        cr = s(32741),
        lr = s(57566),
        dr = s(47609),
        ur = s(79824),
        hr = s(1714),
        pr = s(89173),
        mr = s(41901),
        gr = s(12908),
        fr = s(51839),
        yr = s(90878),
        br = s(99059),
        vr = s(48266),
        Sr = s(46771),
        kr = s(88112);
      const Cr = s.p + "assets/player_bg_red.e23255a1eaac03a05c9d.svg",
        Pr = s.p + "assets/player_bg_blue.ccf3b0e2738233b4e592.svg",
        _r = s.p + "assets/player_bg_orange.501a7e983f1b0c42c2b0.svg",
        Ar = s.p + "assets/player_bg_green.3caf586360d8a53b7520.svg",
        wr = s.p + "assets/player_bg_black.83ee1c2a1f5f182e656f.svg",
        Rr = s.p + "assets/player_bg_bronze.45bc74232bcf07972718.svg",
        Tr = s.p + "assets/player_bg_silver.2e50d8b9369e42bd322c.svg",
        Ir = s.p + "assets/player_bg_gold.970d985e809295330140.svg",
        Mr = s.p + "assets/player_bg_white.0c947f6527948c64d15e.svg",
        Lr = s.p + "assets/player_bg_purple.a8e5b6b5a7aadb278f99.svg",
        Br = s.p + "assets/player_bg_mysticblue.d566c2c9e62b6173c72f.svg",
        Dr = s.p + "assets/player_bg_pink.da3d420acf9114ecde55.svg",
        Er = s.p + "assets/landscape_deprecation.1b2bb8b6751e445b5e98.gif";
      class Gr {
        static setVersionNumber(e) {
          this.versionNumber = e;
        }
        static getRankedDivisionImage(e) {
          switch (e) {
            case n.os.Bronze:
              return r.am.RankBronze;
            case n.os.Silver:
              return r.am.RankSilver;
            case n.os.Gold:
              return r.am.RankGold;
            case n.os.Platinum:
              return r.am.RankPlatinum;
            case n.os.Diamond:
              return r.am.RankDiamond;
            case n.os.Master:
              return r.am.RankMaster;
            case n.os.Grandmaster:
              return r.am.RankGrandmaster;
            case n.os.None:
              return r.am.XMark;
          }
        }
        static getRankedSubdivisionImage(e) {
          if (e !== n.Yt.None)
            switch (e) {
              case n.Yt.I:
                return r.am.RankSubdivisionI;
              case n.Yt.II:
                return r.am.RankSubdivisionII;
              case n.Yt.III:
                return r.am.RankSubdivisionIII;
              case n.Yt.IV:
                return r.am.RankSubdivisionIV;
              case n.Yt.V:
                return r.am.RankSubdivisionV;
            }
        }
        static getPlayerColorBuildings(e) {
          switch (e) {
            case i.DS.Red:
              return {
                road: r.am.RoadRed,
                settlement: r.am.SettlementRed,
                city: r.am.CityRed,
              };
            case i.DS.Blue:
              return {
                road: r.am.RoadBlue,
                settlement: r.am.SettlementBlue,
                city: r.am.CityBlue,
              };
            case i.DS.Green:
              return {
                road: r.am.RoadGreen,
                settlement: r.am.SettlementGreen,
                city: r.am.CityGreen,
              };
            case i.DS.Orange:
              return {
                road: r.am.RoadOrange,
                settlement: r.am.SettlementOrange,
                city: r.am.CityOrange,
              };
            case i.DS.Black:
              return {
                road: r.am.RoadBlack,
                settlement: r.am.SettlementBlack,
                city: r.am.CityBlack,
              };
            case i.DS.Silver:
              return {
                road: r.am.RoadSilver,
                settlement: r.am.SettlementSilver,
                city: r.am.CitySilver,
              };
            case i.DS.Gold:
              return {
                road: r.am.RoadGold,
                settlement: r.am.SettlementGold,
                city: r.am.CityGold,
              };
            case i.DS.White:
              return {
                road: r.am.RoadWhite,
                settlement: r.am.SettlementWhite,
                city: r.am.CityWhite,
              };
            case i.DS.Purple:
              return {
                road: r.am.RoadPurple,
                settlement: r.am.SettlementPurple,
                city: r.am.CityPurple,
              };
            case i.DS.MysticBlue:
              return {
                road: r.am.RoadMysticBlue,
                settlement: r.am.SettlementMysticBlue,
                city: r.am.CityMysticBlue,
              };
            case i.DS.Bronze:
              return {
                road: r.am.RoadBronze,
                settlement: r.am.SettlementBronze,
                city: r.am.CityBronze,
              };
            case i.DS.Pink:
              return {
                road: r.am.RoadPink,
                settlement: r.am.SettlementPink,
                city: r.am.CityPink,
              };
            case i.DS.None:
          }
          return {
            road: r.am.CheckMark,
            settlement: r.am.CheckMark,
            city: r.am.CheckMark,
          };
        }
        static getImgPath(e) {
          switch (e) {
            case r.am.Pencil:
              return o;
            case r.am.Bot:
              return a;
            case r.am.BotBeginner:
              return c;
            case r.am.BotEasy:
              return l;
            case r.am.BotMedium:
              return d;
            case r.am.BotHard:
              return u;
            case r.am.CheckMark:
              return h;
            case r.am.XMark:
              return p;
            case r.am.Logo:
              return m;
            case r.am.Lightning:
              return g;
            case r.am.Plus:
              return f;
            case r.am.PlusStore:
              return y;
            case r.am.Mail:
              return b;
            case r.am.Admin:
              return v;
            case r.am.Moderator:
              return S;
            case r.am.User:
              return k;
            case r.am.Guest:
              return C;
            case r.am.Star:
              return P;
            case r.am.Players:
              return _;
            case r.am.ReplayIcon:
              return A;
            case r.am.QuestionMark:
              return w;
            case r.am.InfoIcon:
              return R;
            case r.am.DangerIcon:
              return T;
            case r.am.KarmaWhite:
              return I;
            case r.am.KarmaRed:
              return M;
            case r.am.KarmaOrange:
              return L;
            case r.am.KarmaGreen:
              return B;
            case r.am.DisableAdBlock:
              return D;
            case r.am.ColonistCoin:
              return E;
            case r.am.Rulebook:
              return G;
            case r.am.BankIcon:
              return x;
            case r.am.FullScreenExpand:
              return U;
            case r.am.FullScreenContract:
              return O;
            case r.am.FullScreenGif:
              return N;
            case r.am.LeftArrow:
              return F;
            case r.am.Audio:
              return H;
            case r.am.Eye:
              return W;
            case r.am.SendArrow:
              return K;
            case r.am.Settings:
              return V;
            case r.am.Chat:
              return q;
            case r.am.Log:
              return Q;
            case r.am.MatchmakingSearch:
              return $;
            case r.am.Lock:
              return z;
            case r.am.LockOutlined:
              return j;
            case r.am.LockSlanted:
              return Y;
            case r.am.Share:
              return X;
            case r.am.NoAds:
              return Z;
            case r.am.Colors:
              return J;
            case r.am.Avatars:
              return ee;
            case r.am.Maps:
              return te;
            case r.am.Expansions:
              return se;
            case r.am.AllColors:
              return ie;
            case r.am.Memberships:
              return Vt;
            case r.am.MapDiamondPreview:
              return ne;
            case r.am.MapIstanbulPreview:
              return re;
            case r.am.MapLakesPreview:
              return oe;
            case r.am.MapPondPreview:
              return ae;
            case r.am.MapGearPreview:
              return ce;
            case r.am.MapUSAPreview:
              return le;
            case r.am.MapTwirlPreview:
              return de;
            case r.am.MapEarthPreview:
              return ue;
            case r.am.MapUKPreview:
              return he;
            case r.am.MapShuffleBoardPreview:
              return pe;
            case r.am.MapPangaeaPreview:
              return me;
            case r.am.MapSpinnerPreview:
              return ge;
            case r.am.MapCyclopsPreview:
              return fe;
            case r.am.MapRandomBasePreview:
              return ye;
            case r.am.MapClassic4PPreview:
              return be;
            case r.am.MapRomaniaPreview:
              return ve;
            case r.am.MapHourglassPreview:
              return Se;
            case r.am.MapHourglassXLPreview:
              return ke;
            case r.am.MapSnowflakePreview:
              return Ce;
            case r.am.MapMiniBasePreview:
              return Pe;
            case r.am.MapAustraliaPreview:
              return _e;
            case r.am.MapCirclePreview:
              return Ae;
            case r.am.MapDuelPreview:
              return we;
            case r.am.MapMonopolyPreview:
              return Re;
            case r.am.MapKingOfTheHillPreview:
              return Te;
            case r.am.MapEuropePreview:
              return Ie;
            case r.am.MapMountainOfRichesPreview:
              return Me;
            case r.am.MapDoggoPreview:
              return Le;
            case r.am.MapTradeIslandsPreview:
              return Be;
            case r.am.MapTurningTidesPreview:
              return De;
            case r.am.MapBlackForestPreview:
              return Ee;
            case r.am.MapVolcanoPreview:
              return Ge;
            case r.am.MapKitePreview:
              return xe;
            case r.am.MapVietnamPreview:
              return Ue;
            case r.am.MapTwoIslesPreview:
              return Oe;
            case r.am.MapJellyFishPreview:
              return Ne;
            case r.am.MapGoldRushPreview:
              return Fe;
            case r.am.MapStripesPreview:
              return He;
            case r.am.MapMonopolyIslandsPreview:
              return We;
            case r.am.MapClassic56PPreview:
              return Ke;
            case r.am.MapClassic78PPreview:
              return Ve;
            case r.am.MapSS1HeadingForNewShores3PPreview:
              return qe;
            case r.am.MapSS1HeadingForNewShores4PPreview:
              return Qe;
            case r.am.MapSS1HeadingForNewShores56PPreview:
              return $e;
            case r.am.MapSS2FourIslands3PPreview:
              return ze;
            case r.am.MapSS2FourIslands4PPreview:
              return je;
            case r.am.MapSS2SixIslands56PPreview:
              return Ye;
            case r.am.MapSS3FogIslands3PPreview:
              return Xe;
            case r.am.MapSS3FogIslands4PPreview:
              return Ze;
            case r.am.MapSS3FogIslands56PPreview:
              return Je;
            case r.am.MapSS4ThroughTheDesert3PPreview:
              return et;
            case r.am.MapSS4ThroughTheDesert4PPreview:
              return tt;
            case r.am.MapSS4ThroughTheDesert56PPreview:
              return st;
            case r.am.GameMode1v1:
              return it;
            case r.am.GameModeBase:
            case r.am.GameModeBasePreview:
              return nt;
            case r.am.GameModeBase56P:
              return rt;
            case r.am.GameModeBase78P:
              return ot;
            case r.am.GameModeSeafarers:
              return at;
            case r.am.GameModeSeafarers56P:
              return ct;
            case r.am.GameModeCnK:
              return lt;
            case r.am.GameModeCitiesAndKnights56P:
              return dt;
            case r.am.GameModeCnKSeafarers:
              return ut;
            case r.am.GameModeSeafarersCitiesAndKnights56P:
              return ht;
            case r.am.GameModeColonistRush:
              return pt;
            case r.am.GameModeShuffle:
              return mt;
            case r.am.GameModeRanked1v1:
              return gt;
            case r.am.GameModeRanked4P:
              return ft;
            case r.am.SettlerPack:
              return yt;
            case r.am.ColonistPack:
              return bt;
            case r.am.FounderPack:
              return vt;
            case r.am.RoadBronze:
              return St;
            case r.am.SettlementBronze:
              return kt;
            case r.am.CityBronze:
              return Ct;
            case r.am.Bank:
              return Pt;
            case r.am.Robber:
              return _t;
            case r.am.Dice6:
              return At;
            case r.am.PrivateGame:
              return wt;
            case r.am.HideBankCards:
              return Rt;
            case r.am.StoreItemExpansionClassic56P:
              return Tt;
            case r.am.StoreItemExpansionClassic78P:
              return It;
            case r.am.StoreItemSeafarers4P:
              return Mt;
            case r.am.StoreItemSeafarers56P:
              return Lt;
            case r.am.StoreItemCitiesAndKnights4P:
              return Bt;
            case r.am.StoreItemCitiesAndKnights56P:
              return Dt;
            case r.am.StoreItemCitiesAndKnightsSeafarers4P:
              return Et;
            case r.am.StoreItemCitiesAndKnightsSeafarers56P:
              return Gt;
            case r.am.StoreColorBlack:
              return xt;
            case r.am.StoreColorPurple:
              return Ut;
            case r.am.StoreColorMysticBlue:
              return Ot;
            case r.am.StoreColorWhite:
              return Nt;
            case r.am.StoreColorBronze:
              return Ft;
            case r.am.StoreColorSilver:
              return Ht;
            case r.am.StoreColorGold:
              return Wt;
            case r.am.StoreColorPink:
              return Kt;
            case r.am.IconSettlerHat:
              return qt;
            case r.am.IconColonistHat:
              return Qt;
            case r.am.IconFounderHat:
              return $t;
            case r.am.IconChristmasHat:
              return zt;
            case r.am.IconRobberSanta:
              return jt;
            case r.am.IconRobberLunar:
              return Yt;
            case r.am.IconRobberCupid:
              return Xt;
            case r.am.IconPirateShip:
              return Zt;
            case r.am.IconMedalGold:
              return Jt;
            case r.am.IconMedalSilver:
              return es;
            case r.am.IconMedalBronze:
              return ts;
            case r.am.IconElephant:
              return ss;
            case r.am.IconSombrero:
              return is;
            case r.am.IconFarmer:
              return ns;
            case r.am.IconAvocado:
              return rs;
            case r.am.IconCactus:
              return os;
            case r.am.IconCrown:
              return as;
            case r.am.IconSwords:
              return cs;
            case r.am.IconHelmet:
              return ls;
            case r.am.IconSnorkel:
              return ds;
            case r.am.IconScarf:
              return us;
            case r.am.IconTie:
              return hs;
            case r.am.IconWorker:
              return ps;
            case r.am.IconMummy:
              return ms;
            case r.am.IconGifter:
              return gs;
            case r.am.IconNoTroll:
              return fs;
            case r.am.IconRotation:
              return ys;
            case r.am.IconTimeBomb:
              return bs;
            case r.am.IconBeta:
              return vs;
            case r.am.RoadRed:
              return Ss;
            case r.am.RoadBlue:
              return ks;
            case r.am.RoadGreen:
              return Cs;
            case r.am.RoadOrange:
              return Ps;
            case r.am.RoadBlack:
              return _s;
            case r.am.RoadSilver:
              return As;
            case r.am.RoadGold:
              return ws;
            case r.am.RoadWhite:
              return Rs;
            case r.am.RoadPurple:
              return Ts;
            case r.am.RoadMysticBlue:
              return Is;
            case r.am.RoadPink:
              return Ms;
            case r.am.SettlementRed:
              return Ls;
            case r.am.SettlementBlue:
              return Bs;
            case r.am.SettlementGreen:
              return Ds;
            case r.am.SettlementOrange:
              return Es;
            case r.am.SettlementBlack:
              return Gs;
            case r.am.SettlementSilver:
              return xs;
            case r.am.SettlementGold:
              return Us;
            case r.am.SettlementWhite:
              return Os;
            case r.am.SettlementPurple:
              return Ns;
            case r.am.SettlementMysticBlue:
              return Fs;
            case r.am.SettlementPink:
              return Hs;
            case r.am.CityRed:
              return Ws;
            case r.am.CityBlue:
              return Ks;
            case r.am.CityGreen:
              return Vs;
            case r.am.CityOrange:
              return qs;
            case r.am.CityBlack:
              return Qs;
            case r.am.CitySilver:
              return $s;
            case r.am.CityGold:
              return zs;
            case r.am.CityWhite:
              return js;
            case r.am.CityPurple:
              return Ys;
            case r.am.CityMysticBlue:
              return Xs;
            case r.am.CityPink:
              return Zs;
            case r.am.StoreMembershipPlus:
              return Js;
            case r.am.StoreMembershipPremium:
              return ei;
            case r.am.StoreMembershipElite:
              return ti;
            case r.am.StoreMembershipHoliday2023:
              return si;
            case r.am.StoreGiftMembership:
              return ii;
            case r.am.StoreGiftMembershipDark:
              return ni;
            case r.am.StoreMembershipPerkAllMaps:
              return ri;
            case r.am.StoreMembershipPerkAllExpansions:
              return oi;
            case r.am.StoreMembershipPerkRankedGames:
              return ai;
            case r.am.StoreMembershipPerkCustomLinks:
              return ci;
            case r.am.StoreMembershipPerkColonistCoins:
              return li;
            case r.am.StoreMembershipPerkNoAds:
              return di;
            case r.am.StoreMembershipPerkNoAdsGifDesertBox:
              return ui;
            case r.am.StoreMembershipPerkNoAdsGifGoldBox:
              return hi;
            case r.am.StoreMembershipPerkNoAdsGifDesertHex:
              return pi;
            case r.am.StoreMembershipPerkNoAdsGifGoldHex:
              return mi;
            case r.am.StoreMembershipPerkAllColors:
              return ie;
            case r.am.CoinStack1:
              return gi;
            case r.am.CoinStack2:
              return fi;
            case r.am.CoinStack3:
              return yi;
            case r.am.CoinStack4:
              return bi;
            case r.am.CoinStack5:
              return vi;
            case r.am.CoinStack6:
              return Si;
            case r.am.Friends:
              return ki;
            case r.am.AddFriend:
              return Ci;
            case r.am.GoogleIcon:
              return Pi;
            case r.am.AppleIcon:
              return _i;
            case r.am.DiscordIcon:
              return Ai;
            case r.am.FacebookIcon:
              return wi;
            case r.am.RankBronze:
              return Ri;
            case r.am.RankSilver:
              return Ti;
            case r.am.RankGold:
              return Ii;
            case r.am.RankPlatinum:
              return Mi;
            case r.am.RankDiamond:
              return Li;
            case r.am.RankMaster:
              return Bi;
            case r.am.RankGrandmaster:
              return Di;
            case r.am.RankSubdivisionI:
              return Ei;
            case r.am.RankSubdivisionII:
              return Gi;
            case r.am.RankSubdivisionIII:
              return xi;
            case r.am.RankSubdivisionIV:
              return Ui;
            case r.am.RankSubdivisionV:
              return Oi;
            case r.am.LandscapeIcon:
              return Fi;
            case r.am.PortraitIcon:
              return Ni;
            case r.am.RewindToStart:
              return Hi;
            case r.am.Rewind:
              return Wi;
            case r.am.Play:
              return Ki;
            case r.am.Pause:
              return Vi;
            case r.am.FastForward:
              return qi;
            case r.am.FastForwardToEnd:
              return Qi;
            case r.am.X05:
              return $i;
            case r.am.X1:
              return zi;
            case r.am.X2:
              return ji;
            case r.am.X4:
              return Yi;
            case r.am.X8:
              return Xi;
            case r.am.DownArrowBlack:
              return Zi;
            case r.am.DownArrow:
              return Ji;
            case r.am.UpArrow:
              return en;
            case r.am.LongestRoad:
              return tn;
            case r.am.LargestArmy:
              return sn;
            case r.am.CardMonopoly:
              return nn;
            case r.am.CardVictoryPoint:
              return rn;
            case r.am.ProfileOverview:
              return on;
            case r.am.ProfileRanked:
              return an;
            case r.am.ProfileHistory:
              return cn;
            case r.am.ProfileItems:
              return ln;
            case r.am.ProfileMemberships:
              return dn;
            case r.am.ProfileSettings:
              return V;
            case r.am.TournamentCC25:
              return un;
            case r.am.TournamentS11First:
              return hn;
            case r.am.Tournament4P:
              return pn;
            case r.am.BannerMember:
              return mn;
            case r.am.BannerShuffle:
              return gn;
            case r.am.LandscapeDeprecationWarning:
              return Er;
          }
        }
      }
      ((Gr.roadsByColor = {
        [i.DS.None]: "",
        [i.DS.Red]: Ss,
        [i.DS.Blue]: ks,
        [i.DS.Orange]: Ps,
        [i.DS.Green]: Cs,
        [i.DS.Black]: _s,
        [i.DS.Bronze]: St,
        [i.DS.Silver]: As,
        [i.DS.Gold]: ws,
        [i.DS.White]: Rs,
        [i.DS.Purple]: Ts,
        [i.DS.MysticBlue]: Is,
        [i.DS.Pink]: Ms,
      }),
        (Gr.settlementsByColor = {
          [i.DS.None]: "",
          [i.DS.Red]: Ls,
          [i.DS.Blue]: Bs,
          [i.DS.Orange]: Es,
          [i.DS.Green]: Ds,
          [i.DS.Black]: Gs,
          [i.DS.Bronze]: kt,
          [i.DS.Silver]: xs,
          [i.DS.Gold]: Us,
          [i.DS.White]: Os,
          [i.DS.Purple]: Ns,
          [i.DS.MysticBlue]: Fs,
          [i.DS.Pink]: Hs,
        }),
        (Gr.citiesByColor = {
          [i.DS.None]: "",
          [i.DS.Red]: Ws,
          [i.DS.Blue]: Ks,
          [i.DS.Orange]: qs,
          [i.DS.Green]: Vs,
          [i.DS.Black]: Qs,
          [i.DS.Bronze]: Ct,
          [i.DS.Silver]: $s,
          [i.DS.Gold]: zs,
          [i.DS.White]: js,
          [i.DS.Purple]: Ys,
          [i.DS.MysticBlue]: Xs,
          [i.DS.Pink]: Zs,
        }),
        (Gr.cityWallsByColor = {
          [i.DS.None]: "",
          [i.DS.Red]: fn,
          [i.DS.Blue]: yn,
          [i.DS.Orange]: bn,
          [i.DS.Green]: vn,
          [i.DS.Black]: Sn,
          [i.DS.Bronze]: kn,
          [i.DS.Silver]: Cn,
          [i.DS.Gold]: Pn,
          [i.DS.White]: _n,
          [i.DS.Purple]: An,
          [i.DS.MysticBlue]: wn,
          [i.DS.Pink]: Rn,
        }),
        (Gr.shipsByColor = {
          [i.DS.None]: "",
          [i.DS.Red]: Tn,
          [i.DS.Blue]: In,
          [i.DS.Orange]: Mn,
          [i.DS.Green]: Ln,
          [i.DS.Black]: Bn,
          [i.DS.Bronze]: Dn,
          [i.DS.Silver]: En,
          [i.DS.Gold]: Gn,
          [i.DS.White]: xn,
          [i.DS.Purple]: Un,
          [i.DS.MysticBlue]: On,
          [i.DS.Pink]: Nn,
        }),
        (Gr.knightsInactiveByColor = {
          [i.DS.None]: "",
          [i.DS.Red]: Fn,
          [i.DS.Blue]: Hn,
          [i.DS.Orange]: Wn,
          [i.DS.Green]: Kn,
          [i.DS.Black]: Vn,
          [i.DS.Bronze]: qn,
          [i.DS.Silver]: Qn,
          [i.DS.Gold]: $n,
          [i.DS.White]: zn,
          [i.DS.Purple]: jn,
          [i.DS.MysticBlue]: Yn,
          [i.DS.Pink]: Xn,
        }),
        (Gr.knightsActiveByColor = {
          [i.DS.None]: "",
          [i.DS.Red]: Zn,
          [i.DS.Blue]: Jn,
          [i.DS.Orange]: er,
          [i.DS.Green]: tr,
          [i.DS.Black]: sr,
          [i.DS.Bronze]: ir,
          [i.DS.Silver]: nr,
          [i.DS.Gold]: rr,
          [i.DS.White]: or,
          [i.DS.Purple]: ar,
          [i.DS.MysticBlue]: cr,
          [i.DS.Pink]: lr,
        }),
        (Gr.merchantByColor = {
          [i.DS.None]: "",
          [i.DS.Red]: dr,
          [i.DS.Blue]: ur,
          [i.DS.Orange]: hr,
          [i.DS.Green]: pr,
          [i.DS.Black]: mr,
          [i.DS.Bronze]: gr,
          [i.DS.Silver]: fr,
          [i.DS.Gold]: yr,
          [i.DS.White]: br,
          [i.DS.Purple]: vr,
          [i.DS.MysticBlue]: Sr,
          [i.DS.Pink]: kr,
        }),
        (Gr.playerBackgroundByColor = {
          [i.DS.None]: "",
          [i.DS.Red]: Cr,
          [i.DS.Blue]: Pr,
          [i.DS.Orange]: _r,
          [i.DS.Green]: Ar,
          [i.DS.Black]: wr,
          [i.DS.Bronze]: Rr,
          [i.DS.Silver]: Tr,
          [i.DS.Gold]: Ir,
          [i.DS.White]: Mr,
          [i.DS.Purple]: Lr,
          [i.DS.MysticBlue]: Br,
          [i.DS.Pink]: Dr,
        }));
    },
    34997: (e, t, s) => {
      "use strict";
      s.d(t, { D: () => r });
      var i = s(11743),
        n = s(78311);
      class r extends i.v {
        getBenefits() {
          return [
            {
              image: n.am.NoAds,
              title: { key: "strings:popups.becomeAMember.perks.noAds.title" },
              description: {
                key: "strings:popups.becomeAMember.perks.noAds.description",
              },
            },
            {
              image: n.am.FullScreenExpand,
              title: {
                key: "strings:popups.becomeAMember.perks.fullscreen.title",
              },
              description: {
                key: "strings:popups.becomeAMember.perks.fullscreen.description",
              },
            },
            {
              image: n.am.Colors,
              title: { key: "strings:popups.becomeAMember.perks.colors.title" },
              description: {
                key: "strings:popups.becomeAMember.perks.colors.description",
              },
            },
          ];
        }
        constructor(e, t, s = () => {}, i = !1) {
          super(e, t, s, i);
        }
      }
    },
    35032: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/sfx_settlement_place.c5c4ccb495e1499035b1.mp3";
    },
    35078: (e, t, s) => {
      "use strict";
      s.d(t, { J: () => i });
      var i = (function (e) {
        return (
          (e[(e.Leaderboard = 0)] = "Leaderboard"),
          (e[(e.Lobby = 1)] = "Lobby"),
          (e[(e.Homepage = 2)] = "Homepage"),
          (e[(e.Store = 3)] = "Store"),
          (e[(e.Profile = 4)] = "Profile"),
          (e[(e.Game = 5)] = "Game"),
          e
        );
      })({});
    },
    35351: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/sfx_dice_roll_4.ac72a311905cf5bfad2a.mp3";
    },
    35363: (e, t, s) => {
      "use strict";
      s.d(t, { C: () => c });
      var i = s(87506),
        n = s(18587),
        r = s(76092),
        o = s(19966),
        a = s(9029);
      class c {
        userSkippedAd() {
          (console.log("[Preroll] Ad Hidden/Skipped"),
            c.sendAdsPerformanceData(r.k0.VideoAdsComplete));
        }
        static sendMatchmakingRequestAfterAd() {
          if (!i.O.lastMatchmakingRequest) return;
          i.O.enterMatchmaker(i.O.lastMatchmakingRequest, !1);
        }
        userFinishedWatching() {
          (console.log("[Preroll] User completed watching ad"),
            c.sendMatchmakingRequestAfterAd());
        }
        adFailedToStart() {
          (console.log(
            "[Preroll] Ad error occurred. Sending to matchmaking now",
          ),
            this.sendToMatchmakingBecauseAdFailed());
        }
        adIsReadyToBeShown() {
          (console.log("[Preroll] Ad started"),
            this.removeLoadingAdBackground(),
            clearTimeout(this.instreamAdStartTimeout),
            (this.instreamAdStartTimeout = void 0));
        }
        startMatchmakingVideoAd() {
          var e;
          (c.sendAdsPerformanceData(r.k0.VideoAdsCalled),
            void 0 !==
            (null === (e = window.viAPItag) || void 0 === e
              ? void 0
              : e.initPowerInstream)
              ? this.startInstreamAd(window.viAPItag.initPowerInstream)
              : (c.sendMatchmakingRequestAfterAd(),
                c.sendAdsPerformanceData(r.k0.VideoAdsBlocked)));
        }
        startInstreamAd(e) {
          ((this.loadingAdBackground = c.buildLoadingAdBackground(
            document.body,
          )),
            (this.instreamAdStartTimeout = setTimeout(() => {
              (console.log(
                "[Preroll] Ad timeout occurred. Sending to matchmaking now",
              ),
                this.sendToMatchmakingBecauseAdFailed());
            }, this.INSTREAM_AD_START_TIMEOUT)),
            e(n.r.vliPrerollId));
        }
        sendToMatchmakingBecauseAdFailed() {
          (clearTimeout(this.INSTREAM_AD_START_TIMEOUT),
            (this.instreamAdStartTimeout = void 0),
            this.removeLoadingAdBackground(),
            c.removeVLIPrerollBecauseAdFailed(),
            c.sendMatchmakingRequestAfterAd(),
            c.sendAdsPerformanceData(r.k0.VideoAdsNeverLoaded));
        }
        static sendAdsPerformanceData(e) {
          const t = { type: e, category: r.eX.AdsPerformance };
          o.CA.sendAnalyticEvent(t);
        }
        static buildLoadingAdBackground(e) {
          const t = (0, a.Le)(e, "game-reconnecting-overlay");
          return (
            (0, a.Le)(t, "loading-spinner"),
            (0, a.i5)(t, "game-reconnecting-text", {
              key: "strings:roomPage.loadingAd",
            }),
            t
          );
        }
        removeLoadingAdBackground() {
          var e;
          null === (e = this.loadingAdBackground) || void 0 === e || e.remove();
        }
        static removeVLIPrerollBecauseAdFailed() {
          const e = document.querySelector(
            `[data-ad-slot="${n.r.vliPrerollId}"]`,
          );
          null == e || e.remove();
        }
        constructor() {
          ((this.INSTREAM_AD_START_TIMEOUT = 7500),
            null != window.vitag &&
              (window.vitag.instreamConfig = {
                loadingText: "Loading advertisement..",
                hidden: () => this.userSkippedAd(),
                complete: () => this.userFinishedWatching(),
                error: () => this.adFailedToStart(),
                started: () => this.adIsReadyToBeShown(),
              }));
        }
      }
    },
    35496: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/player_highlight.0eed1c82cf5638070136.png";
    },
    35563: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/trade_counter_offer_after.7f57787e4124022d53e1.png";
    },
    35606: (e, t, s) => {
      "use strict";
      s.d(t, { n: () => r });
      var i = s(11776),
        n = s(83633);
      class r {
        initGameModeData(e) {
          const t = n.qq.getModeDataForMode(e);
          null != t && (this.gameModeData = t);
        }
        initPlayerControllerStates(e, t) {
          const s = new i.qF(e, t);
          this.players.push(s);
        }
        initMapState(e) {
          this.mapState = e;
        }
        hasOnlyOneHumanPlayer() {
          let e = 0;
          for (const t of this.players) t.isUser && (e += 1);
          return 1 == e;
        }
        constructor() {
          ((this.players = []),
            (this.mapState = new i.rP({
              tileHexStates: {},
              tileCornerStates: {},
              tileEdgeStates: {},
              portEdgeStates: {},
              fogTileGroupStates: {},
            })),
            (this.isPlayerTakingOffTurnAction = !1),
            (this.canResign = !1),
            (this.isGameOver = !1));
        }
      }
    },
    35700: (e, t, s) => {
      "use strict";
      s.d(t, { i: () => i });
      var i,
        n = s(63778);
      !(function (e) {
        var t;
        function s(e) {
          switch (e) {
            case 0:
              return "#328DC0";
            case 1:
              return "#c2e6f2";
            case 2:
              return "#5cc3e5";
            case 3:
              return "#2a748c";
            case 4:
              return "#263940";
            case 5:
              return "#177FDE";
            case 6:
              return "#1B446A";
            case 7:
              return "#1e90ff";
            case 8:
              return "#4c698b";
            case 9:
              return "#15324E";
            case 10:
              return "#F06800";
            case 16:
            case 64:
              return "#FFFFFF";
            case 17:
              return "#EBD300";
            case 11:
              return "#323232";
            case 12:
            case 49:
              return "#666666";
            case 13:
              return "#cccccc";
            case 14:
              return "#f8f8f8";
            case 15:
              return "#000003";
            case 19:
              return "#223697";
            case 18:
              return "#E27174";
            case 20:
              return "#62B95D";
            case 21:
              return "#E09742";
            case 22:
              return "#3e3e3e";
            case 23:
              return "#a86755";
            case 24:
              return "#848484";
            case 25:
              return "#c7ae61";
            case 27:
              return "#9D55AF";
            case 28:
              return "#256CA7";
            case 26:
              return "#9E9E9E";
            case 29:
              return "#F170CD";
            case 30:
              return "#48ff00";
            case 31:
              return "#cde7ca";
            case 32:
              return "#0bb000";
            case 33:
              return "#1A9118";
            case 34:
              return "#FFD8D9";
            case 35:
              return "#c00006";
            case 37:
              return "#46616E";
            case 38:
              return "#fffde1";
            case 36:
              return "#0967A6";
            case 39:
              return "#000000";
            case 40:
              return "#0A0A0A";
            case 41:
              return "#141414";
            case 42:
              return "#1F1F1F";
            case 43:
              return "#292929";
            case 44:
              return "#333333";
            case 45:
              return "#3D3D3D";
            case 46:
              return "#474747";
            case 47:
              return "#525252";
            case 48:
              return "#5C5C5C";
            case 50:
              return "#707070";
            case 51:
              return "#7A7A7A";
            case 52:
              return "#858585";
            case 53:
              return "#8F8F8F";
            case 54:
              return "#999999";
            case 55:
              return "#A3A3A3";
            case 56:
            case 65:
              return "#ADADAD";
            case 57:
              return "#B8B8B8";
            case 58:
              return "#C2C2C2";
            case 59:
              return "#CCCCCC";
            case 60:
              return "#D6D6D6";
            case 61:
              return "#E0E0E0";
            case 62:
              return "#EBEBEB";
            case 63:
              return "#F5F5F5";
          }
        }
        (((t = e.Color || (e.Color = {}))[(t.PrimaryBlue0 = 0)] =
          "PrimaryBlue0"),
          (t[(t.PrimaryBlue1 = 1)] = "PrimaryBlue1"),
          (t[(t.PrimaryBlue2 = 2)] = "PrimaryBlue2"),
          (t[(t.PrimaryBlue3 = 3)] = "PrimaryBlue3"),
          (t[(t.PrimaryBlue4 = 4)] = "PrimaryBlue4"),
          (t[(t.PrimaryBlue5 = 5)] = "PrimaryBlue5"),
          (t[(t.PrimaryBlue6 = 6)] = "PrimaryBlue6"),
          (t[(t.PrimaryBlue7 = 7)] = "PrimaryBlue7"),
          (t[(t.PrimaryBlue8 = 8)] = "PrimaryBlue8"),
          (t[(t.PrimaryBlue9 = 9)] = "PrimaryBlue9"),
          (t[(t.PrimaryOrange0 = 10)] = "PrimaryOrange0"),
          (t[(t.Gray0 = 11)] = "Gray0"),
          (t[(t.Gray1 = 12)] = "Gray1"),
          (t[(t.Gray2 = 13)] = "Gray2"),
          (t[(t.Gray3 = 14)] = "Gray3"),
          (t[(t.Gray4 = 15)] = "Gray4"),
          (t[(t.White = 16)] = "White"),
          (t[(t.PlayerGoldBgLight = 17)] = "PlayerGoldBgLight"),
          (t[(t.PlayerRedBgDark = 18)] = "PlayerRedBgDark"),
          (t[(t.PlayerBlueBgDark = 19)] = "PlayerBlueBgDark"),
          (t[(t.PlayerGreenBgDark = 20)] = "PlayerGreenBgDark"),
          (t[(t.PlayerOrangeBgDark = 21)] = "PlayerOrangeBgDark"),
          (t[(t.PlayerBlackBgDark = 22)] = "PlayerBlackBgDark"),
          (t[(t.PlayerBronzeBgDark = 23)] = "PlayerBronzeBgDark"),
          (t[(t.PlayerSilverBgDark = 24)] = "PlayerSilverBgDark"),
          (t[(t.PlayerGoldBgDark = 25)] = "PlayerGoldBgDark"),
          (t[(t.PlayerWhiteDark = 26)] = "PlayerWhiteDark"),
          (t[(t.PlayerPurpleDark = 27)] = "PlayerPurpleDark"),
          (t[(t.PlayerMyscticBlueDark = 28)] = "PlayerMyscticBlueDark"),
          (t[(t.PlayerPinkDark = 29)] = "PlayerPinkDark"),
          (t[(t.GreenLink = 30)] = "GreenLink"),
          (t[(t.GreenLight = 31)] = "GreenLight"),
          (t[(t.GreenDark = 32)] = "GreenDark"),
          (t[(t.GreenStatusCheckmark = 33)] = "GreenStatusCheckmark"),
          (t[(t.RedLight = 34)] = "RedLight"),
          (t[(t.RedDark = 35)] = "RedDark"),
          (t[(t.Sea = 36)] = "Sea"),
          (t[(t.DarkGrey = 37)] = "DarkGrey"),
          (t[(t.OffWhite = 38)] = "OffWhite"),
          (t[(t.GrayScale0 = 39)] = "GrayScale0"),
          (t[(t.GrayScale1 = 40)] = "GrayScale1"),
          (t[(t.GrayScale2 = 41)] = "GrayScale2"),
          (t[(t.GrayScale3 = 42)] = "GrayScale3"),
          (t[(t.GrayScale4 = 43)] = "GrayScale4"),
          (t[(t.GrayScale5 = 44)] = "GrayScale5"),
          (t[(t.GrayScale6 = 45)] = "GrayScale6"),
          (t[(t.GrayScale7 = 46)] = "GrayScale7"),
          (t[(t.GrayScale8 = 47)] = "GrayScale8"),
          (t[(t.GrayScale9 = 48)] = "GrayScale9"),
          (t[(t.GrayScale10 = 49)] = "GrayScale10"),
          (t[(t.GrayScale11 = 50)] = "GrayScale11"),
          (t[(t.GrayScale12 = 51)] = "GrayScale12"),
          (t[(t.GrayScale13 = 52)] = "GrayScale13"),
          (t[(t.GrayScale14 = 53)] = "GrayScale14"),
          (t[(t.GrayScale15 = 54)] = "GrayScale15"),
          (t[(t.GrayScale16 = 55)] = "GrayScale16"),
          (t[(t.GrayScale17 = 56)] = "GrayScale17"),
          (t[(t.GrayScale18 = 57)] = "GrayScale18"),
          (t[(t.GrayScale19 = 58)] = "GrayScale19"),
          (t[(t.GrayScale20 = 59)] = "GrayScale20"),
          (t[(t.GrayScale21 = 60)] = "GrayScale21"),
          (t[(t.GrayScale22 = 61)] = "GrayScale22"),
          (t[(t.GrayScale23 = 62)] = "GrayScale23"),
          (t[(t.GrayScale24 = 63)] = "GrayScale24"),
          (t[(t.GrayScale25 = 64)] = "GrayScale25"),
          (t[(t.CardViewFadedTint = 65)] = "CardViewFadedTint"),
          (e.getColor = s),
          (e.getColorHexValue = function (e) {
            const t = s(e);
            return parseInt(t.slice(1), 16);
          }),
          (e.getPlayerBGDarkHash = function (e) {
            switch (e) {
              case n.DS.Blue:
                return s(19);
              case n.DS.Red:
                return s(18);
              case n.DS.Orange:
                return s(21);
              case n.DS.Green:
                return s(20);
              case n.DS.Black:
                return s(22);
              case n.DS.Bronze:
                return s(23);
              case n.DS.Silver:
                return s(24);
              case n.DS.Gold:
                return s(25);
              case n.DS.MysticBlue:
                return s(28);
              case n.DS.White:
                return s(26);
              case n.DS.Purple:
                return s(27);
              case n.DS.Pink:
                return s(29);
              case n.DS.None:
                return s(16);
            }
          }),
          (e.getPlayerBGDarkHashForMobile = function (e) {
            switch (e) {
              case n.DS.Blue:
                return "#2F8EFF";
              case n.DS.Red:
                return "#FF4D52";
              case n.DS.Orange:
                return "#FF6C0A";
              case n.DS.Green:
                return "#05BF00";
              case n.DS.Black:
                return "#808080";
              case n.DS.Bronze:
                return "#B94E00";
              case n.DS.Silver:
                return "#BCBEC0";
              case n.DS.Gold:
                return "#F9D900";
              case n.DS.MysticBlue:
                return "#80DBFF";
              case n.DS.White:
                return "#FFFFFF";
              case n.DS.Purple:
                return "#C067FF";
              case n.DS.Pink:
                return s(29);
              case n.DS.None:
                return "#FFFFFF";
            }
          }),
          (e.getLighterGradientOfPlayerColor = function (e) {
            switch (e) {
              case n.DS.Blue:
                return "#01A9FF";
              case n.DS.Red:
                return "#ED3437";
              case n.DS.Orange:
                return "#FF963B";
              case n.DS.Green:
                return "#7EC985";
              case n.DS.Bronze:
                return "#DD7B62";
              case n.DS.Silver:
                return "#D4D4D4";
              case n.DS.Gold:
                return "#EBD300";
              case n.DS.Black:
                return "#7C7D80";
              case n.DS.Purple:
                return "#D04DF7";
              case n.DS.MysticBlue:
                return "#0C7DBC";
              case n.DS.White:
                return "#CFEEF2";
              case n.DS.Pink:
                return "pink";
              case n.DS.None:
                return "#000000";
            }
          }),
          (e.getDarkerGradientOfPlayerColor = function (e) {
            switch (e) {
              case n.DS.Blue:
                return "#1216CE";
              case n.DS.Red:
                return "#B90101";
              case n.DS.Orange:
                return "#DE6800";
              case n.DS.Green:
                return "#18A101";
              case n.DS.Bronze:
                return "#9B3918";
              case n.DS.Silver:
                return "#686868";
              case n.DS.Gold:
                return "#F37B24";
              case n.DS.Black:
                return "#464547";
              case n.DS.Purple:
                return "#7553AD";
              case n.DS.MysticBlue:
                return "#53C1FF";
              case n.DS.White:
                return "#88ADAC";
              case n.DS.Pink:
                return "pink";
              case n.DS.None:
                return "#000000";
            }
          }));
      })(i || (i = {}));
    },
    35742: (e, t, s) => {
      "use strict";
      s.d(t, { u: () => n });
      var i = s(72589);
      class n {
        handleUrlHash() {
          const e = window.location.hash,
            t = n.getSectionFromHash(e);
          this.scrollToSection(t);
        }
        onSidebarClick(e) {
          if ((e.preventDefault(), null === e.target)) return;
          if (!(e.target instanceof HTMLElement)) return;
          const t = e.target.closest("a");
          if (null === t) return;
          const s = n.getSectionFromHash(t.href);
          this.scrollToSection(s);
        }
        static getSectionFromHash(e) {
          const t = e.split("#")[1];
          return document.getElementById(t);
        }
        onContentScroll() {
          if (null == this.contentDiv) return;
          const e = Array.from(this.contentDiv.children),
            t = this.contentDiv.scrollHeight - this.viewportDiv.clientHeight,
            s = e.filter((e) => {
              const s = getComputedStyle(e);
              if ("none" === s.display) return !1;
              if ("hidden" === s.visibility) return !1;
              return (
                (e.offsetTop / this.contentDiv.scrollHeight) * t <
                this.viewportDiv.scrollTop
              );
            }),
            i = s[s.length - 1];
          if (void 0 === i) return;
          if ("" === i.id) return;
          const n = this.sidebarDiv.querySelector(`a[href="#${i.id}"]`);
          null !== n && this.setCurrentSectionLink(n);
        }
        setCurrentSectionLink(e) {
          this.currentSectionLink !== e &&
            (this.currentSectionLink &&
              this.currentSectionLink.classList.remove(
                this.currentSectionLinkClass,
              ),
            (this.currentSectionLink = e),
            this.currentSectionLink.classList.add(
              this.currentSectionLinkClass,
            ));
        }
        scrollToSection(e) {
          if (null == e) return;
          const t =
              this.contentDiv.scrollHeight - this.viewportDiv.clientHeight,
            s = (e.offsetTop / this.contentDiv.scrollHeight) * t,
            n = Math.floor(
              s + (e.scrollHeight / this.contentDiv.scrollHeight) * t,
            ),
            r = i.c.clamp(e.offsetTop, s, n);
          this.viewportDiv.scroll(0, r);
        }
        selectFirstLink() {
          if (null == this.sidebarDiv) return;
          const e = this.sidebarDiv.querySelector("a");
          null !== e && this.setCurrentSectionLink(e);
        }
        constructor(e, t, s = e, i = "active") {
          ((this.currentSectionLink = null),
            (this.contentDiv = e),
            (this.sidebarDiv = t),
            (this.viewportDiv = s),
            (this.currentSectionLinkClass = i),
            this.handleUrlHash(),
            this.onContentScroll(),
            null === this.currentSectionLink && this.selectFirstLink());
        }
      }
    },
    35813: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/stat_merchant.e3be63424198b30e3bf7.svg";
    },
    36412: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_gift.5239cfd544f410556f16.png";
    },
    36526: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/ship_move_orange.8a0cf1fbbde4602b79e3.svg";
    },
    36759: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_arrow_down_black.b480f5b945738e3154dd.svg";
    },
    36919: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/card_progress_science_medicine.ebdff649149830a074b5.svg";
    },
    37099: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/card_progress_back.999e2100ec85897f785f.svg";
    },
    37145: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_rewind_start.8d1d46525d9109204730.svg";
    },
    37183: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/card_lumber.cf22f8083cf89c2a29e7.svg";
    },
    37207: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/shifting_content_before.29709accd4ea1b0c499a.png";
    },
    37385: (e, t, s) => {
      "use strict";
      s.d(t, { j: () => h });
      var i = s(9029),
        n = s(20751),
        r = s(78311),
        o = s(18514),
        a = s(655),
        c = s(32398),
        l = s(31166),
        d = s(18587),
        u = s(81888);
      class h {
        async updateReferralProgram(e) {
          if (!(await h.isReferralProgramActive(e))) return;
          (null != this.referralSection &&
            this.referralSection.classList.remove("hidden"),
            null != this.referralSidebarButton &&
              this.referralSidebarButton.classList.remove("hidden"),
            null != this.referralTabMobile &&
              this.referralTabMobile.classList.remove("hidden"));
          const t = await h.getUserReferralCount();
          (this.referralInfoDiv.replaceChildren(),
            this.referralItemsDiv.replaceChildren(),
            (0, i.Wr)(
              this.referralInfoDiv,
              {
                key: "strings:storePage.sections.referral.description",
                options: {
                  referralCount: t,
                  context: 1 == t ? "one" : "other",
                },
              },
              "",
              "",
            ),
            this.loadReferralProgramDetails(t));
        }
        static async isReferralProgramActive(e = !0) {
          if (d.r.isUserOnDiscord) return !0;
          if (h.isReferralProgramAssigned())
            return h.isUserInActiveTestGroup(u._.abTests.REFERRAL_PROGRAM);
          if (!e) return !1;
          const t = await h.assignReferralProgramABTest();
          return h.isUserInActiveTestGroup(t);
        }
        static isReferralProgramAssigned() {
          return null != u._.abTests.REFERRAL_PROGRAM;
        }
        static isUserInActiveTestGroup(e) {
          return "REFERRAL_PROGRAM_ACTIVE" == e;
        }
        static async assignReferralProgramABTest() {
          var e;
          const t = await a.m.postRequestWhenReady(
            c.l.apiAssignABTest(),
            void 0,
            { abTestCategory: "REFERRAL_PROGRAM" },
          );
          return null == t || null === (e = t.json) || void 0 === e
            ? void 0
            : e.abTestId;
        }
        static async getUserReferralCount() {
          var e, t;
          if (
            null ==
            (null === (e = u._.userState) || void 0 === e ? void 0 : e.id)
          )
            return 0;
          const s = await a.m.getRequestHandler(
            c.l.apiGetUserReferralCount(),
            void 0,
          );
          var i;
          return null !==
            (i =
              null == s || null === (t = s.json) || void 0 === t
                ? void 0
                : t.referralCount) && void 0 !== i
            ? i
            : 0;
        }
        createBaseView() {
          const e = (0, i.Le)(this.referralItemsDiv, "store_page_item"),
            t = (0, i.Le)(e, "store_page_item_body");
          return {
            contentDiv: e,
            headerDiv: (0, i.Le)(e, "store_page_item_header"),
            bodyDiv: t,
          };
        }
        static createButton(e, t, s) {
          const n = (0, i.cE)(
            e,
            "#",
            { key: "strings:colonistCommon.utils.emptyString" },
            "store_button",
          );
          h.isRewardAlreadyUnlocked(s, t.referralCount)
            ? h.markAsUnlocked(n, e)
            : h.markAsToBeUnlocked(n, t.referralCount);
          return n;
        }
        static createTitleAndImage(e, t, s) {
          const n = (0, i.n8)(e, s.name, "", "", "H3");
          d.r.isUserOnMobile || (0, i.zO)(n, r.am.InfoIcon);
          return (0, i.zO)(t, s.image);
        }
        static createDescription(e, t) {
          const s = (0, i.Wr)(
            e,
            { key: "strings:colonistCommon.utils.emptyString" },
            "",
          );
          return (
            (s.style.display = "none"),
            (0, i.RH)(s, {
              key: "strings:colonistCommon.utils.#buffer",
              options: { value: h.loadReferralItemDescription(t) },
            }),
            s
          );
        }
        addReferralButtonOnClickBehavior(e, t, s) {
          (0, i.G0)(
            e,
            () => {
              h.isRewardAlreadyUnlocked(t, s.referralCount) ||
                (l.WC.play(l.hc.Click),
                this.storeBodyController.onInviteFriendsButtonClick(s, t));
            },
            !0,
          );
        }
        static loadReferralItemDescription(e) {
          let t =
            o.a7.t("strings:storePage.sections.referral.details", {
              context: 1 === e.possibleRewards.length ? "one" : "many",
            }) + "<br>";
          return (
            e.possibleRewards.forEach((e) => {
              t += `<br>- ${o.a7.t(e.name.key)}`;
            }),
            t
          );
        }
        static markAsToBeUnlocked(e, t) {
          (0, i.Wr)(
            e,
            {
              key: "strings:storePage.sections.referral.action.toBeUnlocked",
              options: { referralCount: t, context: 1 == t ? "one" : "other" },
            },
            "",
            "",
          );
        }
        static markAsUnlocked(e, t) {
          ((0, i.Wr)(
            e,
            { key: "strings:storePage.sections.referral.action.unlocked" },
            "",
            "",
          ),
            (t.className = "store_page_item item_owned"));
        }
        static isRewardAlreadyUnlocked(e, t) {
          return e >= t;
        }
        static displayDescriptionInsteadOfImage(e, t) {
          ((e.style.display = "block"), (t.style.display = "none"));
        }
        static displayImageInsteadOfDescription(e, t) {
          ((e.style.display = "none"), (t.style.display = "block"));
        }
        static isDescriptionAlreadyDisplayed(e) {
          return "block" == e.style.display;
        }
        static isClickOnTheItem(e, t) {
          return t.contains(e.target);
        }
        loadReferralProgramDetails(e) {
          n.U.referralRewardLevels.forEach((t) => {
            const {
                contentDiv: s,
                headerDiv: i,
                bodyDiv: n,
              } = this.createBaseView(),
              r = h.createButton(s, t, e),
              o = h.createTitleAndImage(i, n, t),
              a = h.createDescription(n, t),
              c = d.r.isUserOnMobile ? n : s;
            (this.storeBodyController.setupReferralRewardClickHandler(
              c,
              a,
              o,
              t,
            ),
              this.addReferralButtonOnClickBehavior(r, e, t));
          });
        }
        constructor(e) {
          var t;
          ((this.storeBodyController = e),
            (this.referralSection =
              null !== (t = document.getElementById("referrals")) &&
              void 0 !== t
                ? t
                : document.querySelector(".m-store-referral")),
            (this.referralItemsDiv = document.getElementById(
              "store_page_referral_items",
            )),
            (this.referralInfoDiv = document.getElementById(
              "store_page_referral_info",
            )),
            (this.referralSidebarButton = document.getElementById(
              "referral_sidebar_button",
            )),
            (this.referralTabMobile = document.getElementById(
              "m-store-button-rewards",
            )));
        }
      }
    },
    37414: (e, t, s) => {
      "use strict";
      e.exports =
        s.p +
        "assets/dang-update-payment-successful-popup-after.cc463def9a7a22d0af45.png";
    },
    37642: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/dice_event_trade.99431534a1e93bf1516a.svg";
    },
    37864: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_sound_off.8c9d6be907f2f45125b7.svg";
    },
    38271: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/sfx_click.9c3152cb7a312c82805e.mp3";
    },
    38493: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/city_wall_white.8224311ef29d6d210922.svg";
    },
    38774: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_moderator.72852cec760a260c5969.svg";
    },
    38841: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/stat_rolling_loss.304df3d11c6bd321cee9.svg";
    },
    38853: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/settlement_purple.af6c0adb105271efbfb5.svg";
    },
    38854: (e, t, s) => {
      "use strict";
      s.d(t, { M: () => o });
      var i = s(9029),
        n = s(78311);
      class r {
        updateInteractability(e) {
          (this.setView(e),
            this.shouldDisableOnClick(e)
              ? (0, i.G0)(this.container, () => {})
              : this.shouldShowInfoOnClick(e)
                ? this.setInfoOnClick()
                : this.setOnClick());
        }
        init() {
          (this.setOnClick(), this.updateCellView());
        }
        updateCellView() {
          (this.available || this.setUnavailable(),
            this.selected && this.setSelected(),
            this.bannerText && this.createBanner(this.bannerText));
        }
        createBanner(e) {
          const t = (0, i.Le)(this.container, "badge-green badge-sm");
          (0, i.Wr)(t, e, "");
        }
        setView(e) {
          this.container.classList.toggle("guest-view", e);
        }
        setUnavailable() {
          (this.container.classList.add("unavailable"),
            (0, i.zO)(this.container, n.am.Lock, "item-scroll-cell-lock"),
            this.canToggle && this.setInfoOnClick());
        }
        setSelected() {
          this.container.classList.add("selected");
        }
        shouldDisableOnClick(e) {
          return !(!e || !this.canToggle);
        }
        shouldShowInfoOnClick(e) {
          return (
            !!e ||
            ((!this.canToggle || !this.available) &&
              (!(!this.canToggle || this.available) || !!this.selected))
          );
        }
        setOnClick() {
          (0, i.G0)(this.container, this.clickAction);
        }
        setInfoOnClick() {
          null != this.infoAction
            ? (0, i.G0)(this.container, this.infoAction)
            : (0, i.G0)(this.container, () => {});
        }
        constructor(e, t) {
          ((this.container = (0, i.Le)(e, "item-scroll-cell")),
            (this.name = t.name));
          const s = (0, i.zO)(
              this.container,
              t.image,
              "item-scroll-cell-image",
            ),
            r = (0, i.Wr)(this.container, this.name, "item-scroll-cell-text");
          var o, a;
          ((s.draggable = !1),
            r.textContent && (r.textContent = r.textContent.replace(/-/g, "")),
            t.showInfoIcon &&
              (0, i.zO)(
                this.container,
                n.am.InfoIcon,
                "item-scroll-cell-info-icon",
              ),
            (this.available = t.available),
            (this.selected = t.selected),
            (this.canToggle = null !== (o = t.canToggle) && void 0 !== o && o),
            (this.bannerText =
              null !== (a = t.bannerText) && void 0 !== a ? a : void 0),
            (this.clickAction = t.clickAction),
            (this.infoAction = t.infoAction),
            this.init());
        }
      }
      class o {
        update(e) {
          (this.clear(),
            this.generateItems(e),
            this.updateArrowVisibility(),
            this.scrollable && this.scrollToSelectedItem());
        }
        updateInteractabilityOfElements(e) {
          this.items.forEach((t) => {
            t.updateInteractability(e);
          });
        }
        resetScroll() {
          (this.scrollable && (this.scrollWrapper.scrollLeft = 0),
            this.updateArrowVisibility());
        }
        initScrolling() {
          if (this.scrollable)
            return (
              (0, i.G0)(this.leftArrow, () => this.scroll(-this.scrollAmount)),
              (0, i.G0)(this.rightArrow, () => this.scroll(this.scrollAmount)),
              void (this.scrollWrapper.onscroll = () =>
                this.updateArrowVisibility())
            );
          ((this.leftArrow.style.display = "none"),
            (this.rightArrow.style.display = "none"),
            this.scrollWrapper.classList.add("no-scroll"));
        }
        scroll(e) {
          if (!this.scrollable) return;
          const t = this.scrollWrapper.scrollLeft,
            s = this.getMaxScrollPosition(),
            i = Math.max(0, Math.min(s, t + e));
          this.scrollWrapper.scrollTo({ left: i, behavior: "smooth" });
        }
        getMaxScrollPosition() {
          return Math.max(
            0,
            this.scrollWrapper.scrollWidth - this.scrollWrapper.clientWidth,
          );
        }
        updateArrowVisibility() {
          if (!this.scrollable)
            return (
              (this.leftArrow.style.display = "none"),
              void (this.rightArrow.style.display = "none")
            );
          const {
              scrollLeft: e,
              scrollWidth: t,
              clientWidth: s,
            } = this.scrollWrapper,
            i = e > 1,
            n = e < t - s - 1;
          ((this.leftArrow.style.display = i ? "block" : "none"),
            (this.rightArrow.style.display = n ? "block" : "none"));
        }
        generateItems(e) {
          const t = [...e];
          t.sort((e, t) =>
            e.available === t.available ? 0 : e.available ? -1 : 1,
          );
          const s = t.find((e) => void 0 !== e.bannerText);
          if (s) {
            const e = t.indexOf(s);
            (t.splice(e, 1), t.splice(1, 0, s));
          }
          (t.forEach((e) => {
            const t = new r(this.scrollContainer, e);
            this.items.push(t);
          }),
            this.scrollable && this.scrollToSelectedItem());
        }
        scrollToSelectedItem() {
          this.scrollable &&
            requestAnimationFrame(() => {
              const e = this.items.find((e) =>
                e.container.classList.contains("selected"),
              );
              if (!e) return;
              const t = e.container,
                s = t.offsetWidth,
                i = this.scrollWrapper.clientWidth,
                n = this.scrollWrapper.scrollLeft,
                r = t.offsetLeft;
              if (r >= n && r + s <= n + i) return;
              const o = r - i / 2 + s / 2;
              this.scrollWrapper.scrollTo({
                left: Math.max(0, Math.min(o, this.getMaxScrollPosition())),
                behavior: "smooth",
              });
            });
        }
        clear() {
          ((0, i.RH)(this.scrollContainer, {
            key: "strings:colonistCommon.utils.emptyString",
          }),
            (this.items.length = 0));
        }
        constructor(e, t, s = !0) {
          ((this.items = []),
            (this.scrollAmount = 500),
            (this.scrollWrapper = e.querySelector(".item-scroll-wrapper")),
            (this.scrollContainer = this.scrollWrapper.querySelector(
              ".item-scroll-container",
            )),
            (this.leftArrow = e.querySelector(".scroll-arrow.left-arrow")),
            (this.rightArrow = e.querySelector(".scroll-arrow.right-arrow")),
            (this.scrollable = s),
            this.initScrolling(),
            this.generateItems(t),
            this.updateArrowVisibility());
        }
      }
    },
    38910: (e, t, s) => {
      "use strict";
      s.d(t, { X: () => a });
      var i = s(78311),
        n = s(9029),
        r = s(76092),
        o = s(19966);
      class a {
        createSidebarButton() {
          this.topNavigationButton = (0, n.Le)(
            this.sidebarContainer,
            "store-gift-sidebar-button",
          );
          const e = this.sidebarContainer.children.length;
          ((this.tabOrderNumberContainer = (0, n.Le)(
            this.topNavigationButton,
            "store-gift-sidebar-order-number",
          )),
            (this.tabOrderNumber = (0, n.Wr)(
              this.tabOrderNumberContainer,
              {
                key: "strings:colonistCommon.utils.#buffer",
                options: { value: `${e}` },
              },
              "",
            )),
            (this.checkmark = (0, n.zO)(
              this.tabOrderNumberContainer,
              i.am.CheckMark,
              "store-gift-sidebar-checkmark",
            )),
            this.checkmark.classList.add("hidden"),
            (this.selectionTitle = (0, n.Le)(
              this.topNavigationButton,
              "store-gift-sidebar-title",
            )));
        }
        select() {
          var e;
          for (const e of this.parentDiv.children) e.classList.add("hidden");
          for (const e of this.sidebarContainer.children)
            e.classList.remove("selected");
          (this.topNavigationButton.classList.add("selected"),
            null === (e = this.titleAndContentContainer) ||
              void 0 === e ||
              e.classList.remove("hidden"));
        }
        makePageFirst() {
          (this.parentDiv.prepend(this.titleAndContentContainer),
            this.sidebarContainer.prepend(this.topNavigationButton));
          let e = 1;
          for (const t of this.sidebarContainer.children)
            if (t.classList.contains("store-gift-sidebar-button")) {
              const s = t.querySelector(".store-gift-sidebar-order-number p");
              (s && (s.textContent = `${e}`), (e += 1));
            }
        }
        selectNextPage() {
          (a.sendGiftFlowAnalytics(r.tV.SuccessfulPageCompletion),
            this.titleAndContentContainer.classList.add("hidden"),
            this.topNavigationButton.classList.remove("selected"),
            this.markAsCompleted(!0));
          const e = this.titleAndContentContainer.nextElementSibling,
            t = this.topNavigationButton.nextElementSibling;
          (null == e || e.classList.remove("hidden"),
            null == t || t.classList.add("selected"));
        }
        markAsCompleted(e) {
          e
            ? (this.tabOrderNumberContainer.classList.add("completed"),
              this.tabOrderNumber.classList.add("hidden"),
              this.checkmark.classList.remove("hidden"))
            : (this.tabOrderNumberContainer.classList.remove("completed"),
              this.tabOrderNumber.classList.remove("hidden"),
              this.checkmark.classList.add("hidden"));
        }
        enableNextButton() {
          var e;
          null === (e = this.mainCTAButton) ||
            void 0 === e ||
            e.classList.remove("disabled");
        }
        disableNextButton() {
          var e;
          null === (e = this.mainCTAButton) ||
            void 0 === e ||
            e.classList.add("disabled");
        }
        createPageContent() {
          ((this.titleAndContentContainer = (0, n.Le)(
            this.parentDiv,
            "store-gift-page-container",
          )),
            (this.pageTitle = (0, n.Le)(
              this.titleAndContentContainer,
              "store-gift-page-title",
            )));
          const e = (0, n.zO)(this.pageTitle, i.am.LeftArrow);
          ((0, n.G0)(e, () => this.selectPreviousPage()),
            (this.pageContainer = (0, n.Le)(
              this.titleAndContentContainer,
              "store-gift-page-content",
            )));
        }
        createNextButton() {
          const e = (0, n.Le)(
            this.pageContainer,
            "store-gift-overlay-main-cta-button",
          );
          return (
            (0, n.Wr)(
              e,
              {
                key: "strings:storePage.sections.giftOverlay.recipientSelection.next",
              },
              "",
            ),
            (0, n.G0)(e, () => {
              e.classList.contains("disabled") || this.selectNextPage();
            }),
            e.classList.add("disabled"),
            e
          );
        }
        createCheckoutButton() {
          const e = (0, n.Le)(
            this.pageContainer,
            "store-gift-overlay-main-cta-button",
          );
          return (
            (0, n.Wr)(e, { key: "strings:storePage.checkout.checkout" }, ""),
            (0, n.G0)(e, () => {
              e.classList.contains("disabled") || this.checkoutAction();
            }),
            e
          );
        }
        selectPreviousPage() {
          var e;
          const t = this.titleAndContentContainer.previousElementSibling,
            s = this.topNavigationButton.previousElementSibling;
          if (!t || !s)
            return null === (e = this.hideGiftOverlayAction) || void 0 === e
              ? void 0
              : e.call(this);
          (this.titleAndContentContainer.classList.add("hidden"),
            this.topNavigationButton.classList.remove("selected"),
            null == t || t.classList.remove("hidden"),
            null == s || s.classList.add("selected"));
        }
        static sendGiftFlowAnalytics(e) {
          const t = {
            type: r.k0.GiftingFlowAnalytic,
            category: r.eX.GiftMembershipOverlay,
            floatValue: e,
          };
          o.CA.sendAnalyticEvent(t);
        }
        constructor(e, t, s, i) {
          ((this.parentDiv = e),
            (this.hideGiftOverlayAction = s),
            (this.sidebarContainer = t),
            this.createSidebarButton(),
            this.createPageContent(),
            (0, n.G0)(this.topNavigationButton, () => this.select()),
            (this.checkoutAction = i));
        }
      }
    },
    39139: (e, t, s) => {
      "use strict";
      s.d(t, { W: () => S, E: () => k });
      var i = s(76092),
        n = s(655),
        r = s(32398),
        o = s(41931),
        a = s(9029),
        c = s(95176);
      const l = s.p + "assets/star.558d5200fbdda73a6465.svg";
      class d extends c.y {
        show() {
          (super.show(),
            this.body.classList.add("popup-feedback-form-body"),
            this.createStars());
        }
        createStars() {
          const e = (0, a.Le)(this.body, "popup-feedback-form-stars-container"),
            t = Array.from({ length: S }, () => d.createStar(e));
          (this.addStarsClickListeners(t),
            d.animateStarsOnHover(t),
            (e.onmouseout = () => d.resetStars(t)));
        }
        addStarsClickListeners(e) {
          for (const [t, s] of e.entries())
            (0, a.G0)(s, () => {
              (this.feedbackFormController.setFormData({
                ...this.feedbackFormController.formData,
                rate: t + 1,
              }),
                this.feedbackFormController.nextStep());
            });
        }
        static animateStarsOnHover(e) {
          for (const [t, s] of e.entries())
            s.onmouseover = () => {
              (d.resetStars(e),
                e
                  .slice(0, t + 1)
                  .forEach((e) => (e.style.filter = "saturate(1)")));
            };
        }
        static resetStars(e) {
          e.forEach((e) => (e.style.filter = "saturate(0.1)"));
        }
        static createStar(e, t = !1, s = !0) {
          const i = (0, a.WL)(
            e,
            l,
            { key: "strings:colonistCommon.utils.emptyString" },
            "popup-feedback-form-star-image",
          );
          return (
            i.classList.toggle("popup-feedback-form-star-image-small", t),
            i.classList.toggle("popup-feedback-form-star-image-clickable", s),
            i
          );
        }
        constructor(e) {
          (super(
            { key: "strings:popups.feedbackForm.title" },
            { key: "strings:popups.feedbackForm.body" },
            () => {},
            () => {},
            !0,
            { showXonHeader: !0, showXButton: !1, showCheckButton: !1 },
          ),
            (this.feedbackFormController = e));
        }
      }
      var u = s(18514),
        h = s(81888);
      class p extends c.y {
        show() {
          var e;
          (super.show(),
            (this.rating =
              null !== (e = this.feedbackFormController.getRating()) &&
              void 0 !== e
                ? e
                : 0),
            this.removeXButton(),
            this.changeCheckButtonText({
              key: "strings:popups.feedbackForm.submit",
            }),
            this.header.classList.add("popup-feedback-form-body"),
            (this.formContainer = (0, a.gX)(
              this.body,
              "popup-feedback-form-body",
            )),
            this.createSmallStars(),
            this.createTextarea(),
            this.createEmailField(),
            (this.formContainer.onsubmit = (e) => {
              (e.preventDefault(),
                this.feedbackFormController.setFormData({
                  ...this.feedbackFormController.formData,
                  skipped: !1,
                }),
                this.feedbackFormController.nextStep());
            }));
        }
        createTextarea() {
          const e = (0, a.aW)(
            this.formContainer,
            "popup-feedback-form-textarea",
          );
          ((e.placeholder = u.a7.t(
            "strings:popups.feedbackForm.examplePlaceholder",
          )),
            (e.maxLength = p.MAX_TEXT_LENGTH));
          const t = (0, a.i5)(
            this.formContainer,
            "popup-feedback-form-textarea-character-count",
            {
              key: "strings:colonistCommon.utils.#buffer",
              options: { value: "0/300", interpolation: { escapeValue: !1 } },
            },
          );
          (e.addEventListener("input", (e) => {
            const s = e.target;
            this.updateCharacterCount(s.value || "", t);
          }),
            this.setFocusStyles(e, !0));
        }
        updateCharacterCount(e, t) {
          ((t.innerText = `${e.length}/${p.MAX_TEXT_LENGTH}`),
            this.feedbackFormController.setFormData({
              ...this.feedbackFormController.formData,
              feedback: e,
            }));
        }
        createEmailField() {
          var e;
          if (
            null === (e = h._.userState) || void 0 === e ? void 0 : e.isLoggedIn
          )
            return;
          const t = (0, a.Le)(
              this.formContainer,
              "popup-feedback-form-email-field",
            ),
            s =
              ((0, a.i5)(t, "popup-feedback-form-email-label", {
                key: "strings:popups.feedbackForm.optionalEmail",
              }),
              (0, a.M3)(t, "popup-feedback-form-input "));
          ((s.placeholder = "colonistplayer@gmail.com"),
            (s.type = "email"),
            s.addEventListener("input", (e) => {
              const t = e.target.value || "";
              this.feedbackFormController.setFormData({
                ...this.feedbackFormController.formData,
                email: t,
              });
            }),
            this.setFocusStyles(s, !0));
        }
        createSmallStars() {
          const e = (0, a.Le)(
              this.header,
              "popup-feedback-form-stars-container",
            ),
            t = Array.from({ length: S }, () => d.createStar(e, !0, !0));
          (this.setStarsColorBasedOnRating(t), this.addStarsClickListeners(t));
        }
        setStarsColorBasedOnRating(e) {
          (e
            .slice(0, this.rating)
            .forEach((e) => (e.style.filter = "saturate(1)")),
            e
              .slice(this.rating)
              .forEach((e) => (e.style.filter = "saturate(0.1)")));
        }
        addStarsClickListeners(e) {
          for (const [t, s] of e.entries())
            (0, a.G0)(s, () => {
              (this.feedbackFormController.setFormData({
                ...this.feedbackFormController.formData,
                rate: t + 1,
              }),
                (this.rating = t + 1),
                this.setStarsColorBasedOnRating(e));
            });
        }
        constructor(e) {
          (super(
            { key: "strings:popups.feedbackForm.improve" },
            { key: "strings:colonistCommon.utils.emptyString" },
            () => {},
            () => {},
            !0,
          ),
            (this.feedbackFormController = e));
        }
      }
      p.MAX_TEXT_LENGTH = 300;
      var m = s(52955);
      class g {
        static validate(e) {
          const { rate: t, email: s, feedback: i } = e;
          if (null != t && (t < 1 || t > 5))
            throw new Error(
              "Tried to save feedback with invalid rate. Rate must be between 1 and 5",
            );
          if (null != s && !(0, m.mb)(s))
            throw new Error("Tried to save feedback with invalid email");
          if (null != i && i.length > 300)
            throw new Error(
              "Tried to save feedback with too many characters. Max is 300",
            );
          return !0;
        }
        static isEmpty(e) {
          const { rate: t, email: s, feedback: i } = e;
          return null == t && null == s && null == i;
        }
      }
      var f = s(19733),
        y = s(85801),
        b = s(66681),
        v = s(67908);
      const S = 5;
      class k {
        nextStep() {
          const e = this.feedbackFormPopups.shift();
          this.previousPopup &&
            ((this.previousPopup.removeAction = () => {}),
            this.previousPopup.removePopup());
          null == e
            ? this.submit()
            : (y.N.instance.disableKeyBindings(),
              e.show(),
              (e.removeAction = () => {
                this.submit();
              }),
              (this.previousPopup = e));
        }
        setFormData(e) {
          this.formData = e;
        }
        getRating() {
          return this.formData.rate;
        }
        async submit() {
          var e;
          if ((y.N.instance.enableKeyBindings(), this.shouldSubmit())) {
            try {
              g.validate(this.formData);
            } catch (e) {
              const t = () => {
                var e;
                null === (e = this.finishAction) ||
                  void 0 === e ||
                  e.call(this);
              };
              return void f.r.create(
                { key: "strings:popups.errors.general.title" },
                {
                  key: "strings:colonistCommon.utils.#buffer",
                  options: { value: e.message },
                },
                t,
                t,
                !1,
                { showXButton: !1 },
              );
            }
            (await n.m.postRequestHandler(
              r.l.apiFeedbackFormSubmit(),
              void 0,
              this.formData,
              "application/json",
            ),
              b.IH.eventController.sendEvent(
                this.formData.rate,
                v.o8.UIGameEventEnums.FeedbackFormSubmitted,
              ),
              null === (e = this.finishAction) || void 0 === e || e.call(this));
          } else {
            var t;
            null === (t = this.finishAction) || void 0 === t || t.call(this);
          }
        }
        shouldSubmit() {
          return (
            this.formData.location != i.e3.Homepage || !g.isEmpty(this.formData)
          );
        }
        constructor(e, t, s) {
          ((this.feedbackFormPopups = [new d(this), new p(this)]),
            (this.formData = {
              gameId: void 0,
              email: void 0,
              feedback: void 0,
              rate: void 0,
              skipped: !0,
              location: i.e3.Homepage,
            }),
            (this.finishAction = e),
            this.nextStep(),
            (this.formData.gameId = t),
            (this.formData.location = s),
            o.p.setLastFeedbackFormDate(new Date()));
        }
      }
    },
    39190: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/lobby_ad_valentines.934b641a1f8e90232f9b.png";
    },
    39285: (e, t, s) => {
      "use strict";
      e.exports =
        s.p +
        "assets/game_spritesheet_wait_icon_mobile.45e38d2a543d371c46df.json";
    },
    39384: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/sfx_leave_room.471d70cdfe103a4afdce.mp3";
    },
    39509: (e, t, s) => {
      "use strict";
      s.d(t, { o: () => a });
      var i = s(19733),
        n = s(66681),
        r = s(78311),
        o = s(29249);
      function a(e) {
        (e.onInvalidPlayerCountEncountered((e, t) => {
          const s = {
            key: t
              ? "strings:roomPage.notifications.failedToSelectPlayerCount"
              : "strings:roomPage.notifications.invalidGameModeSelected",
            options: { playerCount: e },
          };
          i.r.createSimplePopup(
            { key: "strings:popups.informationView.title" },
            s,
          );
        }),
          e.onFailedToReducePlayerCount(() => {
            n.OV.showNotification(r.am.Lightning, {
              key: "strings:roomPage.notifications.kickPlayersBeforeMakingRoomSmaller",
            });
          }),
          e.onFailedToStartGameBecauseServerIsUpdating(() => {
            n.OV.show(
              {
                key: "strings:colonistCommon.serverStatus.serverUpdating",
                options: { discordLink: r.gq.DISCORD_CHANNEL },
              },
              o.n.Information,
            );
          }),
          e.onFailedToStartGamePlayersNotReady((e) => {
            n.OV.showNotification(r.am.Lightning, {
              key: "strings:roomPage.notifications.usersNotReadyToPlay",
              options: { usernames: e, count: e.length },
            });
          }),
          e.onFailedToSelectUsedColor(() => {
            n.OV.showNotification(r.am.Lightning, {
              key: "strings:roomPage.notifications.colorNotAvailable",
            });
          }),
          e.onFailedToExecuteCommandGameStarting(() => {
            n.OV.showNotification(r.am.Lightning, {
              key: "strings:roomPage.notifications.gameStarting",
            });
          }),
          e.onFailedToSetGameSpeed(() => {
            n.OV.showNotification(r.am.Lightning, {
              key: "strings:roomPage.notifications.failedToSetGameSpeed",
            });
          }));
      }
    },
    39718: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/card_progress_trade_back.0198349da9287ab13eb1.svg";
    },
    40136: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/counter_offer_8p_before.db9ef8e58b0605caad02.png";
    },
    40625: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/lobby_ad_mobile_app.296095858302e95b9196.png";
    },
    40972: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/road_orange.07bb26b8c1e63dd438c7.svg";
    },
    41001: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/ios_dice_resolution_before.4ab5da07f57500fb0d2e.png";
    },
    41051: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/ab_gifting_easter.411c04fac4dd6c617ab6.png";
    },
    41114: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_highlight_circle.8a674aafcd661ef4f902.svg";
    },
    41157: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/sfx_metropolis_place.1be024ebfef9cda2091e.mp3";
    },
    41178: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_mummy.7990e9ab2e51f4c57a1b.svg";
    },
    41207: (e, t, s) => {
      "use strict";
      s.d(t, {
        $k: () => l,
        Gf: () => h,
        Ak: () => c,
        je: () => u,
        Tb: () => d,
      });
      var i = s(74710),
        n = s(78311);
      class r extends Error {
        constructor(e, t, s, i, n) {
          (super(t.key),
            (this.logError = !0),
            (this.title = e),
            (this.description = t),
            (this.httpStatusCode = s),
            (this.logSeverity = i),
            (this.redirectUrl = n));
        }
      }
      var o = s(69508),
        a = (function (e) {
          return (
            (e[(e.JL1 = 0)] = "JL1"),
            (e[(e.JL2 = 1)] = "JL2"),
            (e[(e.JL3 = 2)] = "JL3"),
            (e[(e.JL4 = 3)] = "JL4"),
            (e[(e.JL5 = 4)] = "JL5"),
            e
          );
        })({});
      class c extends r {
        static deserialize(e) {
          return new c(
            e.title,
            e.description,
            e.httpStatusCode,
            e.logSeverity,
            e.redirectUrl,
          );
        }
        constructor(e, t, s, i = a.JL2, n) {
          (super(e, t, s, i, n), (this.type = o.w.DefaultError));
        }
      }
      class l extends r {
        getDisplayMessage() {
          const e = this.description.key,
            t = {
              key: "strings:popups.errors.authError.standardErrorMessage",
              options: { email: n.gq.SUPPORT_EMAIL },
            };
          return (0, i.dN)(
            { key: "strings:popups.errors.authError.displayMessage" },
            { errorMessage: { key: e }, standardErrorMessage: t },
          );
        }
        static deserialize(e) {
          return new l(e.title, e.description, e.httpStatusCode);
        }
        constructor(e, t, s, i = a.JL4, n) {
          (super(e, t, s, i, n), (this.type = o.w.AuthError));
        }
      }
      class d extends r {
        static deserialize(e) {
          return new d(e.title, e.description, e.httpStatusCode);
        }
        constructor(e, t, s, i = a.JL2) {
          (super(e, t, s, i), (this.type = o.w.MustLogin));
        }
      }
      class u extends r {
        static deserialize(e) {
          return new u(e.title, e.description, e.httpStatusCode, e.logSeverity);
        }
        constructor(e, t, s, i = a.JL2) {
          (super(e, t, s, i), (this.type = o.w.MustBeMember));
        }
      }
      class h extends r {
        static deserialize(e) {
          return new h(e.title, e.description, e.httpStatusCode, e.logSeverity);
        }
        constructor(e, t, s, i = a.JL2) {
          (super(e, t, s, i), (this.type = o.w.Blocking));
        }
      }
    },
    41232: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/ab_join.70f9db255b78977dcc64.png";
    },
    41398: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/map_monopoly_islands_preview.bd3724a5cece164dd329.png";
    },
    41418: (e, t, s) => {
      "use strict";
      s.d(t, { q: () => a });
      var i = s(19966),
        n = s(76092),
        r = s(98487),
        o = s(78311);
      class a {
        createTrade(e) {
          this.send(r.$d.CreateTrade, e);
        }
        executeTrade(e, t) {
          const s = { tradeId: e, playerToExecuteTradeWith: t };
          this.send(r.$d.ExecuteTrade, s);
        }
        updateTradeResponse(e) {
          this.send(r.$d.UpdateTradeResponse, e);
        }
        toggleEmbargoAgainstPlayer(e) {
          this.send(r.$d.ToggledEmbargo, e);
        }
        clickedPassTurn() {
          this.send(r.$d.PassedTurn, !0);
        }
        clickedDice() {
          this.send(r.$d.ClickedDice, !0);
        }
        selectedTile(e) {
          this.send(r.$d.SelectedTile, e);
        }
        selectedTiles(e) {
          this.send(r.$d.SelectedTiles, e);
        }
        selectCards(e) {
          this.send(r.$d.SelectedCards, e);
        }
        selectCardsState(e) {
          this.send(r.$d.SelectedCardsState, e);
        }
        selectPlayer(e) {
          this.send(r.$d.SelectedPlayer, e);
        }
        selectedInitialPlacementIndex(e) {
          this.send(r.$d.SelectedInitialPlacementIndex, e);
        }
        buyDevCard() {
          this.send(r.$d.BuyDevelopmentCard, !0);
        }
        buildRoad() {
          this.send(r.$d.WantToBuildRoad, !0);
        }
        buildSettlement() {
          this.send(r.$d.WantToBuildSettlement, !0);
        }
        buildCity() {
          this.send(r.$d.WantToBuildCity, !0);
        }
        buildShip() {
          this.send(r.$d.WantToBuildShip, !0);
        }
        moveShip() {
          this.send(r.$d.WantToMoveShip, !0);
        }
        buildCityWall() {
          this.send(r.$d.WantToBuildCityWall, !0);
        }
        placeKnight() {
          this.send(r.$d.WantToPlaceKnight, !0);
        }
        upgradeKnight() {
          this.send(r.$d.WantToUpgradeKnight, !0);
        }
        activateKnight() {
          this.send(r.$d.WantToActivateKnight, !0);
        }
        takeKnightAction() {
          this.send(r.$d.WantToTakeKnightAction, !0);
        }
        confirmBuildRoad(e) {
          (this.sendConfirmBuildAnalytic(),
            this.send(r.$d.ConfirmBuildRoad, e));
        }
        confirmBuildRoadSkippingSelection(e) {
          (this.sendConfirmBuildAnalytic(),
            this.send(r.$d.ConfirmBuildRoadSkippingSelection, e));
        }
        confirmBuildSettlement(e) {
          (this.sendConfirmBuildAnalytic(),
            this.send(r.$d.ConfirmBuildSettlement, e));
        }
        confirmBuildSettlementSkippingSelection(e) {
          (this.sendConfirmBuildAnalytic(),
            this.send(r.$d.ConfirmBuildSettlementSkippingSelection, e));
        }
        confirmBuildCity(e) {
          (this.sendConfirmBuildAnalytic(),
            this.send(r.$d.ConfirmBuildCity, e));
        }
        confirmBuildCitySkippingSelection(e) {
          (this.sendConfirmBuildAnalytic(),
            this.send(r.$d.ConfirmBuildCitySkippingSelection, e));
        }
        confirmBuildShip(e) {
          (this.sendConfirmBuildAnalytic(),
            this.send(r.$d.ConfirmBuildShip, e));
        }
        confirmBuildShipSkippingSelection(e) {
          (this.sendConfirmBuildAnalytic(),
            this.send(r.$d.ConfirmBuildShipSkippingSelection, e));
        }
        selectedShipToMove(e) {
          (this.sendConfirmBuildAnalytic(),
            this.send(r.$d.SelectedShipToMove, e));
        }
        confirmMoveShip(e) {
          (this.sendConfirmBuildAnalytic(), this.send(r.$d.ConfirmMoveShip, e));
        }
        confirmRemoveRoad(e) {
          (this.sendConfirmBuildAnalytic(),
            this.send(r.$d.ConfirmRemoveRoad, e));
        }
        confirmBuildCityWall(e) {
          (this.sendConfirmBuildAnalytic(),
            this.send(r.$d.ConfirmBuildCityWall, e));
        }
        confirmBuildCityWallSkippingSelection(e) {
          (this.sendConfirmBuildAnalytic(),
            this.send(r.$d.ConfirmBuildCityWallSkippingSelection, e));
        }
        confirmPlaceKnight(e) {
          (this.sendConfirmBuildAnalytic(),
            this.send(r.$d.ConfirmPlaceKnight, e));
        }
        confirmPlaceKnightSkippingSelection(e) {
          (this.sendConfirmBuildAnalytic(),
            this.send(r.$d.ConfirmPlaceKnightSkippingSelection, e));
        }
        confirmUpgradeKnight(e) {
          (this.sendConfirmBuildAnalytic(),
            this.send(r.$d.ConfirmUpgradeKnight, e));
        }
        confirmUpgradeKnightSkippingSelection(e) {
          (this.sendConfirmBuildAnalytic(),
            this.send(r.$d.ConfirmUpgradeKnightSkippingSelection, e));
        }
        confirmActivateKnight(e) {
          (this.sendConfirmBuildAnalytic(),
            this.send(r.$d.ConfirmActivateKnight, e));
        }
        confirmActivateKnightSkippingSelection(e) {
          (this.sendConfirmBuildAnalytic(),
            this.send(r.$d.ConfirmActivateKnightSkippingSelection, e));
        }
        sendConfirmBuildAnalytic() {}
        async sendGameAnalyticOnce(e, t) {
          const s = { type: e, category: n.eX.Game, floatValue: t };
          await i.CA.sendAnalyticEventOnce(s);
        }
        confirmCityUpgrade(e) {
          this.send(r.$d.ConfirmCityUpgrade, e);
        }
        confirmPlaceMetropolis(e) {
          this.send(r.$d.ConfirmBuildMetropolis, e);
        }
        confirmPillageCity(e) {
          this.send(r.$d.ConfirmPillageCity, e);
        }
        confirmSelectKnightToTakeAction(e) {
          this.send(r.$d.SelectKnightToTakeAction, e);
        }
        confirmMoveKnight(e) {
          this.send(r.$d.ConfirmMoveKnight, e);
        }
        confirmMoveKnightOffTurn(e) {
          this.send(r.$d.ConfirmMoveKnightOffTurn, e);
        }
        confirmRemoveKnight(e) {
          this.send(r.$d.ConfirmRemoveKnight, e);
        }
        confirmDiceSelection(e) {
          this.send(r.$d.ConfirmDicePair, e);
        }
        cancelAction() {
          this.send(r.$d.CancelAction, !0);
        }
        clickedDevelopmentCard(e) {
          this.send(r.$d.ClickedDevelopmentCard, e);
        }
        requestSpecialBuildPhase() {
          this.send(r.$d.RequestSpecialBuildPhase, !0);
        }
        cancelSpecialBuildPhase() {
          this.send(r.$d.CancelSpecialBuildPhase, !0);
        }
        clickedRematch() {
          this.send(r.$d.ClickedRematch, !0);
        }
        clickedVote(e, t) {
          this.send(r.$d.Vote, { id: e, accepted: t });
        }
        requestActionSwap(e) {
          this.send(r.$d.RequestActionSwap, e);
        }
        requestHintForBeginner(e) {
          this.send(r.$d.RequestBeginnerHint, e);
        }
        skipWelcomeActionOnBeginnerMode() {
          this.send(r.$d.SkipWelcomeAction, !0);
        }
        endBeginnerModeLevel() {
          this.send(r.$d.RequestBeginnerModeLevelEnd, !0);
        }
        togglePause() {
          this.send(r.$d.TogglePause, !0);
        }
        leaveGame() {
          this.send(r.$d.LeaveGame, !0);
        }
        resign() {
          this.send(r.$d.Resign, !0);
        }
        submitChat(e) {
          this.send(r.$d.GameChatSubmit, e);
        }
        reportPlayer(e, t) {
          const s = { reportReason: e, reportedPlayerColor: t };
          this.send(r.$d.ReportPlayer, s);
        }
        requestGameState() {
          this.send(r.$d.RequestGameState, this.getServerId());
        }
        pong() {
          this.send(r.$d.Pong, void 0);
        }
        notifyBackendClientAutoReconnected() {
          this.send(r.$d.NotifyBackendClientAutoReconnected, void 0);
        }
        send(e, t) {
          const s = {
            action: e,
            payload: t,
            sequence: (this.gameActionSendSequence += 1),
          };
          this.sender.sendToServer(o.lo.GameAction, this.getServerId(), s);
        }
        constructor(e, t) {
          ((this.gameActionSendSequence = 1),
            (this.sender = e),
            (this.getServerId = t));
        }
      }
    },
    41659: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/ab_fullscreen.c89463c3dc00ebdc790b.png";
    },
    41816: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/ios_dice_resolution_after.4a2fa98b279c90afc49c.png";
    },
    41901: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_merchant_black.23d3085d7c9f2bc643d1.svg";
    },
    41931: (e, t, s) => {
      "use strict";
      s.d(t, { p: () => l });
      var i = s(71068),
        n = s(78311),
        r = s(52955);
      var o = s(74710),
        a = s(35078);
      const c = new (class {
        set(e, t) {
          this.isLocalStorageAvailable && localStorage.setItem(e, String(t));
        }
        get(e, t = null) {
          return this.isLocalStorageAvailable ? localStorage.getItem(e) : t;
        }
        delete(e) {
          this.isLocalStorageAvailable && localStorage.removeItem(e);
        }
        constructor() {
          this.isLocalStorageAvailable = "undefined" != typeof localStorage;
        }
      })();
      var l;
      !(function (e) {
        const t = "versionno",
          s = "authtoken",
          l = "antialias",
          d = "mastervolume",
          u = "resolution",
          h = "powerpreference",
          p = "animationstatus",
          m = "logrocket",
          g = "keyboardshortcuts",
          f = "lastmembershipincentivepopuptime",
          y = "lastshareactivitylinkpopuptime",
          b = "lastpushreferrerstoinvitemorefriendspopuptime",
          v = "roomdicesetting",
          S = "roomgamespeedsetting",
          k = "roomfriendlyrobberactivesetting",
          C = "device-statusBarHeight",
          P = "device-safeAreaInsetBottom",
          _ = "showportraitgameplay",
          A = "firstsessiontimestamp",
          w = "mLoginBypassed",
          R = "mShowAllowNotificationPopup",
          T = "mNotificationUserId",
          I = "mPushNotificationRequestStatus",
          M = "mLastRequestPushNotificationTime",
          L = "mRequestPushNotificationTimeData",
          B = "mLastShownAllowNotificationPopup",
          D = "mUserOrientationControllerJourneyStatus",
          E = "mLocalizedStoreProductAndSubscriptionData",
          G = "mLocalizedStoreProductData",
          x = "mLastScene",
          U = "shouldshowfeedbackform",
          O = "lastfeedbackformdate",
          N = "discordlinkingsuccesspopup",
          F = "discordonlineusernamepopupshown",
          H = "discordchangeregionincentivepopupshown",
          W = "discordkeepplayingonwebpopupshown",
          K = "beginnerModeLevel",
          V = "giftMetadataId",
          q = "userState",
          Q = "language",
          $ = "lastselectedmatchmakingmode";
        var z;
        function j() {
          const e = i.eT.Level1,
            t = c.get(K);
          return null == t ? (c.set(K, e), e) : Number(t);
        }
        function Y(e) {
          c.set(q, JSON.stringify(e));
        }
        (((z = e.PowerPreference || (e.PowerPreference = {})).Low =
          "low-power"),
          (z.Default = "default"),
          (z.High = "high-performance"),
          (e.setLogRocket = function (e) {
            c.set(m, e);
          }),
          (e.getLogRocket = function () {
            const e = c.get(m);
            return null == e ? null : "true" == e;
          }),
          (e.setAuthToken = function (e) {
            c.set(s, e);
          }),
          (e.getAuthToken = function () {
            return c.get(s);
          }),
          (e.setKeyboardShortcuts = function (e) {
            c.set(g, e);
          }),
          (e.getKeyboardShortcuts = function () {
            const e = c.get(g);
            return null == e ? null : "true" == e;
          }),
          (e.setAntialias = function (e) {
            c.set(l, e);
          }),
          (e.getAntialias = function () {
            const e = c.get(l);
            return null == e ? null : "true" == e;
          }),
          (e.setResolution = function (e) {
            c.set(u, e);
          }),
          (e.getResolution = function () {
            const e = c.get(u);
            return null == e || isNaN(Number(e)) ? null : Number(e);
          }),
          (e.setPowerPreference = function (e) {
            c.set(h, e);
          }),
          (e.getPowerPreference = function () {
            switch (c.get(h, e.PowerPreference.Low)) {
              case e.PowerPreference.Low:
                return e.PowerPreference.Low;
              case e.PowerPreference.High:
                return e.PowerPreference.High;
              case e.PowerPreference.Default:
                return e.PowerPreference.Default;
              default:
                return e.PowerPreference.Low;
            }
          }),
          (e.setAnimation = function (e) {
            c.set(p, e);
          }),
          (e.getAnimation = function () {
            const e = c.get(p);
            return null == e ? null : "true" == e;
          }),
          (e.setVersionNo = function (e) {
            return (c.set(t, e), !0);
          }),
          (e.getVersionNo = function () {
            const e = c.get(t);
            return null == e ? null : Number(e);
          }),
          (e.setMasterVolume = function (e) {
            c.set(d, e);
          }),
          (e.getMasterVolume = function () {
            const e = c.get(d);
            if (null == e) return;
            let t = parseFloat(e);
            return !isNaN(t) &&
              (t < 0 && (t = 0), t > 1 && (t = 1), isFinite(t))
              ? t
              : void 0;
          }),
          (e.setLastMembershipIncentivePopupTime = function (e) {
            c.set(f, e);
          }),
          (e.getLastMembershipIncentivePopupTime = function () {
            const e = c.get(f);
            return e ? new Date(e) : null;
          }),
          (e.setRoomDiceSetting = function (e) {
            c.set(v, e);
          }),
          (e.getRoomDiceSetting = function () {
            const e = c.get(v);
            if (null == e) return null;
            const t = Number(e),
              s = n.ZP[t];
            return null == s ? null : n.ZP[s];
          }),
          (e.setRoomGameSpeedSetting = function (e) {
            c.set(S, e);
          }),
          (e.getRoomGameSpeedSetting = function () {
            const e = c.get(S);
            if (null == e) return null;
            const t = Number(e),
              s = n.ro[t];
            return null == s ? null : n.ro[s];
          }),
          (e.setRoomFriendlyRobberActiveSetting = function (e) {
            c.set(k, e);
          }),
          (e.getRoomFriendlyRobberActiveSetting = function () {
            const e = c.get(k);
            return null == e ? null : "true" == e;
          }),
          (e.clearDeprecationStorage = function () {
            (c.delete("showportraitfeedbackpopup"),
              c.delete("isLandscapeDeprecated"),
              c.delete("lastTimestampDeprecationPopupShown"),
              c.delete(M));
          }),
          (e.shouldResetGameOrientation = function () {
            return null == c.get(_);
          }),
          (e.isPortraitGamePlayEnabled = function () {
            return "false" != c.get(_);
          }),
          (e.setPortraitGamePlayEnabled = function (e) {
            c.set(_, e);
          }),
          (e.getStatusBarHeight = function () {
            const e = c.get(C);
            return null == e ? null : Number(e);
          }),
          (e.setStatusBarHeight = function (e) {
            c.set(C, e);
          }),
          (e.getSafeAreaInsetBottom = function () {
            const e = c.get(P);
            return null == e ? null : Number(e);
          }),
          (e.setSafeAreaInsetBottom = function (e) {
            c.set(P, e);
          }),
          (e.getBuildNumber = function () {
            const e = c.get("mBuildVersion");
            return null == e ? null : Number(e);
          }),
          (e.getPlatform = function () {
            return c.get("mPlatformOS");
          }),
          (e.getIfUserBypassedLogin = function () {
            return "true" == c.get(w);
          }),
          (e.setUserBypassedLogin = function (e) {
            c.set(w, e);
          }),
          (e.setLastShownAllowNotificationPopupTime = function (e) {
            c.set(B, e instanceof Date ? e.toISOString() : e);
          }),
          (e.setNotificationUserId = function (e) {
            c.set(T, e);
          }),
          (e.getNotificationUserId = function () {
            return c.get(T);
          }),
          (e.getLastShownAllowNotificationPopupTime = function () {
            const e = c.get(B);
            return e ? new Date(e) : null;
          }),
          (e.setShouldShowAllowNotificationPopup = function (e) {
            c.set(R, e);
          }),
          (e.getShouldShowAllowNotificationPopup = function () {
            const e = c.get(R);
            return null == e ? null : "true" == e;
          }),
          (e.setPushNotificationRequestStatus = function (e) {
            c.set(I, e);
          }),
          (e.getPushNotificationRequestStatus = function () {
            return "true" == c.get(I);
          }),
          (e.getLastRequestPushNotificationTime = function () {
            const e = c.get(M);
            return e ? new Date(e) : null;
          }),
          (e.setRequestPushNotificationTimeData = function (e) {
            c.set(L, JSON.stringify(e));
          }),
          (e.getRequestPushNotificationTimeData = function () {
            var e;
            return JSON.parse(
              null !== (e = c.get(L)) && void 0 !== e ? e : "{}",
            );
          }),
          (e.setUserOrientationControllerJourneyStatus = function (e) {
            c.set(D, e);
          }),
          (e.getUserOrientationControllerJourneyStatus = function () {
            return c.get(D);
          }),
          (e.setFirstSessionTimestamp = function (e) {
            c.set(A, e);
          }),
          (e.getFirstSessionTimestamp = function () {
            return null == c.get(A) ? null : Number(c.get(A));
          }),
          (e.setLocalizedStoreSubscriptionData = function (e) {
            c.set(E, JSON.stringify(e));
          }),
          (e.setLocalizedStoreProductData = function (e) {
            c.set(G, JSON.stringify(e));
          }),
          (e.getLocalizedStoreSubscriptionData = function () {
            var e;
            return JSON.parse(
              null !== (e = c.get(E)) && void 0 !== e ? e : "[]",
            );
          }),
          (e.getLocalizedStoreProductData = function () {
            var e;
            return JSON.parse(
              null !== (e = c.get(G)) && void 0 !== e ? e : "[]",
            );
          }),
          (e.setLastScene = function (e) {
            c.set(x, e);
          }),
          (e.getLastScene = function () {
            const e = c.get(x);
            if (null == e) return null;
            const t = Number(e);
            return isNaN(t) ? null : Object.values(a.J).includes(t) ? t : null;
          }),
          (e.clearLastScene = function () {
            c.delete(x);
          }),
          (e.removeShouldShowFeedbackForm = function () {
            c.delete(U);
          }),
          (e.setShouldShowFeedbackForm = function (e) {
            c.set(U, e);
          }),
          (e.getShouldShowFeedbackForm = function () {
            const e = c.get(U);
            return null == e ? null : "true" == e;
          }),
          (e.setLastFeedbackFormDate = function (e) {
            c.set(O, e instanceof Date ? e.toISOString() : e);
          }),
          (e.getLastFeedbackFormDate = function () {
            const e = c.get(O);
            return e ? new Date(e) : null;
          }),
          (e.incrementBeginnerModeLevel = function () {
            const e = j();
            if (null == e) return;
            const t = e + 1;
            (0, r._k)(t, i.eT) && c.set(K, t);
          }),
          (e.decrementBeginnerModeLevel = function () {
            const e = j();
            if (null == e) return;
            const t = e - 1;
            (0, r._k)(t, i.eT) && c.set(K, t);
          }),
          (e.resetBeginnerModeLevel = function () {
            c.set(K, i.eT.Level1);
          }),
          (e.getBeginnerModeLevel = j),
          (e.setDiscordAccountLinked = function () {
            c.set(N, !0);
          }),
          (e.getDiscordAccountLinked = function () {
            return "true" == c.get(N);
          }),
          (e.removeDiscordAccountLinked = function () {
            c.delete(N);
          }),
          (e.setDiscordOnlineUsernamePopupShown = function () {
            c.set(F, !0);
          }),
          (e.getDiscordOnlineUsernamePopupShown = function () {
            return "true" == c.get(F);
          }),
          (e.setDiscordChangeRegionIncentivePopupShown = function () {
            c.set(H, !0);
          }),
          (e.getDiscordChangeRegionIncentivePopupShown = function () {
            return "true" == c.get(H);
          }),
          (e.setDiscordKeepPlayingOnWebPopupShown = function () {
            c.set(W, !0);
          }),
          (e.getDiscordKeepPlayingOnWebPopupShown = function () {
            return "true" == c.get(W);
          }),
          (e.setUserState = Y),
          (e.clearUserState = function () {
            Y({});
          }),
          (e.getUserState = function () {
            const e = c.get(q);
            if (null != e)
              try {
                return JSON.parse(e);
              } catch {
                return;
              }
          }),
          (e.getLanguage = function () {
            var e;
            return null !== (e = c.get(Q)) && void 0 !== e
              ? e
              : o.F2.defaultLanguage;
          }),
          (e.setLanguage = function (e) {
            (c.set(Q, e),
              (async function (e) {
                if ("serviceWorker" in navigator) {
                  var t;
                  (await navigator.serviceWorker.ready,
                    null === (t = navigator.serviceWorker.controller) ||
                      void 0 === t ||
                      t.postMessage({ type: "languageChange", language: e }));
                }
              })(e));
          }),
          (e.setGiftMetadataId = function (e) {
            c.set(V, e);
          }),
          (e.getGiftMetadataId = function () {
            return c.get(V);
          }),
          (e.clearGiftMetadataId = function () {
            c.delete(V);
          }),
          (e.setLastShareActivityLinkPopupTime = function (e) {
            c.set(y, e);
          }),
          (e.getLastShareActivityLinkPopupTime = function () {
            const e = c.get(y);
            return e ? new Date(e) : null;
          }),
          (e.setLastPushReferrersToInviteMoreFriendsPopupTime = function (e) {
            c.set(b, e);
          }),
          (e.getLastPushReferrersToInviteMoreFriendsPopupTime = function () {
            const e = c.get(b);
            return e ? new Date(e) : null;
          }),
          (e.setLastSelectedMatchmakingMode = function (e) {
            c.set(
              $,
              JSON.stringify({ category: e.category, matchType: e.matchType }),
            );
          }),
          (e.getLastSelectedMatchmakingMode = function () {
            const e = c.get($);
            if (null == e) return null;
            try {
              return JSON.parse(e);
            } catch {
              return null;
            }
          }));
      })(l || (l = {}));
    },
    42003: (e, t, s) => {
      "use strict";
      s.d(t, { h: () => r });
      var i = s(9029),
        n = s(23355);
      class r {
        getSeasonDropdownElement() {
          const e = (0, n.F9)("profile_ranked_season_dropdown", this.isPopup);
          return document.getElementById(e);
        }
        fetchRankedDataForLatestSeason() {
          const e = this.seasons[0];
          ((this.profileRankedController.currentSeason = e.seasonType),
            this.profileRankedController.fetchRankedDataForSelectedSeason(
              e.seasonType,
            ));
        }
        createDropdownOptions() {
          this.seasons.map((e) => {
            (0, i.fg)(this.seasonDropdown, e.seasonType.toString(), e.name);
          });
        }
        createDropdownChangeEvent() {
          this.seasonDropdown.onchange = () => {
            const e = Number(this.seasonDropdown.value);
            this.profileRankedController.fetchRankedDataForSelectedSeason(e);
          };
        }
        constructor(e, t, s = !1) {
          ((this.isPopup = s),
            (this.seasons = e),
            (this.seasonDropdown = this.getSeasonDropdownElement()),
            (this.profileRankedController = t),
            this.fetchRankedDataForLatestSeason(),
            this.createDropdownOptions(),
            this.createDropdownChangeEvent());
        }
      }
    },
    42202: (e, t, s) => {
      "use strict";
      e.exports =
        s.p +
        "assets/card_progress_trade_commodity_monopoly.385f8154b2e8fab61bf5.svg";
    },
    42380: (e, t, s) => {
      "use strict";
      s.d(t, { M: () => i, s: () => n });
      const i = /^(251|517|837|85)$/.test(s.j)
        ? null
        : ["valentines", "easter", "halloween", "thanksgiving", "christmas"];
      class n {
        static isHolidayNowAndExtendsToNewYear(e, t, s, i) {
          return !!e.extendsToNewYear && (t >= s || t <= i);
        }
        static isHolidayNow(e, t, s) {
          let i = !1,
            n = !1;
          return (e >= t && (i = !0), e <= s && (n = !0), !(!i || !n));
        }
        static getCurrentHoliday(e) {
          const t = null != e ? e : new Date();
          for (const e of n.holidayDates) {
            const s = new Date(t);
            (s.setMonth(e.dates.start.month - 1), s.setDate(e.dates.start.day));
            const i = new Date(t);
            if (
              (i.setMonth(e.dates.end.month - 1),
              i.setDate(e.dates.end.day),
              n.isHolidayNowAndExtendsToNewYear(e, t, s, i))
            )
              return e.name;
            if (n.isHolidayNow(t, s, i)) return e.name;
          }
        }
      }
      n.holidayDates = [
        {
          name: "valentines",
          dates: { start: { month: 1, day: 24 }, end: { month: 2, day: 18 } },
        },
        {
          name: "easter",
          dates: { start: { month: 3, day: 20 }, end: { month: 4, day: 30 } },
        },
        {
          name: "halloween",
          dates: { start: { month: 10, day: 10 }, end: { month: 11, day: 5 } },
        },
        {
          name: "thanksgiving",
          dates: { start: { month: 11, day: 6 }, end: { month: 11, day: 30 } },
        },
        {
          name: "christmas",
          dates: { start: { month: 12, day: 1 }, end: { month: 1, day: 12 } },
          extendsToNewYear: !0,
        },
      ];
    },
    42457: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/ship_move_green.514869a31968210ab9e7.svg";
    },
    42466: (e, t, s) => {
      "use strict";
      s.d(t, { y: () => i });
      class i {
        static trackPopup(e) {
          i.activePopups.push(e);
        }
        static untrackPopup(e) {
          i.activePopups = i.activePopups.filter((t) => t != e);
        }
        static isPopupTracked(e) {
          return null != i.activePopups.find((t) => t == e);
        }
        static closeAllPopups() {
          (i.removeActivePopups(), i.hideStaticPopups());
        }
        static removeActivePopups() {
          i.activePopups.forEach((e) => {
            e.removePopup();
          });
        }
        static hideStaticPopups() {
          document
            .querySelectorAll(".header_profile_selector_modal")
            .forEach((e) => {
              e.style.display = "none";
            });
        }
      }
      i.activePopups = [];
    },
    42647: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/lobby_ad_ck_ranked.f834a96a9f9e4542715e.png";
    },
    42778: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/city_wall_bronze.3a964572b70d2b458c91.svg";
    },
    42845: (e, t, s) => {
      "use strict";
      s.d(t, { N: () => i });
      class i {
        addData(e) {
          if (!this.orderBroken) {
            if (
              (this.data.push({ added: Date.now(), data: e }),
              this.data.length > 10)
            )
              return (
                (this.orderBroken = !0),
                void this.onSequenceError(
                  this.lastSequence,
                  Date.now(),
                  `Too many pending entries: ${this.data.length}`,
                  this.data,
                  this.lastReleasedData,
                )
              );
            for (
              null == this.lastSequence && (this.lastSequence = e.sequence - 1);
              this.releaseNextData();
            );
          }
        }
        releaseNextData() {
          const e = this.data.findIndex(
            (e) => e.data.sequence == this.lastSequence + 1,
          );
          if (e < 0) return !1;
          const t = this.data[e].data;
          return (
            (this.lastSequence = t.sequence),
            this.onData(t),
            this.lastReleasedData.push(this.data[e]) > 5 &&
              this.lastReleasedData.shift(),
            this.data.splice(e, 1),
            this.data.length > 0
          );
        }
        reset() {
          ((this.lastSequence = void 0),
            (this.orderBroken = !1),
            (this.data.length = 0),
            (this.lastReleasedData.length = 0));
        }
        checkDataAge() {
          if (!this.orderBroken)
            for (const e of this.data)
              if (!(Date.now() - e.added < 500))
                return (
                  (this.orderBroken = !0),
                  void this.onSequenceError(
                    this.lastSequence,
                    Date.now(),
                    "Missing entry did not arrive in 500ms",
                    this.data,
                    this.lastReleasedData,
                  )
                );
        }
        constructor(e, t) {
          ((this.lastReleasedData = []),
            (this.data = []),
            (this.orderBroken = !1),
            (this.onData = e),
            (this.onSequenceError = t),
            setInterval(() => this.checkDataAge(), 500));
        }
      }
    },
    43181: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/card_rescardoverlimit.94289aa29992189fe66c.svg";
    },
    43451: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/dice_red_2.c484643f7087f8dcb98d.svg";
    },
    43743: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/lobby_ad_plus.46fff0845ed2292eb916.png";
    },
    44423: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/map_romania_preview.0732e30a6cb0ad9aabed.png";
    },
    44473: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/bg_button_silver.db4ed4dc6d93bfd5f10f.svg";
    },
    44517: (e, t, s) => {
      "use strict";
      if ((s.d(t, { a: () => o, s: () => r }), 837 != s.j)) var i = s(53879);
      class n {
        sendEvent(e) {
          const t = this.STORAGE_KEY_PREFIX + r[e];
          (localStorage.setItem(t, Date.now().toString()),
            localStorage.removeItem(t));
        }
        onEvent(e, t) {
          this.eventCallbacks.set(e, t);
        }
        constructor() {
          ((this.STORAGE_KEY_PREFIX = "tab_communication_event_"),
            (this.eventCallbacks = new Map()),
            window.addEventListener("storage", (e) => {
              if (!e.key) return;
              if (!e.key.startsWith(this.STORAGE_KEY_PREFIX)) return;
              const t = e.key.slice(this.STORAGE_KEY_PREFIX.length),
                s = r[t],
                i = this.eventCallbacks.get(s);
              null == i || i();
            }));
        }
      }
      var r = (function (e) {
        return ((e[(e.ReloadWebsite = 0)] = "ReloadWebsite"), e);
      })({});
      class o {
        static createTabCommunication() {
          return i.U.isAvailable() ? new i.U() : new n();
        }
      }
    },
    44612: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/game_spritesheet_3.757a229df29901ada6ca.json";
    },
    44845: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/ab_sign_in.c38beffa9feae4f7b668.png";
    },
    44945: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/seafarers.fb5d61f4b26e0d2a971c.svg";
    },
    44957: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/sfx_discard_notification.f8b0f8122a6973c3d615.mp3";
    },
    45023: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/dice_2.05d31959b2838006865b.svg";
    },
    45190: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/sfx_pirate_place.c32218267fdd6180b827.mp3";
    },
    45477: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/sfx_victory.53cd54688682aff09802.mp3";
    },
    45719: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/knight_move_orange.b3db63ca82048c1a2a95.svg";
    },
    45857: (e, t, s) => {
      "use strict";
      s.d(t, { H: () => r });
      var i = s(95176),
        n = s(9029);
      class r extends i.y {
        updateLoadPercentage(e) {
          const t = Math.round(e);
          ((this.innerDiv.innerText = t + "%"),
            (this.innerDiv.style.width = t + "%"));
        }
        finishedLoading() {
          this.isRemoved() ||
            (this.callbacks.forEach((e) => e()), this.removePopup());
        }
        addCallback(e) {
          this.callbacks.push(e);
        }
        removeUrlHashOnXAction() {
          (0, n.G0)(this.xButton, () => {
            (history.replaceState("", "", location.pathname),
              this.removePopup());
          });
        }
        removeUrlHashOnCancel() {
          window.addEventListener("click", (e) => {
            e.target == this.container &&
              (this.preventClicksOutsideOfPopupFromClosingPopup ||
                (history.replaceState("", "", location.pathname),
                this.removePopup()));
          });
        }
        constructor(e, t) {
          (super(
            { key: "strings:popups.assetsLoading" },
            { key: "strings:colonistCommon.utils.emptyString" },
            () => {},
            t,
            !0,
          ),
            (this.callbacks = []),
            this.callbacks.push(e),
            (this.containerDiv = (0, n.Le)(
              this.body,
              "popup-loader-container",
            )),
            (this.innerDiv = (0, n.Le)(
              this.containerDiv,
              "popup-loader-inner",
            )),
            this.removeCheckButton(),
            this.removeUrlHashOnXAction(),
            this.removeUrlHashOnCancel());
        }
      }
    },
    45859: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_pirate_ship.5ded38537055cfd5fe4b.svg";
    },
    45901: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/card_coin.fa1ec5179bfed0886c9d.svg";
    },
    45973: (e, t, s) => {
      "use strict";
      s.d(t, { B: () => i });
      class i {}
      ((i.globalLeaderboardUrl = ""),
        (i.maximumLeaderboardAPIRankingRangeLimit = 100),
        (i.emptyUsernameSearch = ""),
        (i.emptyRank = "-"));
    },
    46031: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_knight_upgrade.af7fbccc3c3f999074a6.svg";
    },
    46456: (e, t, s) => {
      "use strict";
      s.d(t, { y: () => r });
      var i = s(30506),
        n = s(81888);
      class r {
        static get shuffleQueueData() {
          return this._shuffleQueueData;
        }
        static get shufflePlayerData() {
          return this._shufflePlayerData;
        }
        static notifyListeners() {
          for (const e of this.changeListeners)
            e(this._shuffleQueueData, this._shufflePlayerData);
        }
        static updateQueueData(e) {
          ((this._shuffleQueueData = e), this.notifyListeners());
        }
        static updatePlayerData(e) {
          ((this._shufflePlayerData = e), this.notifyListeners());
        }
        static registerChangeListener(e) {
          return (
            this.changeListeners.push(e),
            e(this._shuffleQueueData, this._shufflePlayerData),
            () => {
              i.lv.removeElementFromArray(this.changeListeners, e);
            }
          );
        }
        static waitForShuffleQueueData() {
          var e;
          return null != this._shuffleQueueData &&
            null != this._shufflePlayerData
            ? Promise.resolve(this._shuffleQueueData)
            : (
                  null === (e = n._.userState) || void 0 === e
                    ? void 0
                    : e.isLoggedIn
                )
              ? new Promise((e) => {
                  const t = setTimeout(() => {
                      (s(), e(void 0));
                    }, 2e3),
                    s = this.registerChangeListener((i, n) => {
                      null != i && null != n && (clearTimeout(t), s(), e(i));
                    });
                })
              : Promise.resolve(this._shuffleQueueData);
        }
      }
      r.changeListeners = [];
    },
    46526: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/bg_button_bronze.7efe4b4c3b4dd5e05241.svg";
    },
    46579: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/bg_button_green.71912ebbd4119e3cfafc.svg";
    },
    46771: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/icon_merchant_mysticblue.a88c6fc56f06796a9255.svg";
    },
    46873: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/group_owned_maps_after.8136442942b61a4909b2.png";
    },
    46903: (e, t, s) => {
      "use strict";
      s.d(t, { p: () => i });
      class i {}
    },
    46995: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/cities_and_knights.1a8bd0f8cb38a13c406a.svg";
    },
    47168: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/rename_lobby_to_room_before.5051b0c8132c82b0309e.png";
    },
    47463: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_fortress.93f662e5033a3a3b7179.svg";
    },
    47538: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/knight_level1_inactive_green.b7621bd6217a3b877b7e.svg";
    },
    47609: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_merchant_red.772a79b33afee4832755.svg";
    },
    47871: (e, t, s) => {
      "use strict";
      s.d(t, { P: () => d });
      var i = s(81888),
        n = s(76092),
        r = s(18587),
        o = s(13359),
        a = s(655),
        c = s(32398);
      if (!/^(251|517|837)$/.test(s.j)) var l = s(21466);
      class d {
        static async getReferralLinkForSharing() {
          var e;
          await i._.requireUser();
          const t =
            null === (e = i._.userState) || void 0 === e ? void 0 : e.id;
          if (null == t)
            throw new Error("Cannot get referral link without a userId");
          const s = r.r.isUserOnMobile
            ? n.Td.MobileShareReferralProgramStore
            : n.Td.WebShareReferralProgramStore;
          return `${window.location.origin}#${o.T.ReferralInvitation}=${null != t ? t : ""}-${s}`;
        }
        static async setUserReferrer(e, t, s) {
          const i = {
            referredByDiscordUserId: e,
            referredByUserId: t,
            referralTypeId: s,
          };
          await a.m.postRequestWhenReady(c.l.apiSetUserReferrer(), void 0, i);
        }
        static async processReferralInvitation(e) {
          await i._.requireUser();
          if (!i._.userState) return;
          const { referrer: t, referralType: s } =
            l.n.extractReferrerFromShareLink(e);
          await d.setUserReferrer(void 0, t, s);
        }
      }
    },
    47927: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_tradehouse.9616a035b64303216a30.svg";
    },
    48027: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/rename-lobby-to-room-before.e324171bfc514af54807.png";
    },
    48071: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/counter_offer_8p_after.b90a15f620b829e9a899.png";
    },
    48230: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_rotate_phone.bc9db37c136cd9684e55.png";
    },
    48266: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_merchant_purple.c46c2a829736cedeb5d9.svg";
    },
    48295: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_2x.89e523f2ff9783bb992b.svg";
    },
    48349: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/knight_move_pink.ac6329769a77fdccdd50.svg";
    },
    48376: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/ship_bronze_north_west.7d4b03aa15de6feda84f.svg";
    },
    48498: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/city_wall_pink.faf96df6cfa36a3c8146.svg";
    },
    48514: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/stat_dev_card_income.6fbd5cd798e2d7bd3c02.svg";
    },
    48613: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/city_wall_silver.396d32811ce73c2cc28e.svg";
    },
    48685: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_bots_hard.4713716de92769417779.svg";
    },
    48716: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_arrow.b8e6ce7b0ed07009bbc7.svg";
    },
    48755: (e, t, s) => {
      "use strict";
      s.d(t, { L: () => o });
      var i = s(9029),
        n = s(78311),
        r = s(95176);
      class o extends r.y {
        getRulesInformationBodyElements() {
          return [
            {
              header: {
                key: "strings:roomPage.rules.ruleInformation.privateGame.header",
              },
              text: {
                key: "strings:roomPage.rules.ruleInformation.privateGame.body",
              },
              image: n.am.PrivateGame,
              visible: !this.isTournamentRoom,
            },
            {
              header: {
                key: "strings:roomPage.rules.ruleInformation.hideBankCards.header",
              },
              text: {
                key: "strings:roomPage.rules.ruleInformation.hideBankCards.body",
              },
              image: n.am.HideBankCards,
              visible: !0,
            },
            {
              header: {
                key: "strings:roomPage.rules.ruleInformation.friendlyRobber.header",
              },
              text: {
                key: "strings:roomPage.rules.ruleInformation.friendlyRobber.body",
              },
              image: n.am.Robber,
              visible: !0,
            },
            {
              header: {
                key: "strings:roomPage.rules.ruleInformation.balancedDice.header",
              },
              text: {
                key: "strings:roomPage.rules.ruleInformation.balancedDice.body",
              },
              image: n.am.Dice6,
              visible: !0,
            },
            {
              header: {
                key: "strings:roomPage.rules.ruleInformation.noTrolls.header",
              },
              text: {
                key: "strings:roomPage.rules.ruleInformation.noTrolls.body",
              },
              image: n.am.IconNoTroll,
              visible: !this.isTournamentRoom,
            },
            {
              header: { key: "strings:roomPage.orderSelection.title" },
              text: { key: "strings:roomPage.orderSelection.description" },
              image: n.am.ProfileRanked,
              visible: this.isTournamentRoom,
            },
          ].filter((e) => e.visible);
        }
        initializeRulesInformationBody(e) {
          (this.contentContainer.classList.add("popup-rules-information"),
            this.body.firstChild &&
              this.body.removeChild(this.body.firstChild));
          for (const t of e) {
            const e = (0, i.Le)(this.body, "rule-container"),
              s = (0, i.Le)(e, "rule-image-container");
            (0, i.zO)(s, t.image, "rule-image");
            const n = (0, i.Le)(e, "rule-text-container");
            ((0, i.n8)(n, t.header, "rule-header"),
              (0, i.Wr)(n, t.text, "rule-text"));
          }
        }
        constructor(e = !1) {
          (super(
            { key: "strings:roomPage.rules.title" },
            { key: "strings:colonistCommon.utils.emptyString" },
            () => {},
            () => {},
            !0,
            { showXonHeader: !0, showXButton: !1, showCheckButton: !1 },
          ),
            (this.isTournamentRoom = e));
          const t = this.getRulesInformationBodyElements();
          (this.initializeRulesInformationBody(t),
            this.removeFooter(),
            this.show());
        }
      }
    },
    48834: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_1x.2842c0ae586852304677.svg";
    },
    49119: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/1v1_ranked.944a4e7e021b477ed2ec.svg";
    },
    49162: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/icon_square_active_trade.5ae724c314420f56a5bc.svg";
    },
    49265: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/dice_4.ec56593699eed0f02856.svg";
    },
    49937: (e, t, s) => {
      "use strict";
      s.d(t, { N: () => l });
      class i {}
      ((i.PROBABILITY_OF_SHOWING_FEEDBACK_FORM = 0.1),
        (i.DAYS_BETWEEN_FEEDBACK_FORMS = 90));
      var n = s(30506),
        r = s(41931),
        o = s(32398),
        a = s(655),
        c = s(81888);
      class l {
        static async fetchShouldShowFeedbackForm() {
          if (null == c._.userState) return;
          if (!this.haveEnoughDaysPassedSinceLastFeedbackForm()) return;
          if (null != r.p.getShouldShowFeedbackForm()) return;
          const e = await a.m.getRequestHandler(
            o.l.apiFeedbackFormShow(),
            void 0,
          );
          if (null == e) return void r.p.setShouldShowFeedbackForm(!1);
          const t = e.json;
          (r.p.setShouldShowFeedbackForm(t.shouldShow),
            null != t.lastShown && r.p.setLastFeedbackFormDate(t.lastShown));
        }
        static shouldShowFeedbackForm() {
          if (!this.haveEnoughDaysPassedSinceLastFeedbackForm()) return !1;
          const e = r.p.getShouldShowFeedbackForm();
          return null != e && (r.p.removeShouldShowFeedbackForm(), e);
        }
        static haveEnoughDaysPassedSinceLastFeedbackForm() {
          const e = r.p.getLastFeedbackFormDate();
          if (null != e) {
            if (
              n.Re.absoluteDifferenceInDays(e, new Date()) <
              i.DAYS_BETWEEN_FEEDBACK_FORMS
            )
              return !1;
          }
          return !0;
        }
      }
    },
    50276: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/city_silver.26273336eca9379b82f4.svg";
    },
    50482: (e, t, s) => {
      "use strict";
      s.d(t, {
        FN: () => g,
        Io: () => m,
        WM: () => h,
        Z5: () => l,
        Zt: () => f,
        a8: () => a,
        ky: () => d,
        s9: () => p,
        vN: () => u,
      });
      var i = s(74710),
        n = s(78311),
        r = s(92524),
        o = s(26658),
        a = (function (e) {
          return (
            (e.EliteYearly = "elite_yearly_gift"),
            (e.EliteMonthly = "elite_monthly_gift"),
            (e.PremiumYearly = "premium_yearly_gift"),
            (e.PremiumMonthly = "premium_monthly_gift"),
            (e.PlusYearly = "plus_yearly_gift"),
            (e.PlusMonthly = "plus_monthly_gift"),
            e
          );
        })({});
      class c {}
      class l extends c {
        constructor(...e) {
          (super(...e),
            (this.type = o.gr.AllMaps),
            (this.description = {
              key: "strings:storePage.sections.membership.perks.allMaps",
            }),
            (this.imageUrl = n.am.CheckMark));
        }
      }
      class d extends c {
        constructor(...e) {
          (super(...e),
            (this.type = o.gr.AllExpansions),
            (this.description = {
              key: "strings:storePage.sections.membership.perks.allExpansions",
            }),
            (this.imageUrl = n.am.CheckMark));
        }
      }
      class u extends c {
        constructor(...e) {
          (super(...e),
            (this.type = o.gr.PremiumMatchmaking),
            (this.description = {
              key: "strings:storePage.sections.membership.perks.premiumMatchmaking.title",
            }),
            (this.imageUrl = n.am.CheckMark));
        }
      }
      class h extends c {
        constructor(...e) {
          (super(...e),
            (this.type = o.gr.NoAds),
            (this.description = {
              key: "strings:storePage.sections.membership.perks.noAdsAndFullScreen",
            }),
            (this.imageUrl = n.am.CheckMark));
        }
      }
      class p extends c {
        constructor(...e) {
          (super(...e),
            (this.type = o.gr.AllColors),
            (this.description = {
              key: "strings:storePage.sections.membership.perks.allColors",
            }),
            (this.imageUrl = n.am.CheckMark));
        }
      }
      class m extends c {
        constructor(...e) {
          (super(...e),
            (this.type = o.gr.BasicReplay),
            (this.description = {
              key: "strings:storePage.sections.membership.perks.basicReplay",
            }),
            (this.imageUrl = n.am.CheckMark));
        }
      }
      class g extends c {
        constructor(...e) {
          (super(...e),
            (this.type = o.gr.FullReplay),
            (this.description = {
              key: "strings:storePage.sections.membership.perks.fullReplay",
            }),
            (this.imageUrl = n.am.CheckMark));
        }
      }
      class f {
        getProductName() {
          const e = this.billedAnnually
              ? "strings:storePage.membership.frequency.annual"
              : "strings:colonistCommon.utils.emptyString",
            t = { title: this.membershipTitle, frequency: { key: e } };
          return (0, i.dN)({ key: "strings:storePage.membership.body" }, t);
        }
        getDefaultPrice() {
          return "" + this.price / 100;
        }
        getAnnualPrice() {
          return "" + (12 * this.price) / 100;
        }
        static getBaseAnnualPriceOfAnnualMembership(e) {
          switch (e) {
            case n.Qb.PlusYearly:
              return f.getMembershipProduct(n.Qb.PlusMonthly).getAnnualPrice();
            case n.Qb.PremiumYearly:
              return f
                .getMembershipProduct(n.Qb.PremiumMonthly)
                .getAnnualPrice();
            case n.Qb.EliteYearly:
              return f.getMembershipProduct(n.Qb.EliteMonthly).getAnnualPrice();
            default:
              return;
          }
        }
        static getMonthlyPriceOfAnnualMembership(e) {
          switch (e) {
            case n.Qb.PlusYearly:
              return f.getMembershipProduct(n.Qb.PlusMonthly).getDefaultPrice();
            case n.Qb.PremiumYearly:
              return f
                .getMembershipProduct(n.Qb.PremiumMonthly)
                .getDefaultPrice();
            case n.Qb.EliteYearly:
              return f
                .getMembershipProduct(n.Qb.EliteMonthly)
                .getDefaultPrice();
            default:
              return;
          }
        }
        static isAnnualMembership(e) {
          switch (e) {
            case n.Qb.PlusYearly:
            case n.Qb.PremiumYearly:
            case n.Qb.EliteYearly:
              return !0;
            default:
              return !1;
          }
        }
        static getAllMembershipProducts() {
          return Array.from(this.products.values()).filter(
            (e) => null == e.oneTimePurchaseType,
          );
        }
        static getMembershipProduct(e) {
          return this.products.get(e);
        }
        static initProducts(e) {
          const t = new f({
            type: n.Qb.Holiday2023AllAccessPass,
            price: 699,
            discordSKUId: e.passAllAccessHoliday2023,
            mobileIAPSKUId: "all_access_pass_holiday_2023",
            membershipTitle: {
              key: "strings:storePage.membership.title.holiday2023",
            },
            membershipColor: "membership_type_holiday_2023",
            lobbyImage: n.am.StoreMembershipHoliday2023,
            perks: [new u(), new h(), new d(), new l()],
            billedAnnually: !1,
            bestValue: !1,
            discount: 0,
            isActive: () => !1,
          });
          ((t.oneTimePurchaseType = n.IM.Holiday2023AllAccessPass),
            this.products.set(n.Qb.Holiday2023AllAccessPass, t),
            this.products.set(
              n.Qb.PlusMonthly,
              new f({
                type: n.Qb.PlusMonthly,
                price: 899,
                discordSKUId: e.membershipPlusMonthly,
                mobileIAPSKUId: "plus_monthly",
                membershipTitle: {
                  key: "strings:storePage.membership.title.plus",
                },
                membershipColor: "membership_type1",
                lobbyImage: n.am.StoreMembershipPlus,
                perks: [new u(), new h(), new m()],
                billedAnnually: !1,
                bestValue: !1,
                discount: 0,
                isActive: () => !0,
              }),
            ),
            this.products.set(
              n.Qb.PremiumMonthly,
              new f({
                type: n.Qb.PremiumMonthly,
                price: 1899,
                discordSKUId: e.membershipPremiumMonthly,
                mobileIAPSKUId: "premium_monthly",
                membershipTitle: {
                  key: "strings:storePage.membership.title.premium",
                },
                membershipColor: "membership_type2",
                lobbyImage: n.am.StoreMembershipPremium,
                perks: [new u(), new h(), new g(), new d(), new l()],
                billedAnnually: !1,
                bestValue: !0,
                discount: 0,
                isActive: () => !0,
              }),
            ),
            this.products.set(
              n.Qb.EliteMonthly,
              new f({
                type: n.Qb.EliteMonthly,
                price: 2499,
                discordSKUId: e.membershipEliteMonthly,
                mobileIAPSKUId: "elite_monthly",
                membershipTitle: {
                  key: "strings:storePage.membership.title.elite",
                },
                membershipColor: "membership_type3",
                lobbyImage: n.am.StoreMembershipElite,
                perks: [new u(), new h(), new g(), new d(), new l(), new p()],
                billedAnnually: !1,
                bestValue: !1,
                discount: 0,
                isActive: () => !0,
              }),
            ),
            this.products.set(
              n.Qb.PlusYearly,
              new f({
                type: n.Qb.PlusYearly,
                price: 699,
                discordSKUId: e.membershipPlusYearly,
                mobileIAPSKUId: "plus_yearly",
                membershipTitle: {
                  key: "strings:storePage.membership.title.plus",
                },
                membershipColor: "membership_type1",
                lobbyImage: n.am.StoreMembershipPlus,
                perks: [new u(), new h(), new m()],
                billedAnnually: !0,
                bestValue: !1,
                discount: 24,
                isActive: () => !0,
              }),
            ),
            this.products.set(
              n.Qb.PremiumYearly,
              new f({
                type: n.Qb.PremiumYearly,
                price: 1499,
                discordSKUId: e.membershipPremiumYearly,
                mobileIAPSKUId: "premium_yearly",
                membershipTitle: {
                  key: "strings:storePage.membership.title.premium",
                },
                membershipColor: "membership_type2",
                lobbyImage: n.am.StoreMembershipPremium,
                perks: [new u(), new h(), new g(), new d(), new l()],
                billedAnnually: !0,
                bestValue: !0,
                discount: 48,
                isActive: () => !0,
              }),
            ),
            this.products.set(
              n.Qb.EliteYearly,
              new f({
                type: n.Qb.EliteYearly,
                price: 1999,
                discordSKUId: e.membershipEliteYearly,
                mobileIAPSKUId: "elite_yearly",
                membershipTitle: {
                  key: "strings:storePage.membership.title.elite",
                },
                membershipColor: "membership_type3",
                lobbyImage: n.am.StoreMembershipElite,
                perks: [new u(), new h(), new g(), new d(), new l(), new p()],
                billedAnnually: !0,
                bestValue: !1,
                discount: 60,
                isActive: () => !0,
              }),
            ));
        }
        constructor(e) {
          ((this.storeProductType = r.l6.Membership),
            (this.stripeCheckoutType = r.hg.Subscription),
            (this.itemQuantity = 1),
            (this.oneTimePurchaseType = void 0),
            Object.assign(this, e));
        }
      }
      f.products = new Map();
    },
    50506: (e, t, s) => {
      "use strict";
      s.d(t, { k: () => f });
      var i = s(30506),
        n = s(9127),
        r = s(9029),
        o = s(55853),
        a = s(13359),
        c = s(18587),
        l = s(76092),
        d = s(19966);
      class u {
        createFriendContainer(e, t, s, i) {
          const n = (0, r.Le)(e, "room_friend_container");
          (c.r.isUserOnDiscordMobile && n.classList.add("discord_mobile"),
            (this.container = n));
          const o = (0, r.Le)(n, "room_friend_info"),
            a = (0, r.Le)(n, "btn_invite_friend btn_general");
          (0, r.i5)(a, "btn_invite_friend_text", {
            key: "strings:roomPage.invite",
          });
          const l = (0, r.Le)(o, "room_friend_user");
          ((this.inviteButton = a),
            (0, r.G0)(this.inviteButton, () => this.onInviteButtonClick()),
            (0, r.zO)(l, i));
          const d = (0, r.Le)(l, "room_friend_username_and_status"),
            u = {
              key: "strings:colonistCommon.utils.#buffer",
              options: { value: t },
            };
          (0, r.i5)(d, "room_friend_username", u);
          const h = this.getTextAndClassNameForOnlineStatus(s),
            p = {
              key: "strings:colonistCommon.utils.#buffer",
              options: { value: h.textStatus },
            };
          ((this.statusText = (0, r.i5)(d, "room_friend_status_text", p)),
            this.statusText.classList.add(h.className),
            (this.onlineStatus = s));
        }
        getTextAndClassNameForOnlineStatus(e) {
          switch (e) {
            case n.WA.OnlineAndIdle:
              return {
                textStatus: "Online",
                className: this.statusTextClassNames[0],
              };
            case n.WA.InRoom:
              return {
                textStatus: "In room",
                className: this.statusTextClassNames[1],
              };
            case n.WA.InGame:
              return {
                textStatus: "In game",
                className: this.statusTextClassNames[2],
              };
            default:
              return {
                textStatus: "Offline",
                className: this.statusTextClassNames[3],
              };
          }
        }
        onInviteButtonClick() {
          if (this.invitingDisabled) return;
          const e = a.q.getRoomIdFromUrl();
          if (!e) return;
          o.Y.inviteFriendToRoom(this.userId, e);
          const t = {
            type: l.k0.ClickedInviteFriendButton,
            category: l.eX.Room,
            stringValue: e,
          };
          d.CA.sendAnalyticEventsWithMobileDimensions(t);
        }
        disableInviteButton() {
          (this.inviteButton.classList.add("btn_invite_friend_clicked"),
            (0, r.RH)(this.inviteButton, {
              key: "strings:colonistCommon.utils.emptyString",
            }),
            (0, r.i5)(this.inviteButton, "btn_invite_friend_text", {
              key: "strings:roomPage.invited",
            }),
            (this.invitingDisabled = !0));
        }
        enableInviteButton() {
          this.invitingDisabled &&
            (this.inviteButton.classList.remove("btn_invite_friend_clicked"),
            (this.invitingDisabled = !1),
            (0, r.RH)(this.inviteButton, {
              key: "strings:colonistCommon.utils.emptyString",
            }),
            (0, r.i5)(this.inviteButton, "btn_invite_friend_text", {
              key: "strings:roomPage.invite",
            }));
        }
        getUserId() {
          return this.userId;
        }
        updateOnlineStatus(e) {
          const t = this.getTextAndClassNameForOnlineStatus(e);
          ((this.statusText.innerText = t.textStatus),
            this.statusText.classList.remove(...this.statusTextClassNames),
            this.statusText.classList.add(t.className),
            (this.onlineStatus = e));
        }
        remove() {
          this.container.remove();
        }
        getOnlineStatus() {
          return this.onlineStatus;
        }
        getContainer() {
          return this.container;
        }
        constructor(e, t, s, i, n) {
          ((this.invitingDisabled = !1),
            (this.statusTextClassNames = [
              "room_friend_status_online",
              "room_friend_status_in_room",
              "room_friend_status_in_game",
              "room_friend_status_offline",
            ]),
            this.createFriendContainer(e, t, s, i),
            (this.userId = n));
        }
      }
      var h = s(18514),
        p = s(34617),
        m = s(81888),
        g = s(19720);
      class f {
        setRoomId(e) {}
        updateRoomState(e) {
          (this.removeFriendsInSameRoom(e.getUserIds()),
            (this.isRoomFull = e.getSessionCount() >= e.gameSetting.maxPlayers),
            this.updateFriendsList(this.friendList));
        }
        removeFriendsInSameRoom(e) {
          for (const t of this.friendViews) {
            e.includes(t.getUserId()) && this.removeFriendView(t);
          }
          this.usersInRoom = e;
        }
        async getAllFriendCount() {
          var e;
          if (
            !(null === (e = m._.userState) || void 0 === e
              ? void 0
              : e.isLoggedIn)
          )
            return ((this.allFriendCount = 0), void this.updateHeaderView(0));
          const t = await p.v.getFriends(m._.userState);
          this.allFriendCount = t.friends.length;
          const s = this.friendList.filter(
            (e) => e.onlineStatus != n.WA.Offline,
          ).length;
          this.updateHeaderView(s);
        }
        showFriendListUI() {
          var e, t;
          (this.friendPlayerList.classList.add("shorten"),
            this.friendListContainer.classList.remove("hidden"),
            this.friendHeader.classList.remove("hidden"));
          const s = !(null === (e = m._.userState) || void 0 === e
            ? void 0
            : e.isLoggedIn);
          if (
            (null ===
              (t = this.friendListContainer.querySelector(
                ".room_friend_container",
              )) ||
              void 0 === t ||
              t.remove(),
            (this.emptyFriendMessage = void 0),
            s)
          )
            return this.createLoginToAddFriendsMessage();
          this.toggleEmptyFriendMessage(!0);
        }
        updateHeaderView(e) {
          const t = h.a7.t("strings:roomPage.friendsCount", {
            count: e,
            maxCount: this.allFriendCount,
          });
          this.friendHeader.innerText != t && (this.friendHeader.innerText = t);
        }
        updateFriendsList(e) {
          var t;
          if (
            !(null === (t = m._.userState) || void 0 === t
              ? void 0
              : t.isLoggedIn)
          )
            return;
          this.friendList = e;
          for (const e of this.friendViews) e.remove();
          if (((this.friendViews.length = 0), this.isRoomFull))
            return this.toggleRoomFullMessage(!0);
          const s = e.filter((e) => !this.usersInRoom.includes(e.userId));
          if (0 == s.length) return this.toggleEmptyFriendMessage(!0);
          for (const e of s) this.addFriendView(e);
        }
        updateFriendOnlineStatus(e) {
          const t = this.friendViews.find((t) => t.getUserId() == e.userId),
            s = e.onlineStatus == n.WA.Offline,
            i = !t;
          if ((this.deleteRemovalTimeout(e.userId), i && !s))
            return this.addFriendView(e);
          if (!i) {
            if (s) return this.removeFriendViewWithDelay(t, e.userId);
            (t.updateOnlineStatus(e.onlineStatus),
              this.sortFriendsListByOnlineStatus());
          }
        }
        addFriendView(e) {
          if (this.usersInRoom.includes(e.userId)) return;
          const t = new u(
            this.friendListContainer,
            e.username,
            e.onlineStatus,
            e.icon,
            e.userId,
          );
          (this.friendViews.push(t),
            this.toggleEmptyFriendMessage(!1),
            this.toggleRoomFullMessage(!1),
            this.updateHeaderView(this.friendViews.length),
            this.sortFriendsListByOnlineStatus());
        }
        removeFriendView(e) {
          (i.lv.removeElementFromArray(this.friendViews, e),
            e.remove(),
            0 == this.friendViews.length && this.toggleEmptyFriendMessage(!0),
            this.updateHeaderView(this.friendViews.length));
        }
        createEmptyFriendMessage() {
          const e = (0, r.Le)(
              this.friendListContainer,
              "room_friend_container",
            ),
            t = (0, r.Le)(e, "room_friend_empty_message_container");
          ((0, r.i5)(t, "room_friend_empty_message_text", {
            key: "strings:roomPage.noFriendsOnline",
          }),
            (this.emptyFriendMessage = e));
        }
        createLoginToAddFriendsMessage() {
          const e = (0, r.Le)(
              this.friendListContainer,
              "room_friend_container",
            ),
            t = (0, r.Le)(
              e,
              "room_friend_empty_message_container room_friend_empty_message_container_login",
            );
          ((0, r.i5)(t, "room_friend_empty_message_text", {
            key: "strings:profilePage.friends.loginToAddFriends",
          }),
            (0, r.G0)(t, () => {
              new g.L();
            }));
        }
        toggleEmptyFriendMessage(e) {
          (e && this.toggleRoomFullMessage(!1),
            null == this.emptyFriendMessage
              ? 0 != e && this.createEmptyFriendMessage()
              : this.emptyFriendMessage.classList.toggle("hidden", !e));
        }
        toggleRoomFullMessage(e) {
          (e && this.toggleEmptyFriendMessage(!1),
            null == this.roomFullMessage
              ? 0 != e && this.createRoomFullMessage()
              : this.roomFullMessage.classList.toggle("hidden", !e));
        }
        createRoomFullMessage() {
          const e = (0, r.Le)(
            this.friendListContainer,
            "room_friend_container",
          );
          ((0, r.i5)(e, "room_friend_empty_message_text", {
            key: "strings:roomPage.roomFull",
          }),
            (this.roomFullMessage = e));
        }
        toggleFriendInviteButtonState(e, t) {
          const s = this.friendViews.find((t) => t.getUserId() == e);
          null != s && (t ? s.enableInviteButton() : s.disableInviteButton());
        }
        sortFriendsListByOnlineStatus() {
          this.friendViews.sort(
            (e, t) => e.getOnlineStatus() - t.getOnlineStatus(),
          );
          for (const e of this.friendViews)
            this.friendListContainer.removeChild(e.getContainer());
          for (const e of this.friendViews)
            this.friendListContainer.appendChild(e.getContainer());
        }
        removeFriendViewWithDelay(e, t) {
          const s = setTimeout(
            () => this.removeFriendView(e),
            this.FRIEND_REMOVAL_DELAY_MS,
          );
          this.removalTimeouts.set(t, s);
        }
        deleteRemovalTimeout(e) {
          const t = this.removalTimeouts.get(e);
          null != t && (this.removalTimeouts.delete(e), clearTimeout(t));
        }
        animateInviteFriendsButton() {}
        constructor(e, t, s) {
          ((this.friendViews = []),
            (this.removalTimeouts = new Map()),
            (this.FRIEND_REMOVAL_DELAY_MS = 1e3),
            (this.usersInRoom = []),
            (this.friendList = []),
            (this.isRoomFull = !1),
            (this.friendListContainer = e),
            (this.friendHeader = t),
            (this.friendPlayerList = s),
            m._.registerChangeListener(() => {
              (this.showFriendListUI(), this.getAllFriendCount());
            }));
        }
      }
    },
    50629: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/knight_move_bronze.5e7b3e015b7ccfccb5bc.svg";
    },
    51099: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/ab_profile_ranked.3cbd24ce47c7f8560528.png";
    },
    51238: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/lobby_ad_thanksgiving.8c3912231313bd856c15.png";
    },
    51255: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_swords.b302096d6d787830dd10.svg";
    },
    51839: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_merchant_silver.82dd86ab681507d3e1e8.svg";
    },
    51853: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/card_progress_science_printer.c91504dd7aa6870427fc.svg";
    },
    51988: (e, t, s) => {
      "use strict";
      s.d(t, { F: () => r });
      var i = s(20751),
        n = s(64038);
      class r {
        static getItemsInCategory(e, t = !0) {
          const s = [];
          for (const i of r.itemList)
            (t && !i.activeInStore) || (i.category == e && s.push(i));
          return s;
        }
        static getItemDetail(e, t) {
          return this.getItemDetailFromArray(e, t, r.itemList);
        }
        static getItemDetailForReferralProgram(e, t) {
          return this.getItemDetailFromArray(e, t, [...r.itemList, new i.L()]);
        }
        static getItemDetailFromArray(e, t, s) {
          for (const i of s) if (i.category == e && i.type == t) return i;
        }
      }
      r.itemList = [
        new n.l2(),
        new n.RU(),
        new n.Vk(),
        new n.kD(),
        new n.L$(),
        new n.__(),
        new n.bf(),
        new n.SN(),
        new n.ZZ(),
        new n.r8(),
        new n.D8(),
        new n.LK(),
        new n.$G(),
        new n.xU(),
        new n.Xf(),
        new n.Zc(),
        new n.yl(),
        new n.dZ(),
        new n.b6(),
        new n.qW(),
        new n.dS(),
        new n.jU(),
        new n.Ms(),
        new n.lt(),
        new n.As(),
        new n.Ry(),
        new n.p7(),
        new n.lQ(),
        new n.Ke(),
        new n.rf(),
        new n.bZ(),
        new n.NH(),
        new n.bE(),
        new n.hK(),
        new n.Jt(),
        new n.hd(),
        new n.lY(),
        new n.SV(),
        new n.yT(),
        new n.pk(),
        new n.XP(),
        new n.G(),
        new n.YU(),
        new n.j6(),
        new n.FK(),
        new n.z3(),
        new n.yI(),
        new n.qD(),
        new n.Gi(),
        new n.ac(),
        new n.fB(),
        new n.W1(),
        new n.RF(),
        new n.Ph(),
        new n.ef(),
        new n.Hl(),
        new n.Ge(),
        new n.v$(),
      ];
    },
    52283: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_snorkel.683491efcf5ea219cdf2.svg";
    },
    52312: (e, t, s) => {
      "use strict";
      s.d(t, { t: () => A });
      var i = s(76092),
        n = s(50482),
        r = s(92524),
        o = s(81888),
        a = s(18514),
        c = s(66681),
        l = s(32398),
        d = s(655),
        u = s(44517),
        h = s(19733),
        p = s(81966),
        m = s(34221),
        g = s(41931),
        f = s(18587),
        y = s(95176);
      class b extends y.y {
        constructor() {
          var e;
          (super(
            { key: "strings:popups.errors.discordRedirectToWeb.title" },
            {
              key: "strings:popups.errors.discordRedirectToWeb.body",
              options: {
                username:
                  null === (e = o._.userState) || void 0 === e
                    ? void 0
                    : e.username,
              },
            },
            () => {},
            () => {},
            !1,
          ),
            super.removeXButton(),
            super.show());
        }
      }
      var v = s(13618),
        S = s(9029),
        k = s(19966),
        C = s(31166),
        P = s(82535),
        _ = s(74710);
      class A {
        initMembershipStatus() {
          var e;
          (
            null === (e = o._.userState) || void 0 === e
              ? void 0
              : e.items.hasMembership()
          )
            ? this.showMembershipTitleAndIcon()
            : this.showNotMemberTextAndBecomeMemberCTA();
        }
        showMembershipTitleAndIcon() {
          var e, t, s;
          const i =
            null === (e = o._.userState) || void 0 === e
              ? void 0
              : e.items.getCurrentMembership();
          if (null == i) return;
          const a = n.Zt.getMembershipProduct(i.type),
            c = (0, S.Le)(
              this.membershipStatusContainer,
              "page-profile-settings-account-container",
              "",
            );
          (0, S.zO)(c, i.image);
          const l = (0, _.dN)(
            { key: "strings:storePage.membership.body" },
            {
              title: i.title,
              frequency: a.billedAnnually
                ? { key: "strings:storePage.membership.frequency.annual" }
                : { key: "strings:storePage.membership.frequency.monthly" },
            },
          );
          (0, S.n8)(c, l, "", "", "H3");
          if (
            (null === (t = o._.userState) || void 0 === t
              ? void 0
              : t.items.membershipPaymentMethod) == r.g5.Stripe ||
            (null === (s = o._.userState) || void 0 === s
              ? void 0
              : s.items.membershipPaymentMethod) == r.g5.Discord
          ) {
            const e = (0, S.Le)(
              this.membershipStatusContainer,
              "page-profile-settings-account-button disconnect",
            );
            ((0, S.RH)(e, {
              key: "strings:storePage.sections.membership.action.manage",
            }),
              (0, S.G0)(e, () =>
                A.handleSettingsClick(() => A.manageMembershipClickAction()),
              ),
              this.membershipStatusContainer.appendChild(e));
          }
        }
        static manageMembershipClickAction() {
          var e;
          (C.WC.play(C.hc.Click),
            k.CA.sendGoogleAnalyticsEvent(
              k.CA.Category.Profile,
              k.CA.Label.ClickedProfileManageMembership,
              null === (e = o._.userState) || void 0 === e
                ? void 0
                : e.items.membership,
            ),
            P.B.executeStripeCustomerPortalSession());
        }
        showNotMemberTextAndBecomeMemberCTA() {
          const e = (0, S.Wr)(
              this.membershipStatusContainer,
              {
                key: "strings:profilePage.settings.membership.dontHaveMemebership",
              },
              "",
            ),
            t = (0, S.cE)(
              this.membershipStatusContainer,
              "",
              { key: "strings:profilePage.settings.membership.becomeMember" },
              "button_cta_main",
            );
          ((0, S.G0)(t, () => A.becomeMemberClickAction(), !0),
            this.membershipStatusContainer.appendChild(e),
            this.membershipStatusContainer.appendChild(t));
        }
        static handleSettingsClick(e) {
          f.r.isUserOnDiscord ? new b() : e();
        }
        static becomeMemberClickAction() {
          C.WC.play(C.hc.Click);
          const e = { type: i.k0.ClickedStore, category: i.eX.Store };
          (k.CA.sendAnalyticEvent(e),
            (0, v.Yf)("/store#membership", void 0, !0));
        }
        initAccountsSection() {
          (A.setConnectAccountButtonAction(this.googleButton, l.l.googleLink()),
            A.setConnectAccountButtonAction(
              this.discordButton,
              l.l.discordLink(),
            ),
            A.setConnectAccountButtonAction(this.appleButton, l.l.appleLink()));
        }
        setUserLoginState(e) {
          ((this.currentUserLoginState = e),
            this.setAccountEmailsIfAlreadyConnected());
        }
        setAccountEmailsIfAlreadyConnected() {
          for (const e of this.currentUserLoginState) {
            const t = {
              key: "strings:colonistCommon.utils.#buffer",
              options: { value: e.email },
            };
            switch (e.providerId) {
              case i.sG.Google:
                ((0, S.RH)(this.googleEmail, t),
                  this.googleEmail.classList.remove("hidden"),
                  A.setDisconnectAccountButtonAction(
                    this.googleButton,
                    l.l.googleUnlink(),
                  ));
                break;
              case i.sG.Discord:
                ((0, S.RH)(this.discordEmail, t),
                  this.discordEmail.classList.remove("hidden"),
                  A.setDisconnectAccountButtonAction(
                    this.discordButton,
                    l.l.discordUnlink(),
                  ));
                break;
              case i.sG.Apple:
                ((0, S.RH)(this.appleEmail, t),
                  this.appleEmail.classList.remove("hidden"),
                  A.setDisconnectAccountButtonAction(
                    this.appleButton,
                    l.l.appleUnlink(),
                  ));
            }
          }
        }
        static setConnectAccountButtonAction(e, t) {
          (0, S.G0)(e, () => A.handleSettingsClick(() => A.handleConnect(t)));
        }
        static setDisconnectAccountButtonAction(e, t) {
          ((0, S.G0)(e, () =>
            A.handleSettingsClick(() => A.handleDisconnect(t)),
          ),
            e.classList.add("disconnect"),
            (0, S.RH)(e, {
              key: "strings:profilePage.settings.accounts.disconnect",
            }));
        }
        static handleConnect(e) {
          (0, v.Yf)(e);
        }
        static async handleDisconnect(e) {
          h.r.create(
            { key: "strings:profilePage.removeAccount.title" },
            { key: "strings:profilePage.removeAccount.body" },
            async () => {
              null != (await d.m.getRequestHandler(e, void 0)) &&
                location.reload();
            },
            () => {},
          );
        }
        static async checkIfUsernameMatchesInput(e, t) {
          if (e.toLowerCase() != t.toLocaleLowerCase())
            return void h.r.createSimplePopup(
              { key: "strings:popups.errors.general.title" },
              { key: "strings:profilePage.deleteAccount.usernamesDontMatch" },
            );
          const s = { username: t };
          null !=
            (await d.m.postRequestHandler(
              l.l.apiDeleteProfile(),
              void 0,
              s,
              "application/json",
            )) &&
            (g.p.clearUserState(),
            c.i0.sendEvent(u.s.ReloadWebsite),
            (0, v.Yf)("/?account-deleted=1"));
        }
        static showDeleteAccountPopup() {
          if (null == o._.userState) return;
          const e = o._.userState.username,
            t = new p.e(
              { key: "strings:profilePage.deleteAccount.title" },
              {
                key: "strings:profilePage.deleteAccount.body",
                options: { username: e },
              },
              (t) => A.checkIfUsernameMatchesInput(e, t),
              () => {},
              !0,
            );
          ((t.body.style.flexDirection = "column"),
            t.setPlaceholder(
              a.a7.t("strings:profilePage.deleteAccount.inputPlaceholder"),
            ),
            t.setLengthLimits(1, 100),
            (t.checkButton.innerText = a.a7.t(
              "strings:profilePage.deleteAccount.button",
            )),
            t.checkButton.classList.add("btn_danger"),
            t.checkButton.classList.remove("btn_general_check"),
            (t.checkButton.style.width = "initial"),
            (t.xButton.style.margin = "0"),
            t.show());
        }
        static handleLogout() {
          new y.y(
            { key: "strings:homePage.header.logoutPopup.title" },
            { key: "strings:homePage.header.logoutPopup.body" },
            async () => {
              null !=
                (await d.m.postRequestHandler(l.l.logout(), void 0, void 0)) &&
                (g.p.setUserBypassedLogin(!1),
                g.p.clearUserState(),
                (0, v.Yf)((0, v.mE)()));
            },
            () => {},
            !1,
          ).show();
        }
        constructor() {
          ((this.membershipStatusContainer = document.getElementById(
            "membership-status-container",
          )),
            (this.deleteAccountButton = document.getElementById(
              "page-profile-settings-delete-account",
            )),
            (this.logoutButton = document.getElementById(
              "page-profile-settings-logout",
            )),
            (0, S.G0)(this.deleteAccountButton, () => {
              f.r.isUserOnDiscord ? new b() : A.showDeleteAccountPopup();
            }),
            this.logoutButton &&
              (0, S.G0)(this.logoutButton, () => A.handleLogout()),
            (this.googleEmail = document.getElementById(
              "page-profile-settings-account-email-google",
            )),
            (this.discordEmail = document.getElementById(
              "page-profile-settings-account-email-discord",
            )),
            (this.appleEmail = document.getElementById(
              "page-profile-settings-account-email-apple",
            )),
            (this.googleButton = document.getElementById(
              "page-profile-settings-account-button-google",
            )),
            (this.discordButton = document.getElementById(
              "page-profile-settings-account-button-discord",
            )),
            (this.appleButton = document.getElementById(
              "page-profile-settings-account-button-apple",
            )),
            new m.h(),
            this.initMembershipStatus(),
            this.initAccountsSection());
        }
      }
    },
    52324: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/map_blackforest_preview.273287323f0cba6b14ef.png";
    },
    52533: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/sfx_room_setting_updated.26996274eec91bbe677d.mp3";
    },
    52580: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_scarf.bba1dd576f3d54244b3a.svg";
    },
    52745: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/android_status_bar_after.8a51c2bac7ac668fc56d.png";
    },
    52895: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/bg_button.6fb386c356a3e9b580e2.svg";
    },
    52955: (e, t, s) => {
      "use strict";
      s.d(t, {
        TO: () => b,
        P8: () => g,
        mF: () => n,
        M2: () => p,
        mb: () => u,
        oX: () => f,
        jo: () => c,
        bv: () => o,
        Li: () => r,
        _k: () => d,
        BI: () => m,
        fv: () => h,
        xd: () => a,
        to: () => l,
      });
      var i = s(78311);
      function n(e) {
        return "boolean" == typeof e;
      }
      function r(e) {
        return "number" == typeof e && !Number.isNaN(e) && Number.isFinite(e);
      }
      function o(e) {
        return void 0 === e || null === e;
      }
      function a(e) {
        return "string" == typeof e;
      }
      function c(e) {
        return a(e) && "" != e;
      }
      function l(e, t, s) {
        return (
          a(e) &&
          (function (e, t, s) {
            return r(e) && e >= t && e <= s;
          })(e.length, t, s)
        );
      }
      function d(e, t) {
        return !!r(e) && null != t[e];
      }
      function u(e) {
        return a(e) && /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e);
      }
      function h(e, t) {
        const s = t == i.hx.Administrator,
          n = t == i.hx.Manager,
          r = t == i.hx.Moderator,
          o = t == i.hx.User;
        switch (e) {
          case void 0:
            return !1;
          case i.hx.Administrator:
            if (s || n || r || o) return !0;
            break;
          case i.hx.Manager:
            if (n || r || o) return !0;
            break;
          case i.hx.Moderator:
            if (r || o) return !0;
            break;
          case i.hx.User:
            if (o) return !0;
        }
        return !1;
      }
      function p(e) {
        return (
          (e instanceof Date && !isNaN(e.getTime())) ||
          !(!a(e) || isNaN(Date.parse(e)))
        );
      }
      function m(e) {
        return "object" == typeof e && !Array.isArray(e);
      }
      function g(e) {
        return Array.isArray(e);
      }
      function f(e) {
        return null != e && e instanceof File;
      }
      class y extends Error {
        constructor(e, t) {
          (super(e), (this.value = t));
        }
      }
      function b(e, t, s, i = "Value is not a valid string") {
        if (!l(e, t, s)) throw new y(i, e);
        return e;
      }
    },
    53015: (e, t, s) => {
      "use strict";
      s.d(t, {
        WB: () => a,
        ai: () => r,
        h8: () => n,
        l1: () => o,
        n9: () => i,
        nx: () => c,
      });
      var i = (function (e) {
          return (
            (e[(e.PresalePack = 0)] = "PresalePack"),
            (e[(e.Expansion = 1)] = "Expansion"),
            (e[(e.Map = 2)] = "Map"),
            (e[(e.Icon = 3)] = "Icon"),
            (e[(e.Color = 4)] = "Color"),
            (e[(e.Consumable = 5)] = "Consumable"),
            (e[(e.Membership = 6)] = "Membership"),
            e
          );
        })({}),
        n = (function (e) {
          return (
            (e[(e.SettlerPack = 0)] = "SettlerPack"),
            (e[(e.ColonistPack = 1)] = "ColonistPack"),
            (e[(e.FounderPack = 2)] = "FounderPack"),
            e
          );
        })({}),
        r = (function (e) {
          return (
            (e[(e.Earth = 0)] = "Earth"),
            (e[(e.USA = 1)] = "USA"),
            (e[(e.UK = 2)] = "UK"),
            (e[(e.Diamond = 3)] = "Diamond"),
            (e[(e.Gear = 4)] = "Gear"),
            (e[(e.Lakes = 5)] = "Lakes"),
            (e[(e.Pond = 6)] = "Pond"),
            (e[(e.Twirl = 7)] = "Twirl"),
            (e[(e.Classic4PRandom = 8)] = "Classic4PRandom"),
            (e[(e.ShuffleBoard = 9)] = "ShuffleBoard"),
            (e[(e.BlackForest = 10)] = "BlackForest"),
            (e[(e.Volcano = 11)] = "Volcano"),
            (e[(e.GoldRush = 12)] = "GoldRush"),
            e
          );
        })({}),
        o = (function (e) {
          return (
            (e[(e.FounderHat = 0)] = "FounderHat"),
            (e[(e.ColonistHat = 1)] = "ColonistHat"),
            (e[(e.SettlerHat = 2)] = "SettlerHat"),
            (e[(e.ChristmasHat = 3)] = "ChristmasHat"),
            (e[(e.Player = 4)] = "Player"),
            (e[(e.PirateShip = 5)] = "PirateShip"),
            (e[(e.MedalGold = 6)] = "MedalGold"),
            (e[(e.MedalSilver = 7)] = "MedalSilver"),
            (e[(e.MedalBronze = 8)] = "MedalBronze"),
            (e[(e.Elephant = 9)] = "Elephant"),
            (e[(e.Avocado = 10)] = "Avocado"),
            (e[(e.Cactus = 11)] = "Cactus"),
            (e[(e.Crown = 12)] = "Crown"),
            (e[(e.Swords = 13)] = "Swords"),
            (e[(e.Helmet = 14)] = "Helmet"),
            (e[(e.Snorkel = 15)] = "Snorkel"),
            (e[(e.Scarf = 16)] = "Scarf"),
            (e[(e.Tie = 17)] = "Tie"),
            (e[(e.Worker = 18)] = "Worker"),
            (e[(e.Sombrero = 19)] = "Sombrero"),
            (e[(e.Farmer = 20)] = "Farmer"),
            (e[(e.RobberSanta = 21)] = "RobberSanta"),
            (e[(e.RobberLunar = 22)] = "RobberLunar"),
            (e[(e.RobberCupid = 23)] = "RobberCupid"),
            (e[(e.Mummy = 24)] = "Mummy"),
            (e[(e.Gifter = 25)] = "Gifter"),
            e
          );
        })({}),
        a = (function (e) {
          return (
            (e[(e.Gold = 0)] = "Gold"),
            (e[(e.Silver = 1)] = "Silver"),
            (e[(e.Bronze = 2)] = "Bronze"),
            (e[(e.Black = 3)] = "Black"),
            (e[(e.Purple = 4)] = "Purple"),
            (e[(e.MysticBlue = 5)] = "MysticBlue"),
            (e[(e.White = 6)] = "White"),
            (e[(e.Pink = 7)] = "Pink"),
            e
          );
        })({}),
        c = (function (e) {
          return (
            (e[(e.UsernameChange = 0)] = "UsernameChange"),
            (e[(e.PurchaseResourceCardWithColonistCoin = 1)] =
              "PurchaseResourceCardWithColonistCoin"),
            (e[(e.PurchaseDevelopmentCardWithColonistCoin = 2)] =
              "PurchaseDevelopmentCardWithColonistCoin"),
            (e[(e.PremiumRoom = 3)] = "PremiumRoom"),
            e
          );
        })({});
    },
    53059: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_send.0395fe5de05351959b13.svg";
    },
    53142: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/knight_level1_active_bronze.01bd5895615929ab9a14.svg";
    },
    53221: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/game_spritesheet_4.e439bdcca23c4795edac.json";
    },
    53304: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/ab_gifting_halloween.58ec6e46fa733b78407d.png";
    },
    53389: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/stat_longest_road.744854762976620e07e4.svg";
    },
    53503: (e, t, s) => {
      "use strict";
      s.d(t, { T: () => r });
      var i = s(50482),
        n = s(81888);
      class r {
        set items(e) {
          (this.storeUI.bodyController.updateOwnedItems(e),
            this.storeUI.bodyController.updatePriceForFounderPack(e));
        }
        get membershipToggleYearlyActive() {
          return this._membershipToggleYearlyActive;
        }
        set membershipToggleYearlyActive(e) {
          if (((this._membershipToggleYearlyActive = e), e))
            return (
              this.storeUI.bodyController.membershipItems.forEach((e) => {
                e.productDiv.style.display = e.membershipProduct.billedAnnually
                  ? "flex"
                  : "none";
              }),
              void this.storeUI.bodyController.membershipTabsController.setTabAnnual(
                !0,
              )
            );
          (this.storeUI.bodyController.membershipItems.forEach((e) => {
            e.productDiv.style.display = e.membershipProduct.billedAnnually
              ? "none"
              : "flex";
          }),
            this.storeUI.bodyController.membershipTabsController.setTabAnnual(
              !1,
            ));
        }
        setMembership(e, t) {
          (this.storeUI.bodyController.updateOwnedMembership(e, t),
            this.storeUI.bodyController.updateSubscribedItems(e, t));
          const s = void 0 === e || i.Zt.isAnnualMembership(e.type);
          this.membershipToggleYearlyActive = s;
        }
        set giftedMembershipItems(e) {
          this.storeUI.bodyController.updateGiftedMemberships(e);
        }
        updateUserStoreState(e) {
          var t;
          this.items =
            null !== (t = null == e ? void 0 : e.items.getItems()) &&
            void 0 !== t
              ? t
              : [];
          const s = null == e ? void 0 : e.items.membership;
          var n;
          (this.setMembership(
            null != s ? i.Zt.getMembershipProduct(s) : void 0,
            null == e ? void 0 : e.items.membershipPaymentMethod,
          ),
            (this.giftedMembershipItems =
              null !== (n = null == e ? void 0 : e.items.giftedMemberships) &&
              void 0 !== n
                ? n
                : []));
        }
        constructor(e) {
          ((this._membershipToggleYearlyActive = !0),
            (this.storeUI = e),
            setTimeout(() => {
              n._.registerChangeListener((e) => {
                this.updateUserStoreState(e);
              });
            }, 1));
        }
      }
    },
    53879: (e, t, s) => {
      "use strict";
      s.d(t, { U: () => i });
      class i {
        static isAvailable() {
          return "function" == typeof BroadcastChannel;
        }
        sendEvent(e) {
          this.broadcastChannel.postMessage(e);
        }
        onEvent(e, t) {
          this.eventCallbacks.set(e, t);
        }
        constructor() {
          ((this.CHANNEL_NAME = "colonist"),
            (this.broadcastChannel = new BroadcastChannel(this.CHANNEL_NAME)),
            (this.eventCallbacks = new Map()),
            this.broadcastChannel.addEventListener("message", (e) => {
              const t = this.eventCallbacks.get(e.data);
              null == t || t();
            }));
        }
      }
    },
    54227: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_arrow_down.43abc0247b96f0840f9b.svg";
    },
    54369: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/colonist_rush_beta.bb05a78a21d1452cc97e.png";
    },
    54593: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/sfx_settlement_phase_ended.7e282406bfa6bbac3eb7.mp3";
    },
    54866: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/bg_button_blue.b7198c2652442d82f2eb.svg";
    },
    54946: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/stat_dev_card_bought.ae2f4298982ec938b9be.svg";
    },
    55159: (e, t, s) => {
      "use strict";
      s.d(t, { E: () => n });
      var i = s(95176);
      class n extends i.y {
        constructor(e) {
          (super(
            { key: "strings:roomPage.leaveRoom.title" },
            { key: "strings:roomPage.leaveRoom.body" },
            e,
            () => {},
            !1,
            void 0,
          ),
            this.show());
        }
      }
    },
    55536: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/ab_membership.2dd8fb677256640029b2.png";
    },
    55803: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_check.25cd255d370bed6f507b.svg";
    },
    55828: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/settlement_red.22949197b57f9cfd968b.svg";
    },
    55853: (e, t, s) => {
      "use strict";
      s.d(t, { Y: () => u });
      var i = s(78311),
        n = s(9127),
        r = s(69714),
        o = s(75589),
        a = s(30506),
        c = s(4508),
        l = s(66681),
        d = s(5603);
      class u {
        init() {
          l.sZ.controller.registerSessionEstablishedObserver(() => {
            (this.removeAllInvites(), u.registerToFriendService());
          });
        }
        static registerToFriendService() {
          (r.Q.registerToFriendService(),
            r.Q.changedOnlineStatus(this.lastOnlineStatus),
            o.G.delayNotificationDataRequest(() =>
              r.Q.getAllFriendRoomInvitesReceived(),
            ));
        }
        static setOnlineStatus(e) {
          ((this.lastOnlineStatus = e), r.Q.changedOnlineStatus(e));
        }
        static userOnlineAndIdle() {
          this.setOnlineStatus(n.WA.OnlineAndIdle);
        }
        static userEnteredRoom() {
          (this.setOnlineStatus(n.WA.InRoom),
            o.G.delayNotificationDataRequest(() =>
              r.Q.getAllFriendsOnlineStatus(),
            ));
        }
        static userEnteredGame() {
          this.setOnlineStatus(n.WA.InGame);
        }
        static inviteFriendToRoom(e, t) {
          r.Q.inviteFriendToRoom(e, t);
        }
        static respondToFriendRoomInvite(e, t, s) {
          (t && l.P_.leaveRoomAndJoinRoom(e),
            r.Q.respondToFriendRoomInvite(e, t, s));
        }
        updateFriendOnlineStatus(e) {
          this.displayNotificationIfUserCameOnline(e);
        }
        updateAllFriendsOnlineStatus(e) {
          this.onlineFriendUsers.clear();
          for (const t of e) this.onlineFriendUsers.set(t.userId, t);
        }
        friendRespondedToRoomInvite(e) {
          if (e.response) return;
          const t = {
            key: "strings:roomPage.declinedInvite",
            options: { username: e.responderUsername },
          };
          this.showNotification(i.am.Lightning, t);
        }
        receivedRoomInvites(e) {
          e.length > 0 && d.A.play(d.h.RoomSettingUpdated);
          for (const t of e)
            (this.showRoomInvitePopupNotification(t),
              this.addRoomInviteNotificationToPanel(t));
        }
        receivedFriendRequest(e) {
          (d.A.play(d.h.RoomSettingUpdated),
            this.showFriendRequestPopupNotification(e),
            this.addFriendRequestNotificationToPanel(e));
        }
        addRoomInviteNotificationToPanel(e) {
          const t = {
            type: c.j.LiveRoomInvite,
            roomId: e.roomId,
            senderUsername: e.senderUsername,
            senderUserId: e.senderUserId,
            senderIcon: e.senderIcon,
          };
          this.addCTANotificationToPanel(
            t,
            e.dateCreated,
            e.roomId,
            this.roomInviteNotifications,
          );
        }
        addFriendRequestNotificationToPanel(e) {
          const t = { type: c.j.FriendRequestReceived, username: e.username };
          this.addCTANotificationToPanel(
            t,
            e.dateCreated,
            e.username,
            this.friendRequestNotifications,
          );
        }
        addCTANotificationToPanel(e, t, s, i) {
          if (null == this.notificationPanelController) return;
          const n = this.notificationPanelController.addCTANotification({
              typeData: e,
              dateReceived: t,
            }),
            r = i.get(s);
          r ? r.push(n) : i.set(s, [n]);
        }
        showRoomInvitePopupNotification(e) {
          const t = {
            key: "strings:roomPage.userInvitedToRoom",
            options: {
              context: "checkNotifications",
              username: e.senderUsername,
              roomId: e.roomId,
            },
          };
          this.showJoinRoomNotification(e.senderIcon, t, e);
        }
        showFriendRequestPopupNotification(e) {
          const t = {
            key: "strings:popups.notification.userSentYouFriendRequest",
            options: { context: "noLink", username: e.username },
          };
          this.showNotification(i.am.Friends, t);
        }
        removeRoomInvitesWithRoomId(e) {
          var t;
          const s = this.roomInviteNotifications.get(e);
          if (s) {
            for (const e of s)
              null === (t = this.notificationPanelController) ||
                void 0 === t ||
                t.removeCTANotification(e);
            this.roomInviteNotifications.delete(e);
          }
        }
        removeAllInvites() {
          for (const e of this.roomInviteNotifications.keys())
            this.removeRoomInvitesWithRoomId(e);
        }
        displayNotificationIfUserCameOnline(e) {
          const t = this.enoughTimePassedSinceLastNotificationForUser(e.userId),
            s = this.didUserComeOnline(e);
          (t &&
            s &&
            this.showNotification(e.icon, {
              key: "strings:roomPage.friendOnline",
              options: { username: e.username },
            }),
            this.lastNotificationTimeForUser.set(e.userId, Date.now()));
          e.onlineStatus == n.WA.Offline
            ? this.onlineFriendUsers.delete(e.userId)
            : this.onlineFriendUsers.set(e.userId, e);
        }
        enoughTimePassedSinceLastNotificationForUser(e) {
          const t = this.lastNotificationTimeForUser.get(e);
          if (null == t) return !0;
          return Date.now() - t > this.ONLINE_NOTIFICATION_THROTTLE_MS;
        }
        didUserComeOnline(e) {
          const t = this.onlineFriendUsers.get(e.userId),
            s = e.onlineStatus == n.WA.OnlineAndIdle,
            i =
              (null == t ? void 0 : t.onlineStatus) == n.WA.Offline ||
              null == t;
          return s && i;
        }
        constructor(e) {
          ((this.roomInviteNotifications = new Map()),
            (this.friendRequestNotifications = new Map()),
            (this.onlineFriendUsers = new Map()),
            (this.lastNotificationTimeForUser = new Map()),
            (this.ONLINE_NOTIFICATION_THROTTLE_MS =
              a.Re.SECONDS_IN_MINUTE * a.Re.MILLISECONDS),
            (this.notificationPanelController = e));
        }
      }
      u.lastOnlineStatus = n.WA.OnlineAndIdle;
    },
    56088: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/card_progress_science_engineer.c84ec8897d516fc0b0e6.svg";
    },
    56105: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_audio.dec5b3d9c9c4db33e61d.svg";
    },
    56116: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_cactus.64fe2f1d897c215ef618.svg";
    },
    56145: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/knight_level1_active_white.c92efa08f11f54541c76.svg";
    },
    56561: (e, t, s) => {
      "use strict";
      s.d(t, { X: () => n });
      var i = s(95176);
      class n extends i.y {
        constructor(e) {
          var t, s, i, n, r;
          super(
            {
              key: "strings:colonistCommon.utils.#buffer",
              options: { value: "Debug Device Info" },
            },
            {
              key: "strings:colonistCommon.utils.#buffer",
              options: {
                value:
                  `<b>Dimensions: </b> ${null === (s = document) || void 0 === s || null === (t = s.body) || void 0 === t ? void 0 : t.clientWidth} x ${null === (n = document) || void 0 === n || null === (i = n.body) || void 0 === i ? void 0 : i.clientHeight} <br/>` +
                  `<b>UA: </b> ${null === (r = navigator) || void 0 === r ? void 0 : r.userAgent}  <br/>` +
                  e,
              },
            },
            () => {},
            () => {},
            !0,
            { showXonHeader: !0, showCheckButton: !1, showXButton: !1 },
          );
        }
      }
    },
    56820: (e, t, s) => {
      "use strict";
      s.d(t, { M: () => r });
      var i = s(5603),
        n = s(9029);
      class r {
        setTabAnnual(e) {
          if (e)
            return (
              this.monthlyTab.classList.remove("active"),
              void this.annualTab.classList.add("active")
            );
          (this.monthlyTab.classList.add("active"),
            this.annualTab.classList.remove("active"));
        }
        static getDiscountString() {
          return "20";
        }
        constructor(e) {
          ((this.monthlyTab = document.getElementById(
            "store_page_membership_monthly_tab",
          )),
            (this.annualTab = document.getElementById(
              "store_page_membership_annual_tab",
            )));
          const t = r.getDiscountString();
          ((0, n.oB)(this.annualTab, {
            key: "strings:storePage.membership.frequency.annual",
            options: { context: "store", discount: `${t}` },
          }),
            (0, n.G0)(this.monthlyTab, () => {
              (i.A.play(i.h.Click), (e.membershipToggleYearlyActive = !1));
            }),
            (0, n.G0)(this.annualTab, () => {
              (i.A.play(i.h.Click), (e.membershipToggleYearlyActive = !0));
            }));
        }
      }
    },
    56961: (e, t, s) => {
      "use strict";
      s.d(t, {
        SK: () => r,
        VX: () => n,
        Xk: () => a,
        hK: () => c,
        zk: () => o,
      });
      var i = s(98487),
        n = (function (e) {
          return (
            (e[(e.Low = 0)] = "Low"),
            (e[(e.Medium = 1)] = "Medium"),
            (e[(e.High = 2)] = "High"),
            e
          );
        })({});
      const r = new Set([
          i.Nw.RankedCitiesAndKnights4P,
          i.Nw.RankedClassic4P,
          i.Nw.RankedClassic56P,
          i.Nw.RankedSeafarers4P,
          i.Nw.RankedSeafarers56P,
          i.Nw.RankedCitiesAndKnights56P,
          i.Nw.RankedClassic1v1,
        ]),
        o = new Set([
          i.Nw.RankedCitiesAndKnights4P,
          i.Nw.UnrankedCitiesAndKnights4P,
          i.Nw.RankedCitiesAndKnights56P,
          i.Nw.UnrankedCitiesAndKnights56P,
        ]),
        a = new Set([
          i.Nw.UnrankedClassic4P,
          i.Nw.RankedClassic4P,
          i.Nw.UnrankedClassic1v1,
          i.Nw.RankedClassic1v1,
          i.Nw.RankedCitiesAndKnights4P,
          i.Nw.UnrankedShuffle,
        ]);
      var c = (function (e) {
        return (
          (e[(e.ClickedCancel = 0)] = "ClickedCancel"),
          (e[(e.FailedToWatchVideoAd = 1)] = "FailedToWatchVideoAd"),
          e
        );
      })({});
    },
    57363: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/dice_6.68f39630050519374015.svg";
    },
    57385: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/sfx_game_started.361e1eda1fa0223d7a25.mp3";
    },
    57566: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/knight_level1_active_pink.63f1a1d85e1b4f6ef618.svg";
    },
    57795: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/settlement_bronze.f7d653aba54121d33d8f.svg";
    },
    58416: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/card_progress_science_smith.216b640cb25b4aecf63c.svg";
    },
    58533: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/card_progress_politics_warlord.fa116cf5a8b6b6082d2d.svg";
    },
    58961: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/settlement_orange.774ddafc8cc0595acdb7.svg";
    },
    59011: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_robber_lunar.1d129fda5b618a91b3c7.png";
    },
    59138: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/map_uk_preview.ce7d20e61604be794645.png";
    },
    59179: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/ship_green_north_west.714b14c17875fd12ce96.svg";
    },
    59200: (e, t, s) => {
      "use strict";
      s.d(t, { f: () => i });
      var i,
        n = s(18514);
      !(function (e) {
        e.tLeaderboardTabName = function (e) {
          if ("string" == typeof e) {
            const t = n.vX.getCountryName(e);
            if (null != t) return t;
            return e;
          }
          return n.a7.t(e.key, e.options);
        };
      })(i || (i = {}));
    },
    59548: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/settlement_black.c687de87c2493d1624ea.svg";
    },
    59610: (e, t, s) => {
      "use strict";
      s.d(t, { g: () => o });
      var i = s(78311),
        n = s(9029),
        r = s(75900);
      class o extends r.h {
        createUsernameEditor(e) {
          const t = (0, n.Le)(
              this.body,
              "edit-profile-user-information-container no-edit",
            ),
            s = (0, n.Le)(t, "edit-profile-icon-username-container");
          ((0, n.zO)(s, i.am.Bot, "edit-profile-user-icon"),
            (0, n.n8)(
              s,
              {
                key: "strings:colonistCommon.utils.#buffer",
                options: { value: e },
              },
              "edit-profile-username",
              void 0,
              "H2",
            ));
        }
        constructor(e) {
          (super(e, { key: "strings:homePage.popups.changeColor.title" }),
            this.toggleContainer.classList.add("hidden"),
            this.colorSelectorContainer.classList.add("small-popup"),
            this.setTab(r.p.Color));
        }
      }
    },
    59611: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/4p_ranked.5f132a9a0e6be8ffc00f.svg";
    },
    59622: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/barbarian_tracker_hex_inactive.d06f8f7aa21accd1a352.svg";
    },
    59712: (e, t, s) => {
      "use strict";
      s.d(t, { x: () => o });
      var i = s(17326),
        n = s(61896);
      let r;
      function o(e = i.zz.Classic4P) {
        (null == r && (r = new n.k(e)), r.setDefaultPage(e), r.show());
      }
    },
    59803: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/card_progress_science_mining.aea79b103bffde5b1477.svg";
    },
    59991: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/card_progress_trade_merchant.98ddd9f811d73325d94d.svg";
    },
    60038: (e, t, s) => {
      "use strict";
      var i;
      (s.d(t, { N: () => i }),
        (function (e) {
          ((e.isFirstDivisionBoundaryHigherThan = function (t, s) {
            return e.isFirstDivisionHigherThan(
              t.division,
              t.subdivision,
              s.division,
              s.subdivision,
            );
          }),
            (e.isFirstRankedStateHigherThan = function (t, s) {
              return e.isFirstDivisionHigherThan(
                t.divisionType,
                t.subdivisionType,
                s.divisionType,
                s.subdivisionType,
              );
            }),
            (e.isFirstDivisionHigherThan = function (e, t, s, i) {
              return e < s || (!(e > s) && t < i);
            }));
        })(i || (i = {})));
    },
    60046: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/bg_button_highlight.b9eacff9d397dd42a29d.svg";
    },
    60144: (e, t, s) => {
      "use strict";
      s.d(t, { a: () => r });
      var i = s(655),
        n = s(32398);
      class r {
        static async updateUsername(e, t = !1) {
          const s = { username: e, shouldPurchaseIfNoAttemptsLeft: t };
          return this.updateProfile("username", s);
        }
        static async updatePreferredColor(e) {
          const t = { preferredColor: e };
          await this.updateProfile("preferred-color", t);
        }
        static async updateIcon(e) {
          const t = { icon: e };
          await this.updateProfile("icon", t);
        }
        static async updateProfile(e, t) {
          return (
            null !=
            (await i.m.postRequestHandler(
              `${n.l.apiUpdateProfile()}/${e}`,
              void 0,
              t,
              this.contentType,
            ))
          );
        }
      }
      r.contentType = "application/json";
    },
    60178: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/road_pink.0a287c206a9b096b239f.svg";
    },
    60190: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/ship_gold_north_west.0c4bcc9094f99289f59d.svg";
    },
    60341: (e, t, s) => {
      "use strict";
      s.d(t, { c: () => h });
      var i = s(17326),
        n = s(18514),
        r = s(41931),
        o = s(13359),
        a = s(35742),
        c = s(13618),
        l = s(9029),
        d = s(95107),
        u = s(35078);
      class h extends a.u {
        static setupBackButtonListener() {
          const e = document.getElementById("rulebook-header-back-button");
          null != e && (0, l.G0)(e, () => h.goBack());
        }
        static setupLogoButtonListener() {
          const e = document.getElementById("rulebook-header-logo-button");
          null != e && (0, l.G0)(e, () => h.goBack());
        }
        static goBack() {
          const e = h.getRulebookHomepageUrl();
          (r.p.clearLastScene(), (0, c.Yf)(e));
        }
        setupLinkListener() {
          document.body.addEventListener("click", (e) => {
            if (null == e.target) return;
            const t = e.target.closest("a");
            (null == t ? void 0 : t.href.includes("#")) &&
              null !== t &&
              this.onSidebarClick(e);
          });
        }
        static setRulebookLinksStyle() {
          null != h.rulebookStyle &&
            document.querySelectorAll("a").forEach((e) => {
              if (!e.href.startsWith(location.origin)) return;
              if (e.pathname === location.pathname) return;
              const t = new URL(e.href);
              (t.searchParams.set("style", h.rulebookStyle),
                (e.href = t.toString()));
            });
        }
        static getRulebookHomepageUrl() {
          if (h.rulebookStyle != i.RD.Mobile) return (0, c.mE)();
          const e = r.p.getLastScene();
          if (null == e) return `${n.vX.getLanguagePathPrefix()}/mobile`;
          const t = h.getMobileSceneParameter(e);
          return `${n.vX.getLanguagePathPrefix()}/mobile#${t}=${d.v.DEFAULT_PARAMETER_VALUE}`;
        }
        static getMobileSceneParameter(e) {
          switch (e) {
            case u.J.Leaderboard:
              return o.T.MobileLeaderboard;
            case u.J.Lobby:
              return o.T.MobileLobby;
            case u.J.Store:
              return o.T.MobileStore;
            case u.J.Profile:
              return o.T.MobileProfile;
            default:
              return o.T.MobileHomepage;
          }
        }
        constructor() {
          const e = new URLSearchParams(window.location.search);
          var t;
          ((h.rulebookStyle =
            null !== (t = e.get("style")) && void 0 !== t ? t : null),
            h.setupBackButtonListener(),
            h.setupLogoButtonListener());
          const s = document.getElementById("rulebook-content");
          (super(
            s.getElementsByClassName("rulebook-content-container")[0],
            document.getElementById("rulebook-side-navigation"),
            s,
            "side-navigation-link-current-section",
          ),
            s.addEventListener("scroll", () => this.onContentScroll()),
            this.setupLinkListener(),
            h.setRulebookLinksStyle());
        }
      }
    },
    60411: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/prob_6.ada0b8434cfe315beb72.svg";
    },
    60674: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_pencil.9d4a73f29f331378c4b5.svg";
    },
    60793: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/prob_4.a2af3d909fad884353df.svg";
    },
    60883: (e, t, s) => {
      "use strict";
      s.d(t, { D: () => l });
      var i = s(60144),
        n = s(25150),
        r = s(95176),
        o = s(19733),
        a = s(9029),
        c = s(5603);
      class l extends n.Y {
        async updateUsername(e, t = !1) {
          (await i.a.updateUsername(e, t)) && this.showSuccessPopup(e);
        }
        checkAction() {
          (c.A.play(c.h.Click),
            this.inputLengthIsInRange() &&
              this.inputCheckAction(this.input.value));
        }
        showConfirmUsernameChangeWithAttemptsLeftPopup(e) {
          const t = {
            key: "strings:homePage.header.changeUsername.confirm.body",
            options: { count: this.state.usernameChangeAttemptsLeft - 1 },
          };
          o.r.create(
            { key: "strings:homePage.header.changeUsername.confirm.title" },
            t,
            () => {
              this.updateUsername(e, !1);
            },
            () => {},
          );
        }
        showSuccessPopup(e) {
          this.removePopup();
          const t = {
              key: "strings:homePage.header.changeUsername.successDiscord",
              options: { username: e },
            },
            s = new r.y(
              { key: "strings:storePage.success.success" },
              t,
              () => {},
              () => {},
              !0,
              { showXButton: !1 },
            );
          ((s.removeAction = this.continuationAction), s.show());
        }
        constructor(e) {
          (super(),
            (this.continuationAction = e),
            (0, a.G0)(this.xButton, () => {
              (c.A.play(c.h.Click),
                this.removePopup(),
                this.continuationAction());
            }),
            this.setFocusStyles(this.input),
            this.show());
        }
      }
    },
    61193: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/knight_level1_inactive_blue.d3bfa760722ab1dcdf65.svg";
    },
    61235: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/card_progress_politics_saboteur.91dd28c2c711daa19a5a.svg";
    },
    61494: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/stat_largest_army.38a54ee664e005b63759.svg";
    },
    61495: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_play.97d68898ef2f164d9249.svg";
    },
    61498: (e, t, s) => {
      "use strict";
      s.d(t, { v: () => h });
      var i = s(78311),
        n = s(98487),
        r = s(9029),
        o = s(31567),
        a = s(24138),
        c = s(18514),
        l = s(46456),
        d = s(73022),
        u = s(11480);
      class h {
        static async initModeDetails() {
          const e = (0, a.q7)(n._M.BeginnerMode),
            t = (0, a.q7)(n._M.ColonistRush),
            s = (0, a.q7)(n._M.Easy),
            r = (0, a.q7)(n._M.Medium),
            o = (0, a.q7)(n._M.Hard),
            c = (0, a.q7)(n.Nw.UnrankedClassic1v1),
            l = (0, a.q7)(n.Nw.UnrankedClassic4P),
            d = (0, a.q7)(n.Nw.UnrankedShuffle),
            u = (0, a.q7)(n.Nw.RankedClassic1v1),
            p = (0, a.q7)(n.Nw.RankedClassic4P),
            m = (0, a.q7)(n.Nw.RankedCitiesAndKnights4P);
          h.modeDetails = new Map([
            [
              n._M.BeginnerMode,
              {
                icon: i.am.BotBeginner,
                title: {
                  key: "strings:homePage.matchmakingSelect.cards.bots.beginner",
                },
                time: (0, a.h$)(n._M.BeginnerMode),
                playerCount: e.playerCount,
                botCount: e.botCount,
                about: {
                  key: "strings:homePage.matchmakingSelect.detailsPage.beginner.about",
                },
                rules:
                  "strings:homePage.matchmakingSelect.detailsPage.beginner.rules",
                faq: "strings:homePage.matchmakingSelect.detailsPage.beginner.faq",
              },
            ],
            [
              n._M.ColonistRush,
              {
                icon: i.am.GameModeColonistRush,
                title: {
                  key: "strings:homePage.matchmakingSelect.cards.bots.colonistRush",
                },
                time: (0, a.h$)(n._M.ColonistRush),
                playerCount: t.playerCount,
                botCount: t.botCount,
                about: {
                  key: "strings:homePage.matchmakingSelect.detailsPage.colonistRush.about",
                },
                rules:
                  "strings:homePage.matchmakingSelect.detailsPage.colonistRush.rules",
                faq: "strings:homePage.matchmakingSelect.detailsPage.colonistRush.faq",
              },
            ],
            [
              n._M.Easy,
              {
                icon: i.am.BotEasy,
                title: {
                  key: "strings:homePage.matchmakingSelect.cards.bots.easy",
                },
                time: (0, a.h$)(n._M.Easy),
                playerCount: s.playerCount,
                botCount: s.botCount,
                about: {
                  key: "strings:homePage.matchmakingSelect.detailsPage.easy.about",
                },
                rules:
                  "strings:homePage.matchmakingSelect.detailsPage.easy.rules",
                faq: "strings:homePage.matchmakingSelect.detailsPage.easy.faq",
              },
            ],
            [
              n._M.Medium,
              {
                icon: i.am.BotMedium,
                title: {
                  key: "strings:homePage.matchmakingSelect.cards.bots.medium",
                },
                time: (0, a.h$)(n._M.Medium),
                playerCount: r.playerCount,
                botCount: r.botCount,
                about: {
                  key: "strings:homePage.matchmakingSelect.detailsPage.medium.about",
                },
                rules:
                  "strings:homePage.matchmakingSelect.detailsPage.medium.rules",
                faq: "strings:homePage.matchmakingSelect.detailsPage.medium.faq",
              },
            ],
            [
              n._M.Hard,
              {
                icon: i.am.BotHard,
                title: {
                  key: "strings:homePage.matchmakingSelect.cards.bots.hard",
                },
                time: (0, a.h$)(n._M.Hard),
                playerCount: o.playerCount,
                botCount: o.botCount,
                about: {
                  key: "strings:homePage.matchmakingSelect.detailsPage.hard.about",
                },
                rules:
                  "strings:homePage.matchmakingSelect.detailsPage.hard.rules",
                faq: "strings:homePage.matchmakingSelect.detailsPage.hard.faq",
              },
            ],
            [
              n.Nw.UnrankedClassic1v1,
              {
                icon: i.am.GameMode1v1,
                title: { key: "strings:homePage.matchmakingSelect.cards.1v1" },
                time: (0, a.h$)(n.Nw.UnrankedClassic1v1),
                playerCount: c.playerCount,
                botCount: c.botCount,
                about: {
                  key: "strings:homePage.matchmakingSelect.detailsPage.casual1v1.about",
                },
                rules:
                  "strings:homePage.matchmakingSelect.detailsPage.casual1v1.rules",
                faq: "strings:homePage.matchmakingSelect.detailsPage.casual1v1.faq",
              },
            ],
            [
              n.Nw.UnrankedClassic4P,
              {
                icon: i.am.GameModeBase,
                title: {
                  key: "strings:homePage.matchmakingSelect.cards.4Player",
                },
                time: (0, a.h$)(n.Nw.UnrankedClassic4P),
                playerCount: l.playerCount,
                botCount: l.botCount,
                about: {
                  key: "strings:homePage.matchmakingSelect.detailsPage.casual4Player.about",
                },
                rules:
                  "strings:homePage.matchmakingSelect.detailsPage.casual4Player.rules",
                faq: "strings:homePage.matchmakingSelect.detailsPage.casual4Player.faq",
              },
            ],
            [
              n.Nw.UnrankedShuffle,
              {
                icon: i.am.GameModeShuffle,
                title: { key: "strings:homePage.unranked.shuffle" },
                time: (0, a.h$)(n.Nw.UnrankedShuffle),
                playerCount: d.playerCount,
                botCount: d.botCount,
                about: {
                  key: "strings:homePage.matchmakingSelect.detailsPage.shuffle.about",
                },
                rules:
                  "strings:homePage.matchmakingSelect.detailsPage.shuffle.rules",
                faq: "strings:homePage.matchmakingSelect.detailsPage.shuffle.faq",
              },
            ],
            [
              n.Nw.RankedClassic1v1,
              {
                icon: i.am.GameModeRanked1v1,
                title: { key: "strings:homePage.matchmakingSelect.cards.1v1" },
                time: (0, a.h$)(n.Nw.RankedClassic1v1),
                playerCount: u.playerCount,
                botCount: u.botCount,
                about: {
                  key: "strings:homePage.matchmakingSelect.detailsPage.ranked1v1.about",
                },
                rules:
                  "strings:homePage.matchmakingSelect.detailsPage.ranked1v1.rules",
                faq: "strings:homePage.matchmakingSelect.detailsPage.ranked1v1.faq",
              },
            ],
            [
              n.Nw.RankedClassic4P,
              {
                icon: i.am.GameModeRanked4P,
                title: {
                  key: "strings:homePage.matchmakingSelect.cards.4Player",
                },
                time: (0, a.h$)(n.Nw.RankedClassic4P),
                playerCount: p.playerCount,
                botCount: p.botCount,
                about: {
                  key: "strings:homePage.matchmakingSelect.detailsPage.ranked4P.about",
                },
                rules:
                  "strings:homePage.matchmakingSelect.detailsPage.ranked4P.rules",
                faq: "strings:homePage.matchmakingSelect.detailsPage.ranked4P.faq",
              },
            ],
            [
              n.Nw.RankedCitiesAndKnights4P,
              {
                icon: i.am.GameModeCnK,
                title: {
                  key: "strings:homePage.matchmakingSelect.cards.citiesAndKnights",
                },
                time: (0, a.h$)(n.Nw.RankedCitiesAndKnights4P),
                playerCount: m.playerCount,
                botCount: m.botCount,
                about: {
                  key: "strings:homePage.matchmakingSelect.detailsPage.citiesAndKnights.about",
                },
                rules:
                  "strings:homePage.matchmakingSelect.detailsPage.citiesAndKnights.rules",
                faq: "strings:homePage.matchmakingSelect.detailsPage.citiesAndKnights.faq",
              },
            ],
          ]);
        }
        show(e) {
          ((this.currentMatchType = e),
            this.populateDetails(e),
            this.detailsContainer.classList.remove("hidden"),
            (this.contentContainer.scrollTop = 0),
            this.onShow());
        }
        onShow() {}
        hide() {
          (this.detailsContainer.classList.add("hidden"), this.onHide());
        }
        onHide() {}
        setupEventHandlers() {
          ((0, r.G0)(this.backButton, () => {
            this.hide();
          }),
            (0, r.G0)(this.playButton, () => {
              this.handlePlayButtonClick();
            }));
        }
        handlePlayButtonClick() {
          const e = this.currentMatchType;
          if (null != e) {
            if (e == n.Nw.RankedCitiesAndKnights4P) {
              if ((0, a.gu)() == d.rz.CanRollDice) return void new u.y();
            }
            this.onStartGame(e);
          }
        }
        populateDetails(e) {
          const t = h.modeDetails.get(e);
          if (null == t) return;
          ((0, r.oB)(this.titleElement, t.title),
            (0, r.RH)(this.iconContainer, {
              key: "strings:colonistCommon.utils.emptyString",
            }));
          const s = l.y.shuffleQueueData;
          if (e == n.Nw.UnrankedShuffle && null != s) {
            const e = (0, o.kl)(s.mapId, s.modeId);
            null != e && this.iconContainer.appendChild(e);
          } else (0, r.zO)(this.iconContainer, t.icon, "mm-details-icon");
          (null != t.time &&
            (0, r.oB)(this.timeElement, {
              key: "strings:colonistCommon.utils.#buffer",
              options: { value: t.time.toString() },
            }),
            (0, r.oB)(this.playerCountElement, {
              key: "strings:colonistCommon.utils.#buffer",
              options: { value: t.playerCount.toString() },
            }),
            this.botCountContainer.classList.toggle("hidden", 0 == t.botCount),
            (0, r.oB)(this.botCountElement, {
              key: "strings:colonistCommon.utils.#buffer",
              options: { value: t.botCount.toString() },
            }));
          const i = e == n.Nw.UnrankedShuffle && null == s;
          (this.infoElement.classList.toggle("hidden", i),
            (0, r.oB)(this.aboutElement, t.about));
          const d = document.getElementById("mm-details-shuffle-map-mode");
          if (
            (null == d || d.remove(), e == n.Nw.UnrankedShuffle && null != s)
          ) {
            const e = (0, a.Ly)(s),
              t = c.a7.t(e.key, e.options) + "!";
            (0, r.Wr)(
              this.aboutElement.parentElement,
              {
                key: "strings:colonistCommon.utils.#buffer",
                options: { value: t },
              },
              "",
              "mm-details-shuffle-map-mode",
            );
          }
          (0, r.RH)(this.rulesListElement, {
            key: "strings:colonistCommon.utils.emptyString",
          });
          const u = c.a7.tArray(t.rules);
          if (1 == u.length)
            (0, r.Wr)(
              this.rulesListElement,
              {
                key: "strings:colonistCommon.utils.#buffer",
                options: { value: u[0] },
              },
              "",
              "",
            );
          else {
            const e = (0, r.uk)(this.rulesListElement, "", "");
            for (const t of u)
              (0, r.t2)(
                e,
                {
                  key: "strings:colonistCommon.utils.#buffer",
                  options: { value: t },
                },
                "",
                "",
              );
          }
          (0, r.RH)(this.faqListElement, {
            key: "strings:colonistCommon.utils.emptyString",
          });
          const p = c.a7.tArray(t.faq);
          for (const e of p)
            ((0, r.n8)(
              this.faqListElement,
              {
                key: "strings:colonistCommon.utils.#buffer",
                options: { value: e.question },
              },
              "",
            ),
              (0, r.Wr)(
                this.faqListElement,
                {
                  key: "strings:colonistCommon.utils.#buffer",
                  options: { value: e.answer },
                },
                "",
              ));
        }
        constructor(e) {
          ((this.onStartGame = e),
            (this.detailsContainer = document.getElementById(
              "mm-details-container",
            )),
            (this.backButton = document.getElementById(
              "mm-details-back-button",
            )),
            (this.titleElement = document.getElementById("mm-details-title")),
            (this.contentContainer =
              document.getElementById("mm-details-content")),
            (this.iconContainer = document.getElementById(
              "mm-details-icon-container",
            )),
            (this.infoElement = document.getElementById("mm-details-info")),
            (this.timeElement = document.getElementById("mm-details-time")),
            (this.playerCountElement = document.getElementById(
              "mm-details-player-count",
            )),
            (this.botCountContainer = document.getElementById(
              "mm-details-bot-count-container",
            )),
            (this.botCountElement = document.getElementById(
              "mm-details-bot-count",
            )),
            (this.aboutElement = document.getElementById("mm-details-about")),
            (this.rulesListElement = document.getElementById(
              "mm-details-rules-list",
            )),
            (this.faqListElement = document.getElementById(
              "mm-details-faq-list",
            )),
            (this.playButton = document.getElementById(
              "mm-details-play-button",
            )),
            this.setupEventHandlers(),
            h.initModeDetails(),
            l.y.registerChangeListener(async () => {
              (await h.initModeDetails(),
                null != this.currentMatchType &&
                  this.populateDetails(this.currentMatchType));
            }));
        }
      }
    },
    61570: (e, t, s) => {
      "use strict";
      s.d(t, { t: () => y, b: () => b });
      var i = s(78311),
        n = s(53015),
        r = s(30911),
        o = s(95078),
        a = s(50482),
        c = s(30506),
        l = s(63778),
        d = s(26658),
        u = s(51988);
      const h = c.h4.loopEnums;
      class p {
        static deserialize(e) {
          const t = new p();
          return (
            (t.colonistCoins = e.colonistCoins),
            (t.presalePacks = e.presalePacks),
            (t.expansions = e.expansions),
            (t.maps = e.maps),
            (t.icons = e.icons),
            (t.colors = e.colors),
            (t.giftedMemberships = e.giftedMemberships),
            (t.membership = e.membership),
            (t.membershipPending = e.membershipPending),
            (t.membershipEndDate = e.membershipEndDate),
            (t.membershipPaymentMethod = e.membershipPaymentMethod),
            t
          );
        }
        hasAccessToStoreMap(e) {
          if (0 == e.length) return !0;
          for (const t of this.maps)
            if (o.l.elementInArray(e, t.type)) return !0;
          return !1;
        }
        hasAccessToExpansion(e) {
          if (0 == e.length) return !0;
          for (const t of this.expansions)
            if (o.l.elementInArray(e, t.type)) return !0;
          return !1;
        }
        hasAccessToPremiumMap(e) {
          if (this.isPerkAvailable(d.gr.AllMaps)) return !0;
          if (!e.isMapPremium()) return !0;
          if (
            e.isMapRestrictedByPremiumGameMode() &&
            !this.hasAccessToExpansion(e.premiumExpansionAccess)
          )
            return !1;
          return !(
            e.isMapRestrictedByPremiumMap() &&
            !this.hasAccessToStoreMap(e.premiumMapAccess)
          );
        }
        hasAccessToPremiumMode(e) {
          return (
            !!this.isPerkAvailable(d.gr.AllExpansions) ||
            !e.isGameModePremium() ||
            this.hasAccessToExpansion(e.premiumExpansionAccess)
          );
        }
        hasAccessToColor(e) {
          if (this.isPerkAvailable(d.gr.AllColors)) return !0;
          if ([l.DS.Red, l.DS.Blue, l.DS.Green, l.DS.Orange].includes(e))
            return !0;
          for (const t of this.colors)
            if (r.k.getStorePlayerColorOfPlayerColor(e) == t.type) return !0;
          return !1;
        }
        hasAccessToNoTrolls() {
          return !!this.isNoTrollsAvailable;
        }
        hasMembership() {
          return null != this.membership;
        }
        hasFoundersPack() {
          return (
            this.presalePacks.findIndex(
              (e) =>
                e.type == n.h8.FounderPack && e.category == n.n9.PresalePack,
            ) >= 0
          );
        }
        addGiftedMembership(e) {
          c.Re.addYears(e.giftedAt, r.Z) < new Date() ||
            this.giftedMemberships.push(e);
        }
        addStoreItem(e, t) {
          const s = u.F.getItemDetail(e, t);
          if (s)
            switch (s.category) {
              case n.n9.PresalePack:
                return void this.presalePacks.push(s);
              case n.n9.Expansion:
                return void this.expansions.push(s);
              case n.n9.Map:
                return void this.maps.push(s);
              case n.n9.Icon:
                return void this.icons.push(s);
              case n.n9.Color:
                return void this.colors.push(s);
              case n.n9.Consumable:
              case n.n9.Membership:
                return;
            }
        }
        getAvailableColors() {
          const e = [];
          return (
            h(l.DS, (t, s) => {
              this.hasAccessToColor(s) && e.push(s);
            }),
            e
          );
        }
        isPerkAvailable(e) {
          if (null == this.membership) return !1;
          return (
            a.Zt.getMembershipProduct(this.membership).perks.filter(
              (t) => t.type == e,
            ).length > 0
          );
        }
        get isNoTrollsAvailable() {
          return null != this.membership;
        }
        getCurrentMembership() {
          const e = this.membership;
          if (null == e) return;
          const t = a.Zt.getMembershipProduct(e);
          return {
            type: e,
            image: t.lobbyImage,
            pending: this.membershipPending,
            title: t.membershipTitle,
          };
        }
        getItems() {
          return [
            ...this.presalePacks,
            ...this.expansions,
            ...this.maps,
            ...this.icons,
            ...this.colors,
          ];
        }
        hideAds() {
          return !!this.hasMembership() || this.presalePacks.length > 0;
        }
        constructor() {
          ((this.colonistCoins = 0),
            (this.presalePacks = []),
            (this.expansions = []),
            (this.maps = []),
            (this.icons = []),
            (this.colors = []),
            (this.giftedMemberships = []),
            (this.membership = void 0),
            (this.membershipPending = !1),
            (this.membershipEndDate = void 0),
            (this.membershipPaymentMethod = void 0));
        }
      }
      var m = s(52955),
        g = s(92524);
      const f = c.Re.toDate,
        y = "Deleted User";
      class b {
        getPlayerKarmaStatusText() {
          return {
            key: "strings:homePage.header.playerKarma",
            options: {
              totalCompleted: this.karma,
              totalGames: this.karmaCompletedGameCount,
            },
          };
        }
        isBeginner() {
          return this.totalCompletedGameCount < 2;
        }
        hasZeroCompletedGames() {
          return 0 == this.totalCompletedGameCount;
        }
        constructor(e) {
          ((this.id = (0, m.TO)(e.id, 1, 100)),
            (this.username = (0, m.TO)(e.username, 1, 100)),
            (this.language = v(m.to, void 0, e.language, 1, 5)),
            (this.isLoggedIn = v(m.mF, !1, e.isLoggedIn)),
            (this.interactedWithSite = v(m.mF, !1, e.interactedWithSite)),
            (this.icon = v(m._k, i.am.Players, e.icon, i.am)),
            (this.profilePictureUrl = v(m.xd, void 0, e.profilePictureUrl)),
            (this.karma = v(m.Li, 0, e.karma)),
            (this.karmaCompletedGameCount = v(
              m.Li,
              0,
              e.karmaCompletedGameCount,
            )),
            (this.preferredColor = v(m._k, void 0, e.preferredColor, l.DS)),
            (this.usernameChangeAttemptsLeft = v(
              m.Li,
              0,
              e.usernameChangeAttemptsLeft,
            )),
            (this.totalCompletedGameCount = v(
              m.Li,
              0,
              e.totalCompletedGameCount,
            )),
            (this.ckTotalGameCount = v(m.Li, 0, e.ckTotalGameCount)),
            (this.ckFreeGameUntil = (0, m.M2)(e.ckFreeGameUntil)
              ? f(e.ckFreeGameUntil)
              : void 0),
            (this.ckNextRerollAt = (0, m.M2)(e.ckNextRerollAt)
              ? f(e.ckNextRerollAt)
              : void 0),
            (this.hasJoinedColonistDiscordServer = v(
              m.mF,
              !1,
              e.hasJoinedColonistDiscordServer,
            )),
            (this.forceSubscription = v(m.mF, !0, e.forceSubscription)),
            (this.accessLevel = v(m._k, i.hx.User, e.accessLevel, i.hx)),
            (this.regionUpdated = (0, m.M2)(e.regionUpdated)
              ? f(e.regionUpdated)
              : void 0),
            (this.vliHash = v(m.xd, void 0, e.vliHash)),
            (this.colonistVersion = v(m.Li, 0, e.colonistVersion)),
            (this.items = new p()),
            (this.items.colonistCoins = v(m.Li, 0, e.colonistCoins)),
            (this.items.membership = v(m._k, void 0, e.membership, i.Qb)),
            (this.items.membershipEndDate = (0, m.M2)(e.membershipEndDate)
              ? f(e.membershipEndDate)
              : void 0),
            (this.items.membershipPaymentMethod = v(
              m._k,
              void 0,
              e.membershipPaymentMethod,
              g.g5,
            )),
            (this.items.membershipPending = v(m.mF, !1, e.membershipPending)),
            (this.items.giftedMemberships = v(m.P8, [], e.giftedMemberships)
              .filter((e) => (0, m.BI)(e))
              .filter((e) => (0, m._k)(e.membershipType, i.Qb))
              .filter((e) => (0, m.M2)(e.giftedAt))
              .filter((e) => (0, m.Li)(e.periods))
              .map((e) => ({
                id: e.id,
                membershipType: e.membershipType,
                giftedAt: f(e.giftedAt),
                periods: e.periods,
              }))));
          for (const t of v(m.P8, [], e.ownedItems))
            (0, m.BI)(t) && this.items.addStoreItem(t.category, t.type);
        }
      }
      function v(e, t, s, ...i) {
        return e(s, ...i) ? s : t;
      }
    },
    61651: (e, t, s) => {
      "use strict";
      function i() {
        let e, t;
        const s = new Promise((s, i) => {
          ((e = s), (t = i));
        });
        return (
          (s.pending = !0),
          (s.resolve = (t) => {
            ((s.pending = !1), e(t));
          }),
          (s.reject = (e) => {
            ((s.pending = !1), t(e));
          }),
          s
        );
      }
      s.d(t, { p: () => i });
    },
    61896: (e, t, s) => {
      "use strict";
      s.d(t, { k: () => d });
      var i = s(78311),
        n = s(17326),
        r = s(9029),
        o = s(85801);
      class a {
        containerClicked(e) {
          e.target === this.container && this.hide();
        }
        show() {
          this.container.style.display = "block";
        }
        hide() {
          this.container.style.display = "none";
        }
        isHidden() {
          return "none" == this.container.style.display;
        }
        setEscapeKeyBind() {
          o.N.bindKey(
            "Escape",
            () => this.hide(),
            () => !this.isHidden(),
            o.g.General,
          );
        }
        removePopup() {
          ((this.container.style.display = "none"),
            null != this.container.parentElement &&
              this.container.parentElement.removeChild(this.container));
        }
        constructor() {
          ((this.container = (0, r.Le)(document.body, "popup")),
            (0, r.G0)(this.container, (e) => this.containerClicked(e)));
        }
      }
      var c = s(18587),
        l = s(18514);
      class d extends a {
        setDefaultPage(e) {
          this.defaultPage = e;
        }
        show() {
          (this.isRulebookPopupCreated || this.createRulebookPopup(),
            super.show());
        }
        createRulebookPopup() {
          const e = d.getRulebookPageSrc(this.defaultPage),
            t = (0, r.Le)(this.container, "popup-rulebook");
          (0, r.w8)(t, "100%", "100%", e);
          const s = (0, r.Le)(t, "close-button");
          (0, r.zO)(s, i.am.XMark);
          ((0, r.G0)(s, () => this.hide()),
            this.setEscapeKeyBind(),
            (this.isRulebookPopupCreated = !0));
        }
        static getRulebookPageSrc(e) {
          const t = c.r.isUserOnDiscord ? "/.proxy" : "",
            s = c.r.isUserOnDiscord ? n.RD.Discord : n.RD.Popup,
            i = `${t}/catan-rules${(0, n.Lo)(e)}${(0, n.j3)(s)}`,
            r = new URL((0, l.nJ)(i, c.r.language), location.origin);
          return ((r.search = location.search), r.href);
        }
        constructor(e) {
          (super(), (this.isRulebookPopupCreated = !1), (this.defaultPage = e));
        }
      }
    },
    61919: (e, t, s) => {
      "use strict";
      s.d(t, { f: () => p });
      var i = s(19966),
        n = s(31464),
        r = s(95176),
        o = s(8701),
        a = s(94154),
        c = s(9029),
        l = s(18514);
      class d extends r.y {
        constructor(e, t, s) {
          (super(
            {
              key: "strings:popups.patchNote.newUpdate",
              options: { version: e[0].version },
            },
            { key: "strings:colonistCommon.utils.emptyString" },
            () => {},
            () => {},
            !0,
          ),
            this.makeLarge(),
            (this.body.style.flexDirection = "column"),
            (0, c.RH)(this.body, {
              key: "strings:colonistCommon.utils.emptyString",
            }),
            new a.h(
              { key: "strings:popups.patchNote.announcement" },
              t,
              this.body,
              "popup-patchnote-div",
              "popup-patchnote-header-div",
              "popup-patchnote-body-div",
            ));
          for (const t of e)
            new o.w(
              t,
              this.body,
              null,
              "popup-patchnote-div",
              "popup-patchnote-header-div",
              "popup-patchnote-body-div",
            );
          const i = (0, c.cE)(
            this.body,
            `${l.vX.getLanguagePathPrefix()}/patch-notes`,
            {
              key: "strings:colonistCommon.utils.#buffer",
              options: { value: "View All" },
            },
            "",
          );
          ((0, c.G0)(i, () => this.removePopup()),
            (i.target = "_blank"),
            this.removeXButton(),
            this.show(),
            (this.removeAction = s));
        }
      }
      var u = s(95107),
        h = s(78311);
      class p {
        setShouldForcePortraitModeIfLastVersionTooLongAgo() {
          const e = this.getStorageVersion();
          if (null == e)
            return void (p.shouldForcePortraitModeIfLastVersionTooLongAgo = !0);
          const t = this.thisVersion - e;
          p.shouldForcePortraitModeIfLastVersionTooLongAgo = t > h.vm;
        }
        setVersion() {
          this.updateStorageVersion(this.thisVersion);
        }
        isSameVersion() {
          return (
            null != this.getStorageVersion() &&
            this.getStorageVersion() == this.thisVersion
          );
        }
        hasNoVersion() {
          const e = this.getStorageVersion();
          return 0 == e || null == e;
        }
        showPatchnotes() {
          if (this.isSameVersion()) return;
          if (1 == u.v.suppressPopupsOnLoad) return;
          ((this.willShowPatchnoteThisSession = !0), this.setVersion());
          const e = new n.Z();
          i.CA.sendGoogleAnalyticsEvent(
            i.CA.Category.Lobby,
            i.CA.Label.GeneralShowingPatchNotePopup,
          );
          new d(e.getLast5(), e.getAnnouncements(), p.patchNoteRemoveAction);
        }
        constructor(e, t, s) {
          ((this.getStorageVersion = e),
            (this.thisVersion = t),
            (this.updateStorageVersion = s),
            (this.willShowPatchnoteThisSession = !1),
            this.setShouldForcePortraitModeIfLastVersionTooLongAgo(),
            this.hasNoVersion() &&
              (i.CA.sendGoogleAnalyticsEvent(
                i.CA.Category.Funnel,
                i.CA.Label.FunnelNewUserEnteredSite,
              ),
              this.setVersion()));
        }
      }
      ((p.patchNoteRemoveAction = () => {}),
        (p.shouldForcePortraitModeIfLastVersionTooLongAgo = !1));
    },
    61925: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_gift_box.a9c59d3eb03efb0408c1.svg";
    },
    62254: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/sfx_achievement_longest_road.f73b7c0ccdd0df577bca.mp3";
    },
    62302: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_longest_road.5cfdeb3352b20463e64b.svg";
    },
    62374: (e, t, s) => {
      "use strict";
      s.d(t, { m: () => a });
      var i = s(655),
        n = s(19733),
        r = s(32398),
        o = s(81888);
      class a {
        static async purchaseItem(e, t, s) {
          const a = `${e.category}/${e.type}`,
            c = await i.m.postRequestHandler(
              `${r.l.apiPayPurchaseItem()}/${a}`,
              void 0,
              void 0,
            );
          if (null == c) throw new Error("Failed to purchase item");
          if (!c.isSuccess) return;
          const l = c.json;
          await o._.refresh();
          const d = l.status
            ? { key: "strings:storePage.success.success" }
            : { key: "strings:popups.errors.general.title" };
          return l.status
            ? t
              ? t(l.message)
              : void 0
            : s
              ? s(l.message)
              : n.r.createSimplePopup(d, l.message);
        }
        static async activateGiftedMembership(e) {
          if (
            null ==
            (await i.m.postRequestHandler(
              r.l.apiActivateGiftMembership(),
              void 0,
              { itemId: e },
            ))
          )
            return;
          await o._.refresh();
          return n.r.createSimplePopup(
            { key: "strings:storePage.success.success" },
            { key: "strings:storePage.sections.membership.activated" },
          );
        }
        static async cancelGiftedMembership() {
          null !=
            (await i.m.postRequestHandler(
              r.l.apiCancelGiftMembership(),
              void 0,
              void 0,
            )) && (await o._.refresh());
        }
      }
    },
    62585: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/card_progress_science_alchemist.8cd834ee897e2c3d92a5.svg";
    },
    62640: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/ship_pink_north_west.0450a4a4af7f1f813332.svg";
    },
    62681: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/city_wall_mysticblue.d7cc943ea55d20f7c7a8.svg";
    },
    62713: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/road_mysticblue.1bd2cb96a192adecf018.svg";
    },
    62814: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/mobile_endgame_after.e5c5eb39a54cb532a5a8.png";
    },
    62945: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/knight_level1_active_silver.69037099b19435065fde.svg";
    },
    62948: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/lobby_ad_premium.d2299e81b122908c5a45.png";
    },
    63116: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/map_twirl_preview.158112043235b9f5adb5.png";
    },
    63406: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/map_mountain_of_riches_preview.29d53c89f50c2f0960fc.png";
    },
    63514: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/game_spritesheet_5.8515c72fb3a2676a1b27.json";
    },
    63593: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/shuffle_card_before.2a725212aa25a871f32a.png";
    },
    63722: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/ribbon_short.b4f83327f0b50cae62bb.svg";
    },
    63751: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/room_guests_before.06ce7ee269464ac74f00.png";
    },
    64038: (e, t, s) => {
      "use strict";
      s.d(t, {
        RU: () => ae,
        RF: () => v,
        ac: () => b,
        W1: () => f,
        Hl: () => k,
        Ge: () => P,
        ef: () => S,
        fB: () => y,
        Ph: () => C,
        __: () => d,
        bf: () => u,
        kD: () => h,
        L$: () => p,
        r8: () => o,
        D8: () => a,
        $G: () => g,
        SN: () => c,
        ZZ: () => l,
        LK: () => m,
        Vk: () => ce,
        hK: () => M,
        hd: () => L,
        FK: () => T,
        qD: () => q,
        Jt: () => D,
        bZ: () => I,
        bE: () => x,
        Gi: () => V,
        lY: () => B,
        pk: () => U,
        p7: () => W,
        j6: () => R,
        z3: () => K,
        lQ: () => _,
        Ke: () => A,
        rf: () => w,
        XP: () => N,
        yI: () => Q,
        G: () => O,
        NH: () => G,
        SV: () => E,
        YU: () => F,
        yT: () => H,
        Zc: () => ie,
        jU: () => Y,
        b6: () => $,
        Ms: () => X,
        xU: () => re,
        lt: () => Z,
        As: () => J,
        dZ: () => te,
        yl: () => se,
        Ry: () => ee,
        dS: () => j,
        qW: () => z,
        Xf: () => ne,
        l2: () => oe,
        v$: () => le,
      });
      var i = s(53015),
        n = s(78311),
        r = s(30911);
      class o extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Expansion),
            (this.type = n.$y.Classic56P),
            (this.name = {
              key: "strings:colonistCommon.gameModes.classic56P.title",
            }),
            (this.description =
              "strings:colonistCommon.gameModes.classic56P.description"),
            (this.price = 2800),
            (this.image = n.am.StoreItemExpansionClassic56P),
            (this.activeInStore = !0));
        }
      }
      class a extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Expansion),
            (this.type = n.$y.Classic78P),
            (this.name = {
              key: "strings:colonistCommon.gameModes.classic78P.title",
            }),
            (this.description =
              "strings:colonistCommon.gameModes.classic78P.description"),
            (this.price = 2800),
            (this.image = n.am.StoreItemExpansionClassic78P),
            (this.activeInStore = !0));
        }
      }
      class c extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Expansion),
            (this.type = n.$y.Seafarers4P),
            (this.name = {
              key: "strings:colonistCommon.gameModes.seafarers4P.title",
            }),
            (this.description =
              "strings:colonistCommon.gameModes.seafarers4P.description"),
            (this.price = 2800),
            (this.image = n.am.StoreItemSeafarers4P),
            (this.activeInStore = !0));
        }
      }
      class l extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Expansion),
            (this.type = n.$y.Seafarers56P),
            (this.name = {
              key: "strings:colonistCommon.gameModes.seafarers56P.title",
            }),
            (this.description =
              "strings:colonistCommon.gameModes.seafarers56P.description"),
            (this.price = 2800),
            (this.image = n.am.StoreItemSeafarers56P),
            (this.activeInStore = !0));
        }
      }
      class d extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Expansion),
            (this.type = n.$y.CitiesAndKnights4P),
            (this.name = {
              key: "strings:colonistCommon.gameModes.citiesAndKnights4P.title",
            }),
            (this.description =
              "strings:colonistCommon.gameModes.citiesAndKnights4P.description"),
            (this.price = 2800),
            (this.image = n.am.StoreItemCitiesAndKnights4P),
            (this.activeInStore = !0));
        }
      }
      class u extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Expansion),
            (this.type = n.$y.CitiesAndKnights56P),
            (this.name = {
              key: "strings:colonistCommon.gameModes.citiesAndKnights56P.title",
            }),
            (this.description =
              "strings:colonistCommon.gameModes.citiesAndKnights56P.description"),
            (this.price = 2800),
            (this.image = n.am.StoreItemCitiesAndKnights56P),
            (this.activeInStore = !0));
        }
      }
      class h extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Expansion),
            (this.type = n.$y.CitiesAndKnightsSeafarers4P),
            (this.name = {
              key: "strings:colonistCommon.gameModes.seafarersAndCitiesAndKnights4P.title",
            }),
            (this.description =
              "strings:colonistCommon.gameModes.seafarersAndCitiesAndKnights4P.description"),
            (this.price = 2800),
            (this.image = n.am.StoreItemCitiesAndKnightsSeafarers4P),
            (this.activeInStore = !0));
        }
      }
      class p extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Expansion),
            (this.type = n.$y.CitiesAndKnightsSeafarers56P),
            (this.name = {
              key: "strings:colonistCommon.gameModes.seafarersAndCitiesAndKnights56P.title",
            }),
            (this.description =
              "strings:colonistCommon.gameModes.seafarersAndCitiesAndKnights56P.description"),
            (this.price = 2800),
            (this.image = n.am.StoreItemCitiesAndKnightsSeafarers56P),
            (this.activeInStore = !0));
        }
      }
      class m extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Expansion),
            (this.type = n.$y.TradersAndBarbarians),
            (this.name = {
              key: "strings:colonistCommon.gameModes.tradersAndBarbarians.title",
            }),
            (this.description =
              "strings:colonistCommon.gameModes.tradersAndBarbarians.description"),
            (this.price = 2800),
            (this.image = n.am.XMark));
        }
      }
      class g extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Expansion),
            (this.type = n.$y.ExplorersAndPirates),
            (this.name = {
              key: "strings:colonistCommon.gameModes.explorersAndPirates.title",
            }),
            (this.description =
              "strings:colonistCommon.gameModes.explorersAndPirates.description"),
            (this.price = 2800),
            (this.image = n.am.XMark));
        }
      }
      class f extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Color),
            (this.type = i.WB.Gold),
            (this.name = { key: "strings:colonistCommon.playerColors.Gold" }),
            (this.price = 3e5),
            (this.image = n.am.StoreColorGold),
            (this.activeInStore = !1));
        }
      }
      class y extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Color),
            (this.type = i.WB.Silver),
            (this.name = { key: "strings:colonistCommon.playerColors.Silver" }),
            (this.price = 3e5),
            (this.image = n.am.StoreColorSilver),
            (this.activeInStore = !1));
        }
      }
      class b extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Color),
            (this.type = i.WB.Bronze),
            (this.name = { key: "strings:colonistCommon.playerColors.Bronze" }),
            (this.price = 3e5),
            (this.image = n.am.StoreColorBronze),
            (this.activeInStore = !1));
        }
      }
      class v extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Color),
            (this.type = i.WB.Black),
            (this.name = { key: "strings:colonistCommon.playerColors.Black" }),
            (this.price = 0),
            (this.image = n.am.StoreColorBlack),
            (this.activeInStore = !0));
        }
      }
      class S extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Color),
            (this.type = i.WB.Purple),
            (this.name = { key: "strings:colonistCommon.playerColors.Purple" }),
            (this.price = 2500),
            (this.image = n.am.StoreColorPurple),
            (this.activeInStore = !0));
        }
      }
      class k extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Color),
            (this.type = i.WB.MysticBlue),
            (this.name = {
              key: "strings:colonistCommon.playerColors.MysticBlue",
            }),
            (this.price = 5e3),
            (this.image = n.am.StoreColorMysticBlue),
            (this.activeInStore = !0));
        }
      }
      class C extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Color),
            (this.type = i.WB.White),
            (this.name = { key: "strings:colonistCommon.playerColors.White" }),
            (this.price = 1e3),
            (this.image = n.am.StoreColorWhite),
            (this.activeInStore = !0));
        }
      }
      class P extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Color),
            (this.type = i.WB.Pink),
            (this.name = { key: "strings:colonistCommon.playerColors.Pink" }),
            (this.price = 3e5),
            (this.imagePath = n.am.StoreColorPink),
            (this.activeInStore = !1));
        }
      }
      class _ extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Icon),
            (this.type = i.l1.RobberCupid),
            (this.name = { key: "strings:storePage.icons.cupidRobber" }),
            (this.price = 250),
            (this.image = n.am.IconRobberCupid),
            (this.activeInStore = !0));
        }
      }
      class A extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Icon),
            (this.type = i.l1.RobberLunar),
            (this.name = { key: "strings:storePage.icons.lunarRobber" }),
            (this.price = 250),
            (this.image = n.am.IconRobberLunar),
            (this.activeInStore = !0));
        }
      }
      class w extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Icon),
            (this.type = i.l1.RobberSanta),
            (this.name = { key: "strings:storePage.icons.santaRobber" }),
            (this.price = 250),
            (this.image = n.am.IconRobberSanta),
            (this.activeInStore = !1));
        }
      }
      class R extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Icon),
            (this.type = i.l1.PirateShip),
            (this.name = { key: "strings:storePage.icons.pirateShip" }),
            (this.price = 250),
            (this.image = n.am.IconPirateShip),
            (this.activeInStore = !0));
        }
      }
      class T extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Icon),
            (this.type = i.l1.ChristmasHat),
            (this.name = { key: "strings:storePage.icons.christmasHat" }),
            (this.price = 250),
            (this.image = n.am.IconChristmasHat),
            (this.activeInStore = !0));
        }
      }
      class I extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Icon),
            (this.type = i.l1.Elephant),
            (this.name = { key: "strings:storePage.icons.elephant" }),
            (this.price = 250),
            (this.image = n.am.IconElephant),
            (this.activeInStore = !1));
        }
      }
      class M extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Icon),
            (this.type = i.l1.Avocado),
            (this.name = { key: "strings:storePage.icons.avocado" }),
            (this.price = 250),
            (this.image = n.am.IconAvocado),
            (this.activeInStore = !0));
        }
      }
      class L extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Icon),
            (this.type = i.l1.Cactus),
            (this.name = { key: "strings:storePage.icons.cactus" }),
            (this.price = 250),
            (this.image = n.am.IconCactus),
            (this.activeInStore = !0));
        }
      }
      class B extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Icon),
            (this.type = i.l1.Gifter),
            (this.name = { key: "strings:storePage.icons.gifter" }),
            (this.text = {
              key: "strings:storePage.sections.avatar.unlockByGifting",
            }),
            (this.image = n.am.IconGifter),
            (this.activeInStore = !0),
            (this.bannerText = { key: "strings:storePage.newItem" }),
            (this.hideOnDiscordMobile = !0));
        }
      }
      class D extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Icon),
            (this.type = i.l1.Crown),
            (this.name = { key: "strings:storePage.icons.crown" }),
            (this.price = 250),
            (this.image = n.am.IconCrown),
            (this.activeInStore = !0));
        }
      }
      class E extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Icon),
            (this.type = i.l1.Swords),
            (this.name = { key: "strings:storePage.icons.swords" }),
            (this.price = 250),
            (this.image = n.am.IconSwords),
            (this.activeInStore = !0));
        }
      }
      class G extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Icon),
            (this.type = i.l1.Sombrero),
            (this.name = { key: "strings:storePage.icons.sombrero" }),
            (this.price = 100),
            (this.image = n.am.IconSombrero),
            (this.activeInStore = !0));
        }
      }
      class x extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Icon),
            (this.type = i.l1.Farmer),
            (this.name = { key: "strings:storePage.icons.farmer" }),
            (this.price = 100),
            (this.image = n.am.IconFarmer),
            (this.activeInStore = !0));
        }
      }
      class U extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Icon),
            (this.type = i.l1.Helmet),
            (this.name = { key: "strings:storePage.icons.helmet" }),
            (this.price = 100),
            (this.image = n.am.IconHelmet),
            (this.activeInStore = !0));
        }
      }
      class O extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Icon),
            (this.type = i.l1.Snorkel),
            (this.name = { key: "strings:storePage.icons.snorkel" }),
            (this.price = 100),
            (this.image = n.am.IconSnorkel),
            (this.activeInStore = !0));
        }
      }
      class N extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Icon),
            (this.type = i.l1.Scarf),
            (this.name = { key: "strings:storePage.icons.scarf" }),
            (this.price = 100),
            (this.image = n.am.IconScarf),
            (this.activeInStore = !0));
        }
      }
      class F extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Icon),
            (this.type = i.l1.Tie),
            (this.name = { key: "strings:storePage.icons.tie" }),
            (this.price = 100),
            (this.image = n.am.IconTie),
            (this.activeInStore = !0));
        }
      }
      class H extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Icon),
            (this.type = i.l1.Worker),
            (this.name = { key: "strings:storePage.icons.worker" }),
            (this.price = 100),
            (this.image = n.am.IconWorker),
            (this.activeInStore = !0));
        }
      }
      class W extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Icon),
            (this.type = i.l1.Mummy),
            (this.name = { key: "strings:storePage.icons.mummy" }),
            (this.price = 400),
            (this.image = n.am.IconMummy),
            (this.activeInStore = !1));
        }
      }
      class K extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Icon),
            (this.type = i.l1.Player),
            (this.name = { key: "strings:storePage.icons.colonist" }),
            (this.price = 0),
            (this.image = n.am.User),
            (this.activeInStore = !0));
        }
      }
      class V extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Icon),
            (this.type = i.l1.FounderHat),
            (this.name = { key: "strings:storePage.icons.founderHat" }),
            (this.price = 1e5),
            (this.image = n.am.IconFounderHat),
            (this.activeInStore = !1));
        }
      }
      class q extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Icon),
            (this.type = i.l1.ColonistHat),
            (this.name = { key: "strings:storePage.icons.colonisthat" }),
            (this.price = 5e4),
            (this.image = n.am.IconColonistHat),
            (this.activeInStore = !1));
        }
      }
      class Q extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Icon),
            (this.type = i.l1.SettlerHat),
            (this.name = { key: "strings:storePage.icons.settlerHat" }),
            (this.price = 25e3),
            (this.image = n.am.IconSettlerHat),
            (this.activeInStore = !1));
        }
      }
      r.k;
      r.k;
      r.k;
      class $ extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Map),
            (this.type = i.ai.Earth),
            (this.name = {
              key: "strings:colonistCommon.gameMaps.fun.earth.title",
            }),
            (this.description =
              "strings:colonistCommon.gameMaps.fun.earth.description"),
            (this.price = 500),
            (this.image = n.am.MapEarthPreview),
            (this.activeInStore = !0));
        }
      }
      class z extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Map),
            (this.type = i.ai.USA),
            (this.name = {
              key: "strings:colonistCommon.gameMaps.fun.usa.title",
            }),
            (this.description =
              "strings:colonistCommon.gameMaps.fun.usa.description"),
            (this.price = 500),
            (this.image = n.am.MapUSAPreview),
            (this.activeInStore = !0));
        }
      }
      class j extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Map),
            (this.type = i.ai.UK),
            (this.name = {
              key: "strings:colonistCommon.gameMaps.fun.uk.title",
            }),
            (this.description =
              "strings:colonistCommon.gameMaps.fun.uk.description"),
            (this.price = 500),
            (this.image = n.am.MapUKPreview),
            (this.activeInStore = !0));
        }
      }
      class Y extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Map),
            (this.type = i.ai.Diamond),
            (this.name = {
              key: "strings:colonistCommon.gameMaps.fun.diamond.title",
            }),
            (this.description =
              "strings:colonistCommon.gameMaps.fun.diamond.description"),
            (this.price = 500),
            (this.image = n.am.MapDiamondPreview),
            (this.activeInStore = !0));
        }
      }
      class X extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Map),
            (this.type = i.ai.Gear),
            (this.name = {
              key: "strings:colonistCommon.gameMaps.fun.gear.title",
            }),
            (this.description =
              "strings:colonistCommon.gameMaps.fun.gear.description"),
            (this.price = 500),
            (this.image = n.am.MapGearPreview),
            (this.activeInStore = !0));
        }
      }
      class Z extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Map),
            (this.type = i.ai.Lakes),
            (this.name = {
              key: "strings:colonistCommon.gameMaps.fun.lakes.title",
            }),
            (this.description =
              "strings:colonistCommon.gameMaps.fun.lakes.description"),
            (this.price = 500),
            (this.image = n.am.MapLakesPreview),
            (this.activeInStore = !0));
        }
      }
      class J extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Map),
            (this.type = i.ai.Pond),
            (this.name = {
              key: "strings:colonistCommon.gameMaps.fun.pond.title",
            }),
            (this.description =
              "strings:colonistCommon.gameMaps.fun.pond.description"),
            (this.price = 500),
            (this.image = n.am.MapPondPreview),
            (this.activeInStore = !0));
        }
      }
      class ee extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Map),
            (this.type = i.ai.Twirl),
            (this.name = {
              key: "strings:colonistCommon.gameMaps.fun.twirl.title",
            }),
            (this.description =
              "strings:colonistCommon.gameMaps.fun.twirl.description"),
            (this.price = 500),
            (this.image = n.am.MapTwirlPreview),
            (this.activeInStore = !0));
        }
      }
      class te extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Map),
            (this.type = i.ai.Classic4PRandom),
            (this.name = {
              key: "strings:colonistCommon.gameMaps.classic.random4P.title",
            }),
            (this.description =
              "strings:colonistCommon.gameMaps.classic.random4P.description"),
            (this.price = 500),
            (this.image = n.am.MapRandomBasePreview),
            (this.activeInStore = !0));
        }
      }
      class se extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Map),
            (this.type = i.ai.ShuffleBoard),
            (this.name = {
              key: "strings:colonistCommon.gameMaps.fun.shuffleBoard.title",
            }),
            (this.description =
              "strings:colonistCommon.gameMaps.fun.shuffleBoard.description"),
            (this.price = 500),
            (this.image = n.am.MapShuffleBoardPreview),
            (this.activeInStore = !0));
        }
      }
      class ie extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Map),
            (this.type = i.ai.BlackForest),
            (this.name = {
              key: "strings:colonistCommon.gameMaps.fun.blackForest.title",
            }),
            (this.description =
              "strings:colonistCommon.gameMaps.fun.blackForest.description"),
            (this.price = 500),
            (this.image = n.am.MapBlackForestPreview),
            (this.activeInStore = !0));
        }
      }
      class ne extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Map),
            (this.type = i.ai.Volcano),
            (this.name = {
              key: "strings:colonistCommon.gameMaps.fun.volcano.title",
            }),
            (this.description =
              "strings:colonistCommon.gameMaps.fun.volcano.description"),
            (this.price = 500),
            (this.image = n.am.MapVolcanoPreview),
            (this.activeInStore = !0));
        }
      }
      class re extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Map),
            (this.type = i.ai.GoldRush),
            (this.name = {
              key: "strings:colonistCommon.gameMaps.fun.goldRush.title",
            }),
            (this.description =
              "strings:colonistCommon.gameMaps.fun.goldRush.description"),
            (this.price = 500),
            (this.image = n.am.MapGoldRushPreview),
            (this.activeInStore = !0));
        }
      }
      class oe extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.PresalePack),
            (this.type = i.h8.SettlerPack),
            (this.name = { key: "strings:storePage.packs.settler.title" }),
            (this.description = "strings:storePage.packs.settler.description"),
            (this.price = 999999999),
            (this.image = n.am.SettlerPack));
        }
      }
      class ae extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.PresalePack),
            (this.type = i.h8.ColonistPack),
            (this.name = { key: "strings:storePage.packs.colonist.title" }),
            (this.description = "strings:storePage.packs.colonist.description"),
            (this.price = 999999999),
            (this.image = n.am.ColonistPack));
        }
      }
      class ce extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.PresalePack),
            (this.type = i.h8.FounderPack),
            (this.name = { key: "strings:storePage.packs.founder.title" }),
            (this.description = "strings:storePage.packs.founder.description"),
            (this.price = 999999999),
            (this.image = n.am.FounderPack));
        }
      }
      class le extends r.k {
        constructor(...e) {
          (super(...e),
            (this.category = i.n9.Consumable),
            (this.type = i.nx.UsernameChange),
            (this.name = {
              key: "strings:storePage.consumables.usernameChange.title",
            }),
            (this.description =
              "strings:storePage.consumables.usernameChange.description"),
            (this.price = 1300),
            (this.image = n.am.Guest));
        }
      }
    },
    64265: (e, t, s) => {
      "use strict";
      s.d(t, { AB: () => o, lg: () => r });
      var i = s(78311),
        n = s(92524),
        r = (function (e) {
          return (
            (e[(e.CoinType1 = 0)] = "CoinType1"),
            (e[(e.CoinType2 = 1)] = "CoinType2"),
            (e[(e.CoinType3 = 2)] = "CoinType3"),
            (e[(e.CoinType4 = 3)] = "CoinType4"),
            (e[(e.CoinType5 = 4)] = "CoinType5"),
            (e[(e.CoinType6 = 5)] = "CoinType6"),
            e
          );
        })({});
      class o {
        getProductName() {
          return {
            key: "strings:storePage.coins.title",
            options: { count: this.getTotalCoinAmount() },
          };
        }
        getDefaultPrice() {
          return this.getUSDPriceWithSign();
        }
        getTotalCoinAmount() {
          return this.baseCoinAmount + this.bonusCoinAmount;
        }
        getUSDPrice() {
          return this.price / 100;
        }
        getUSDPriceWithSign() {
          return `$${this.getUSDPrice()}`;
        }
        static getAllCoinProducts() {
          return this.products.values();
        }
        static getPurchaseProduct(e) {
          return this.products.get(e);
        }
        static initProducts(e) {
          (this.products.set(
            0,
            new o({
              type: 0,
              baseCoinAmount: 650,
              bonusCoinAmount: 0,
              price: 499,
              discordSKUId: e.coin1,
              mobileIAPSKUId: "coin_id_1",
              lobbyImage: i.am.CoinStack1,
              bannerText: void 0,
              isActive: () => !0,
            }),
          ),
            this.products.set(
              1,
              new o({
                type: 1,
                baseCoinAmount: 1300,
                bonusCoinAmount: 80,
                price: 999,
                discordSKUId: e.coin2,
                mobileIAPSKUId: "coin_id_2",
                lobbyImage: i.am.CoinStack2,
                bannerText: void 0,
                isActive: () => !0,
              }),
            ),
            this.products.set(
              2,
              new o({
                type: 2,
                baseCoinAmount: 2600,
                bonusCoinAmount: 400,
                price: 1999,
                discordSKUId: e.coin3,
                mobileIAPSKUId: "coin_id_3",
                lobbyImage: i.am.CoinStack3,
                bannerText: void 0,
                isActive: () => !0,
              }),
            ),
            this.products.set(
              3,
              new o({
                type: 3,
                baseCoinAmount: 4500,
                bonusCoinAmount: 800,
                price: 3499,
                discordSKUId: e.coin4,
                mobileIAPSKUId: "coin_id_4",
                lobbyImage: i.am.CoinStack4,
                bannerText: { key: "strings:storePage.bestSeller" },
                isActive: () => !0,
              }),
            ),
            this.products.set(
              4,
              new o({
                type: 4,
                baseCoinAmount: 6500,
                bonusCoinAmount: 1300,
                price: 4999,
                discordSKUId: e.coin5,
                mobileIAPSKUId: "coin_id_5",
                lobbyImage: i.am.CoinStack5,
                bannerText: void 0,
                isActive: () => !0,
              }),
            ),
            this.products.set(
              5,
              new o({
                type: 5,
                baseCoinAmount: 13e3,
                bonusCoinAmount: 3e3,
                price: 9999,
                discordSKUId: e.coin6,
                mobileIAPSKUId: "coin_id_6",
                lobbyImage: i.am.CoinStack6,
                bannerText: { key: "strings:storePage.bestValue" },
                isActive: () => !0,
              }),
            ));
        }
        constructor(e) {
          ((this.storeProductType = n.l6.Coin),
            (this.stripeCheckoutType = n.hg.Payment),
            (this.itemQuantity = 1),
            Object.assign(this, e));
        }
      }
      o.products = new Map();
    },
    64323: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_trophy.bc5c68a7464f0462721d.svg";
    },
    64428: (e, t, s) => {
      "use strict";
      e.exports =
        s.p +
        "assets/stan-fix-safari-low-resolution-dice-after.c7bd287fec51c35eeec7.jpg";
    },
    64458: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/knight_level1_active_blue.e81ed2239a2cae997e58.svg";
    },
    64475: (e, t, s) => {
      "use strict";
      async function i(e = 0) {
        await new Promise((t) => setTimeout(t, e));
      }
      s.d(t, { c: () => i });
    },
    64543: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/store_color_black.8ef9699502a6a75599cd.png";
    },
    64907: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/city_pink.fd2e1fb7cd38190ba29a.svg";
    },
    65015: (e, t, s) => {
      "use strict";
      s.d(t, { g: () => r });
      var i = s(9029),
        n = s(32332);
      class r extends n.A {
        update(e) {
          (super.update(e),
            (this.tdMMR.innerText = String(e.skillRating)),
            this.tdWinRate &&
              (this.tdWinRate.innerText = `${e.winRate.toFixed(1)}%`),
            this.tdTotalGamesPlayed &&
              (this.tdTotalGamesPlayed.innerText = "" + e.totalGamesPlayed));
        }
        constructor(e, t, s, n) {
          super(e, t, s, n);
          const r = t.myData ? "my_leaderboard_cell" : "leaderboard_cell";
          ((this.tdMMR = (0, i.Cr)(this.tableRow, r)),
            (this.tdWinRate = (0, i.Cr)(
              this.tableRow,
              `${r} hide_on_narrow_screens`,
            )),
            (this.tdTotalGamesPlayed = (0, i.Cr)(
              this.tableRow,
              `${r} hide_on_narrow_screens`,
            )),
            this.update(t));
        }
      }
    },
    65019: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/city_blue.43d846e83515f35f51f6.svg";
    },
    65187: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/player_status_reject.9efea4f82b41faca8846.svg";
    },
    65429: (e, t, s) => {
      "use strict";
      s.d(t, { Y: () => h, j: () => u });
      var i = s(78311),
        n = s(38854),
        r = s(66681),
        o = s(48755),
        a = s(29249),
        c = s(18587),
        l = s(41931),
        d = s(9029),
        u = (function (e) {
          return (
            (e[(e.PrivateRoom = 0)] = "PrivateRoom"),
            (e[(e.HideBankCards = 1)] = "HideBankCards"),
            (e[(e.FriendlyRobber = 2)] = "FriendlyRobber"),
            (e[(e.BalancedDice = 3)] = "BalancedDice"),
            (e[(e.NoTrolls = 4)] = "NoTrolls"),
            e
          );
        })({});
      class h {
        load(e, t) {
          ((this.roomState = e), (this.rulesData = null != t ? t : new Map()));
          const s = document.getElementById("room_center_rules_info_icon"),
            i = this.roomState.isTournament;
          (null != s &&
            (0, d.G0)(s, () => {
              new o.L(i);
            }),
            null != this.rulesSelector
              ? this.updateRulesSelector()
              : this.createRulesSelector());
        }
        update(e, t) {
          const s = this.shouldUpdate(e);
          ((this.roomState = e),
            t && (this.rulesData = t),
            s && this.updateRulesSelector());
        }
        updateInteractabilityOfElements(e) {
          this.rulesSelector.updateInteractabilityOfElements(e);
        }
        overrideRuleAvailableState(e, t) {
          const s = this.rulesData.get(e);
          null != s && ((s.available = t), this.updateRulesSelector());
        }
        overrideRuleSelectedState(e, t) {
          const s = this.rulesData.get(e);
          null != s && ((s.selected = t), this.updateRulesSelector());
        }
        createRulesSelector() {
          const e = this.getRulesItemData();
          this.rulesSelector = new n.M(this.container, e, !1);
        }
        updateRulesSelector() {
          const e = this.getRulesItemData();
          this.rulesSelector.update(e);
        }
        getRulesItemData() {
          var e, t, s, n, o, a;
          return [
            {
              name: { key: "strings:roomPage.options.privateGame.title" },
              image: i.am.PrivateGame,
              available: !0,
              selected:
                null !==
                  (n =
                    null === (e = this.rulesData.get(0)) || void 0 === e
                      ? void 0
                      : e.selected) && void 0 !== n
                  ? n
                  : this.roomState.gameSetting.privateGame,
              canToggle: !0,
              clickAction: () => this.onClickPrivateGame(),
              visible: !this.isTournamentRoom(),
            },
            {
              name: { key: "strings:roomPage.options.hideBankCards.title" },
              image: i.am.HideBankCards,
              available: !0,
              selected: this.roomState.gameSetting.hideBankCards,
              canToggle: !0,
              clickAction: () => this.onClickHideBankCards(),
              visible: !0,
            },
            {
              name: { key: "strings:roomPage.options.friendlyRobber.title" },
              image: i.am.Robber,
              available: !0,
              selected: this.roomState.gameSetting.friendlyRobber,
              canToggle: !0,
              clickAction: () => this.onClickFriendlyRobber(),
              visible: !0,
            },
            {
              name: { key: "strings:roomPage.options.dice.titleMobile" },
              image: i.am.Dice6,
              available: !0,
              selected: this.roomState.gameSetting.diceSetting == i.ZP.Balanced,
              canToggle: !0,
              clickAction: () => this.onClickBalancedDice(),
              visible: !0,
            },
            {
              name: { key: "strings:roomPage.options.noTrollsGame.title" },
              image: i.am.IconNoTroll,
              available:
                null !==
                  (o =
                    null === (t = this.rulesData.get(4)) || void 0 === t
                      ? void 0
                      : t.available) && void 0 !== o
                  ? o
                  : !this.isNoTrollsDisabled(),
              selected:
                null !==
                  (a =
                    null === (s = this.rulesData.get(4)) || void 0 === s
                      ? void 0
                      : s.selected) && void 0 !== a
                  ? a
                  : this.roomState.isNoTrollsGame(),
              canToggle: !0,
              clickAction: () => this.onClickNoTrolls(),
              infoAction: () => this.sendNoTrollsNotification(),
              visible: !this.isTournamentRoom(),
            },
            {
              name: { key: "strings:roomPage.orderSelection.title" },
              image: i.am.ProfileRanked,
              available: !0,
              selected: this.roomState.gameSetting.playOrderSelectionActive,
              canToggle: !0,
              clickAction: () => r.sZ.roomClient.togglePlayOrderSelection(),
              visible: this.isTournamentRoom(),
            },
          ].filter((e) => e.visible);
        }
        onClickPrivateGame() {
          var e;
          const t =
            null === (e = this.rulesData.get(0)) || void 0 === e
              ? void 0
              : e.onClick;
          null == t
            ? r.sZ.roomClient.setPrivateGame(
                !this.roomState.gameSetting.privateGame,
              )
            : t();
        }
        onClickHideBankCards() {
          r.sZ.roomClient.setHideBankCards(
            !this.roomState.gameSetting.hideBankCards,
          );
        }
        onClickFriendlyRobber() {
          const e = this.roomState.gameSetting.friendlyRobber;
          (r.sZ.roomClient.setFriendlyRobber(!e),
            l.p.setRoomFriendlyRobberActiveSetting(!e));
        }
        onClickBalancedDice() {
          const e =
            this.roomState.gameSetting.diceSetting == i.ZP.Balanced
              ? i.ZP.Random
              : i.ZP.Balanced;
          (r.sZ.roomClient.setDiceType(e), l.p.setRoomDiceSetting(e));
        }
        onClickNoTrolls() {
          var e;
          const t =
            null === (e = this.rulesData.get(4)) || void 0 === e
              ? void 0
              : e.onClick;
          null == t ? r.sZ.roomClient.toggleNoTrolls() : t();
        }
        shouldUpdate(e) {
          return (
            this.roomState.hostSession.userId != e.hostSession.userId ||
            this.roomState.gameSetting.privateGame !=
              e.gameSetting.privateGame ||
            this.roomState.gameSetting.hideBankCards !=
              e.gameSetting.hideBankCards ||
            this.roomState.gameSetting.friendlyRobber !=
              e.gameSetting.friendlyRobber ||
            this.roomState.gameSetting.diceSetting !=
              e.gameSetting.diceSetting ||
            this.roomState.isNoTrollsGame() != e.isNoTrollsGame() ||
            this.roomState.gameSetting.playOrderSelectionActive !=
              e.gameSetting.playOrderSelectionActive
          );
        }
        isTournamentRoom() {
          return !c.r.isUserOnMobileAppOrWeb && this.roomState.isTournament;
        }
        isNoTrollsDisabled() {
          return (
            !this.roomState.isHostSubscribed() ||
            !!this.roomState.isPrivateGame()
          );
        }
        sendNoTrollsNotification() {
          var e;
          const t =
            null === (e = this.rulesData.get(4)) || void 0 === e
              ? void 0
              : e.onInfoClick;
          if (null != t) return void t();
          const s = this.roomState.gameSetting.privateGame
            ? {
                key: "strings:roomPage.notifications.noTrollsGameDisabledWhenPrivate",
              }
            : { key: "strings:roomPage.options.noTrollsGame.becomeAMember" };
          c.r.isUserOnMobileAppOrWeb
            ? r.OV.show(s, a.n.Information, void 0, void 0, void 0, void 0, 3e3)
            : r.OV.showNotification(i.am.Lightning, s);
        }
        constructor(e) {
          this.container = e;
        }
      }
    },
    65432: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/city_wall_purple.2bbf47ba3b4f4684fb17.svg";
    },
    65944: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/card_paper.1c9114c5081c5d5d5511.svg";
    },
    65976: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/card_progress_politics_deserter.8559ed0fe5d6e61c399d.svg";
    },
    66217: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/sfx_room_get_ready.4645252f794ab5277916.mp3";
    },
    66350: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/sfx_dice_roll_1.72357fea36268b4d2746.mp3";
    },
    66460: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/trade_counter_offer_before.7c117c013010b939c12c.png";
    },
    66516: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/card_progress_politics_diplomat.a8aebecc914f804e9308.svg";
    },
    66589: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/stat_rolling_income.79f84a36f7e7e512db98.svg";
    },
    66681: (e, t, s) => {
      "use strict";
      s.d(t, {
        gC: () => ft,
        _$: () => mt,
        OV: () => ht,
        sZ: () => ut,
        i0: () => pt,
        IH: () => dt,
        P_: () => gt,
        vY: () => lt,
      });
      var i = s(18587),
        n = s(19966),
        r = s(81888),
        o = s(18514);
      if (837 != s.j) var a = s(36558);
      if (837 != s.j) var c = s(47649);
      if (837 != s.j) var l = s(12868);
      var d = s(78046);
      class u {
        static isReferrerInformationEmpty(e) {
          return null == e.referrer && null == e.referralCode;
        }
      }
      ((u.marketingReferralCodeURLVariable = "referralCode"),
        (u.maxReferralCodeLength = 20),
        (u.maxReferrerLength = 150));
      var h = s(69714),
        p = s(26658);
      class m {
        static init() {
          (this.initVariables(),
            window.addEventListener("storage", (e) => {
              if ("string" == typeof e.key && null != e.newValue)
                switch (e.key) {
                  case "requestSavedReferrer":
                    this.sendSessionReferrer();
                    break;
                  case "sendSessionReferrer":
                    this.updateSessionReferrer(e.newValue);
                    break;
                  case "requestSessionReferralCode":
                    this.sendSessionReferralCode();
                    break;
                  case "sendSessionReferralCode":
                    this.updateSessionReferralCode(e.newValue);
                }
            }),
            this.requestSavedReferrerFromOtherOpenTabs(),
            this.requestSavedReferralCodeFromOtherOpenTabs(),
            ut.controller.registerSessionEstablishedObserver(() => {
              const e = this.referrer,
                t = this.referralCode,
                s = {
                  referrer: "" == e ? void 0 : e,
                  referralCode: null != t ? t : void 0,
                };
              u.isReferrerInformationEmpty(s) ||
                h.Q.sendLobby(p.Dj.SaveClientReferrer, s);
            }));
        }
        static initVariables() {
          (this.referrer, this.referralCode);
        }
        static requestSavedReferrerFromOtherOpenTabs() {
          (window.localStorage.setItem("requestSavedReferrer", ""),
            window.localStorage.removeItem("requestSavedReferrer"));
        }
        static sendSessionReferrer() {
          const e = this.getSessionReferrer();
          null != e &&
            (window.localStorage.setItem("sendSessionReferrer", e),
            window.localStorage.removeItem("sendSessionReferrer"));
        }
        static updateSessionReferrer(e) {
          null != e && (this.referrer = e);
        }
        static requestSavedReferralCodeFromOtherOpenTabs() {
          (window.localStorage.setItem("requestSessionReferralCode", ""),
            window.localStorage.removeItem("requestSessionReferralCode"));
        }
        static sendSessionReferralCode() {
          const e = this.getSessionReferralCode();
          null != e &&
            (window.localStorage.setItem("sendSessionReferralCode", e),
            window.localStorage.removeItem("sendSessionReferralCode"));
        }
        static updateSessionReferralCode(e) {
          null != e && (this.referralCode = e);
        }
        static get referrer() {
          const e = this.getSessionReferrer();
          if (null != e) return e;
          const t = document.referrer;
          return ((this.referrer = t), t);
        }
        static set referrer(e) {
          sessionStorage.setItem(this.REFERRER_KEY, e);
        }
        static getSessionReferrer() {
          return sessionStorage.getItem(this.REFERRER_KEY);
        }
        static get referralCode() {
          const e = this.getSessionReferralCode();
          if (null != e) return e;
          const t = this.getReferralCodeFromURL();
          return null == t ? null : ((this.referralCode = t), t);
        }
        static set referralCode(e) {
          null != e && sessionStorage.setItem(this.REFERRAL_CODE_KEY, e);
        }
        static getSessionReferralCode() {
          return sessionStorage.getItem(this.REFERRAL_CODE_KEY);
        }
        static getReferralCodeFromURL() {
          return new URLSearchParams(window.location.search).get(
            u.marketingReferralCodeURLVariable,
          );
        }
      }
      ((m.REFERRER_KEY = "referrer"), (m.REFERRAL_CODE_KEY = "referralCode"));
      var g = s(41931),
        f = s(95176),
        y = s(52609),
        b = s(78311),
        v = s(17399);
      class S extends f.y {
        bringToFront() {
          this.container.style.zIndex = "10";
        }
        constructor() {
          (super(
            {
              key: "strings:homePage.popups.hardwareAccelerationRequired.title",
            },
            {
              key: "strings:homePage.popups.hardwareAccelerationRequired.body",
            },
            () => {},
            () => {},
            !1,
          ),
            this.removeCheckButton(),
            this.removeXButton(),
            this.removeFooter(),
            this.show(),
            this.bringToFront());
        }
      }
      class k {
        static debugOptions() {
          i.r.isProduction ||
            ((0, v.W)("debugOptions", [`Is mobile ${y.ts.utils.isMobile.any}`]),
            (0, v.W)("debugOptions", [`Is phone ${y.ts.utils.isMobile.phone}`]),
            (0, v.W)("debugOptions", [
              `Webgl supported ${y.ts.utils.isWebGLSupported()}`,
            ]),
            (0, v.W)("debugOptions", [
              `Document referrer ${document.referrer}. Location ${document.location.href}`,
            ]));
        }
        static showTestServerPopup() {
          i.r.isProduction ||
            ht.showNotification(b.am.Admin, {
              key: "strings:homePage.header.testServerMessage",
            });
        }
        static webGLCheck() {
          y.ts.utils.isWebGLSupported()
            ? n.CA.sendGoogleAnalyticsEvent(
                n.CA.Category.General,
                n.CA.Label.GeneralWebGLEnabled,
              )
            : (n.CA.sendGoogleAnalyticsEvent(
                n.CA.Category.General,
                n.CA.Label.GeneralWebGLDisabled,
              ),
              i.r.isUserOnDiscord
                ? this.showHardwareAccelerationPopup()
                : i.r.isUserOnMobileAppOrWeb
                  ? this.showWebGLPopupOnMobileApp()
                  : this.showWebGLPopup());
        }
        static monitorIfUserInteractedWithSite(e) {
          e ||
            (null == this.interactedWithSiteEventListener &&
              ((this.interactedWithSiteEventListener = () =>
                this.sendUserInteractedWithSite()),
              document.addEventListener(
                "mousemove",
                this.interactedWithSiteEventListener,
              ),
              document.addEventListener(
                "mousedown",
                this.interactedWithSiteEventListener,
              )));
        }
        static sendUserInteractedWithSite() {
          null != this.interactedWithSiteEventListener &&
            (document.removeEventListener(
              "mousemove",
              this.interactedWithSiteEventListener,
            ),
            document.removeEventListener(
              "mousedown",
              this.interactedWithSiteEventListener,
            ),
            h.Q.interactedWithSite());
        }
        static showWebGLPopup() {
          const e = new f.y(
            { key: "strings:homePage.popups.webGLInactive.title" },
            { key: "strings:homePage.popups.webGLInactive.body" },
            () => {
              window.location.replace(
                "https://blog.colonist.io/how-to-enable-webgl/",
              );
            },
            () => {},
            !1,
            { showXButton: !1 },
          );
          (e.changeCheckButtonText({
            key: "strings:homePage.popups.webGLInactive.showMeHow",
          }),
            e.show());
        }
        static showHardwareAccelerationPopup() {
          new S();
        }
        static showWebGLPopupOnMobileApp() {
          const e = new f.y(
            { key: "strings:homePage.popups.webGLInactiveOnMobileApp.title" },
            { key: "strings:homePage.popups.webGLInactiveOnMobileApp.body" },
            () => {},
            () => {},
            !1,
            { showXButton: !1, showCheckButton: !1 },
          );
          (e.addBodyContent({
            key: "strings:homePage.popups.webGLInactiveOnMobileApp.nov12IOS187issue",
          }),
            e.show());
        }
      }
      var C = s(61919),
        P = s(34915),
        _ = s(50482),
        A = s(64265),
        w = s(49937),
        R = s(17972),
        T = s(32398),
        I = s(655),
        M = s(30506),
        L = s(4508),
        B = s(13618);
      class D {
        static async displayAllPendingNotifications() {
          if (i.r.isUserOnDiscord) return;
          if (i.r.isUserOnMobileAppOrWeb) return;
          if (null == r._.userState) return;
          if (
            0 ==
            document
              .getElementById("header_profile_notification_container")
              .classList.contains("hidden")
          )
            return;
          const e = await I.m.getRequestHandler(
            T.l.apiGetNotifications(),
            void 0,
          );
          if (null == e) return;
          const t = e.json;
          for (const e of t)
            this.isCornerPopup(e)
              ? this.displayCornerPopup(e)
              : this.displayViewPopup(e);
        }
        static isCornerPopup(e) {
          return e.typeData.type === L.j.UserReportedWarning;
        }
        static displayCornerPopup(e) {
          const t = this.getCornerPopupData(e);
          ht.showNotification(
            t.image,
            t.text,
            t.duration,
            void 0,
            this.markNotificationAsReadAction(e.id),
          );
        }
        static displayViewPopup(e) {
          const t = this.getViewPopupData(e);
          if (null == t) return;
          var s;
          const i = null !== (s = t.checkAction) && void 0 !== s ? s : () => {},
            n = new f.y(t.title, t.body, i, () => {}, !0, t.popupOptions);
          (n.removeXButton(),
            (n.removeAction = this.markNotificationAsReadAction(e.id)),
            n.show());
        }
        static getViewPopupData(e) {
          switch (e.typeData.type) {
            case L.j.UserReportedBanned:
              return {
                title: {
                  key: "strings:popups.notification.reportedUserBanned.title",
                },
                body: {
                  key: "strings:popups.notification.reportedUserBanned.body",
                },
              };
            case L.j.UserReportedThankYou:
              return {
                title: {
                  key: "strings:popups.notification.reportedUserThankYou.title",
                },
                body: {
                  key: "strings:popups.notification.reportedUserThankYou.body",
                },
              };
            case L.j.HolidaySale2023Expired:
              return {
                title: {
                  key: "strings:popups.notification.holidaySale2023Expired.title",
                },
                body: {
                  key: "strings:popups.notification.holidaySale2023Expired.body",
                },
              };
            case L.j.TranslationHelp:
              return {
                title: {
                  key: "strings:popups.notification.translationHelp.title",
                },
                body: {
                  key: "strings:popups.notification.translationHelp.body",
                  options: {
                    language: e.typeData.language,
                    username: e.typeData.username,
                    link: e.typeData.link,
                  },
                },
              };
            case L.j.GiftMembershipReceivedFromAdmin:
              return {
                title: {
                  key: "strings:popups.notification.giftMembershipReceived.title",
                },
                body: {
                  key: "strings:popups.notification.giftMembershipReceived.body",
                },
                popupOptions: {
                  checkButtonCustomContent: {
                    key: "strings:popups.notification.giftMembershipReceived.checkButton",
                  },
                },
                checkAction: () => (0, B.Yf)("/store#gifted_memberships", !0),
              };
            default:
              return;
          }
        }
        static getCornerPopupData(e) {
          if (e.typeData.type === L.j.UserReportedWarning)
            return {
              image: b.am.DangerIcon,
              text: { key: "strings:popups.notification.reportedUserWarning" },
              duration: M.Re.SECONDS_IN_MINUTE * M.Re.MILLISECONDS,
            };
          throw new Error(
            "Unsupported notification type for displayCornerPopup",
          );
        }
        static markNotificationAsReadAction(e, t) {
          return async () => {
            (await I.m.postRequestHandler(
              T.l.apiMarkNotificationAsRead(e),
              void 0,
              void 0,
            ),
              null == t || t());
          };
        }
      }
      var E = s(44517);
      if (837 != s.j) var G = s(84240);
      var x = s(9029);
      class U {
        static init() {
          var e, t, s, n;
          (null === (e = r._.userState) || void 0 === e ? void 0 : e.isLoggedIn)
            ? (null === (s = document.getElementById("g_id_onload")) ||
                void 0 === s ||
                s.setAttribute("data-auto_prompt", "false"),
              this.cancelPopup(),
              this.delayedCancelPopup())
            : null === (n = document.getElementById("g_id_onload")) ||
              void 0 === n ||
              n.setAttribute("data-auto_prompt", "true");
          this.initialized ||
            i.r.isUserOnMobile ||
            i.r.isUserOnDiscord ||
            (null === (t = r._.userState) || void 0 === t
              ? void 0
              : t.isLoggedIn) ||
            ((0, x.xW)(document.body, "https://accounts.google.com/gsi/client"),
            (this.initialized = !0));
        }
        static cancelPopup() {
          var e, t, s;
          null === (s = window.google) ||
            void 0 === s ||
            null === (t = s.accounts) ||
            void 0 === t ||
            null === (e = t.id) ||
            void 0 === e ||
            e.cancel();
        }
        static delayedCancelPopup() {
          if (this.initialized)
            for (let e = 0; e < 2e3; e += 500)
              setTimeout(() => {
                this.cancelPopup();
              }, e);
        }
      }
      U.initialized = !1;
      class O {
        static init() {
          var e, t, s, n, o, a, c;
          this.initialized ||
            i.r.isUserOnDiscord ||
            (null !==
              (t =
                null === (e = r._.userState) || void 0 === e
                  ? void 0
                  : e.totalCompletedGameCount) && void 0 !== t
              ? t
              : 0) > 0 ||
            ("https:" == window.location.protocol &&
              ((s = window),
              (n = document),
              (s.hj =
                null !== (c = s.hj) && void 0 !== c
                  ? c
                  : function () {
                      var e;
                      (s.hj.q =
                        null !== (e = s.hj.q) && void 0 !== e ? e : []).push(
                        arguments,
                      );
                    }),
              (s._hjSettings = { hjid: i.r.hotjarTrackingCode, hjsv: 6 }),
              (o = n.getElementsByTagName("head")[0]),
              ((a = n.createElement("script")).async = 1),
              (a.src =
                "https://static.hotjar.com/c/hotjar-" +
                s._hjSettings.hjid +
                ".js?sv=" +
                s._hjSettings.hjsv),
              o.appendChild(a),
              (this.initialized = !0)));
        }
      }
      O.initialized = !1;
      var N = s(1863);
      class F {
        static init() {
          var e, t;
          if (this.initialized) return;
          if ("" == i.r.vliPublicKey) return;
          if ("" == i.r.vliAdvKey) return;
          if (null == window.vitag) return;
          if ("localhost" === window.location.hostname) return;
          if (i.r.isUserOnDiscord) return;
          if (i.r.isUserOnMobile && i.r.shouldHideAdsOnMobile) return;
          if (r._.isStale()) return;
          if (
            null === (e = r._.userState) || void 0 === e
              ? void 0
              : e.items.hideAds()
          )
            return;
          ((window.hashString =
            null === (t = r._.userState) || void 0 === t ? void 0 : t.vliHash),
            (0, x.xW)(document.body, i.r.vliPublicKey),
            (0, x.xW)(document.body, i.r.vliAdvKey),
            (0, x.xW)(
              document.body,
              "//cdn.jsdelivr.net/gh/vli-platform/adb-analytics@77bebb/v1.0.min.js",
            ),
            document
              .querySelectorAll(".remove_ads_button_in_game")
              .forEach((e) => e.classList.remove("hidden")));
          (N.z.shouldShowLobbyAds() &&
            (document
              .querySelectorAll(".vli_page_vertical_ad")
              .forEach((e) => e.classList.remove("hidden")),
            document
              .querySelectorAll(".main_page_ad_300x100")
              .forEach((e) => e.classList.remove("hidden")),
            document
              .querySelectorAll(".main_page_ad_300x250")
              .forEach((e) => e.classList.remove("hidden")),
            document
              .querySelectorAll(".mm-mode-selector-ad")
              .forEach((e) => e.classList.remove("hidden"))),
            document
              .querySelectorAll(".adsbyvli")
              .forEach((e) => e.classList.remove("hidden")),
            (this.initialized = !0));
        }
      }
      F.initialized = !1;
      class H {
        static init() {
          var e;
          this.initialized ||
            ("localhost" !== window.location.hostname &&
              (i.r.isUserOnDiscord ||
                (i.r.isUserOnMobile && i.r.shouldHideAdsOnMobile) ||
                i.r.showVliAdAtBottomInGame ||
                r._.isStale() ||
                (null === (e = r._.userState) || void 0 === e
                  ? void 0
                  : e.items.hideAds()) ||
                ((0, x.xW)(
                  document.body,
                  "//api.adinplay.com/libs/aiptag/pub/KTN/colonist.io/tag.min.js",
                ),
                (this.initialized = !0))));
        }
      }
      H.initialized = !1;
      var W = s(78524),
        K = s(4651);
      if (837 != s.j) var V = s(64853);
      var q = s(70970);
      class Q {
        isSocketOpen() {
          var e;
          return (
            (null === (e = this.webSocket) || void 0 === e
              ? void 0
              : e.readyState) === WebSocket.OPEN
          );
        }
        async connect() {
          const e = (0, M.ph)(),
            t = 9 * M.Re.MILLISECONDS;
          return (
            setTimeout(() => {
              e.pending && (this.close(b.SB), e.resolve("retry"));
            }, t),
            (this.webSocket = new WebSocket(await this.getWebSocketUrl())),
            (this.webSocket.binaryType = "arraybuffer"),
            (this.webSocket.onmessage = (t) =>
              this.handleInitialWebSocketMessage(t, e)),
            (this.webSocket.onclose = (t) => {
              switch (t.code) {
                case b.p5:
                case b.FL:
                  e.resolve("permanentlyFailed");
                  break;
                case b.gu:
                  ((this.sendTurnstileToken = !0), e.resolve("retry"));
                  break;
                default:
                  e.resolve("retry");
              }
              this.handleWebSocketClose(t.code);
            }),
            (this.webSocket.onerror = (t) => {
              (this.handleWebSocketError(t), e.resolve("retry"));
            }),
            e
          );
        }
        async getWebSocketUrl() {
          const e = new URLSearchParams();
          if (
            (e.append("version", b.ZC),
            null != this.firstUserSessionId &&
              e.append("firstUserSessionId", this.firstUserSessionId),
            i.r.isUserOnDiscordMobile)
          ) {
            const t = g.p.getAuthToken();
            null != t && e.append("authToken", t);
          }
          return (
            this.sendTurnstileToken &&
              e.append("turnstileToken", await q.F.getToken()),
            `${this.serverUrl}?${e}`
          );
        }
        handleInitialWebSocketMessage(e, t) {
          if (null != this.webSocket) {
            try {
              const s = JSON.parse(e.data);
              switch (s.type) {
                case "Connected":
                  return void (
                    null == this.firstUserSessionId &&
                    (this.firstUserSessionId = s.userSessionId)
                  );
                case "SessionEstablished":
                  return (
                    (this.webSocket.onmessage = (e) =>
                      this.handleWebSocketMessage(e)),
                    this.onSessionEstablished(),
                    t.resolve("connected"),
                    void (this.sendTurnstileToken = !1)
                  );
              }
            } catch (t) {
              console.error("Parse websocket initial message error", e, t);
            }
            this.handleWebSocketMessage(e);
          }
        }
        handleWebSocketMessage(e) {
          const t = V.D4(e.data);
          (i.r.socketDebugActive &&
            (0, v.W)("SocketMessage", [
              "======",
              `Message type: ${t.id}, data:`,
              t.data,
            ]),
            this.onStateUpdate(Number(t.id), t.data));
        }
        handleWebSocketError(e) {
          var t;
          (i.r.socketDebugActive &&
            (0, v.vV)("connect", ["Closing socket, encountered error: ", e]),
            null === (t = this.webSocket) || void 0 === t || t.close());
        }
        handleWebSocketClose(e) {
          (n.CA.sendGoogleAnalyticsEvent(
            n.CA.Category.General,
            n.CA.Label.GeneralBrokenInternetConnection,
          ),
            e != b.p5 ? this.onClose() : (0, B.Yf)((0, B.mE)()));
        }
        close(e) {
          var t;
          null === (t = this.webSocket) || void 0 === t || t.close(e);
        }
        send(e) {
          var t;
          this.isSocketOpen() &&
            (null === (t = this.webSocket) || void 0 === t || t.send(e));
        }
        constructor(e, t, s, i) {
          ((this.sendTurnstileToken = !1),
            (this.serverUrl = e),
            (this.onSessionEstablished = t),
            (this.onStateUpdate = s),
            (this.onClose = i));
        }
      }
      var $ = (function (e) {
        return (
          (e[(e.RouteToServerType = 2)] = "RouteToServerType"),
          (e[(e.RouteToServerDirect = 3)] = "RouteToServerDirect"),
          (e[(e.SocketRouter = 4)] = "SocketRouter"),
          e
        );
      })({});
      new TextDecoder();
      const z = new TextEncoder();
      function j(e, t, s, i) {
        const n = z.encode(s),
          r = new Uint8Array(3 + n.byteLength + i.byteLength),
          o = new DataView(r.buffer);
        return (
          o.setUint8(0, e),
          o.setUint8(1, t),
          o.setUint8(2, n.byteLength),
          r.set(n, 3),
          r.set(i, 3 + n.byteLength),
          r
        );
      }
      if (837 != s.j) var Y = s(62777);
      var X = s(67908);
      if (837 != s.j) var Z = s(18628);
      class J {
        sendToServer(e, t, s, i = !1) {
          if (t) this.send($.RouteToServerDirect, e, t, s, i);
          else
            try {
              const t = new Error("Direct to server message has no recipient");
              throw ((t.subType = e), (t.data = s), t);
            } catch (e) {
              (console.error(e), Z.Cp(e));
            }
        }
        sendToServerType(e, t, s, i = !1) {
          this.send($.RouteToServerType, e, t, s, i);
        }
        sendNoop() {
          this.send($.SocketRouter, b.lo.Noop, "", {}, !1);
        }
        sendCloseSocket(e) {
          const t = new Uint8Array([e - 4e3]),
            s = j($.SocketRouter, b.lo.CloseSocket, "", t);
          this.socket.send(s);
        }
        sendPing(e) {
          const t = {
            id: `${X.zd.State.SocketMonitorUpdate}`,
            data: { timestamp: e },
          };
          this.send($.SocketRouter, b.lo.Echo, "", t, !1);
        }
        onSessionEstablished() {
          this.sessionWasEstablished = !0;
          for (const e of this.bufferedOutgoingSecondaryMessages)
            this.socket.send(e);
          ((this.bufferedOutgoingSecondaryMessages.length = 0),
            this.bufferedOutgoingPrimaryMessage &&
              (this.socket.send(this.bufferedOutgoingPrimaryMessage),
              (this.bufferedOutgoingPrimaryMessage = void 0)));
        }
        send(e, t, s, i, n) {
          const r = j(e, t, s, Y.l(i));
          this.sessionWasEstablished
            ? this.socket.send(r)
            : n
              ? (this.bufferedOutgoingPrimaryMessage = r)
              : this.bufferedOutgoingSecondaryMessages.push(r);
        }
        constructor(e, t) {
          ((this.sessionWasEstablished = !1),
            (this.bufferedOutgoingSecondaryMessages = []),
            (this.socket = e),
            t(() => this.onSessionEstablished()));
        }
      }
      var ee = s(29249);
      class te {
        static show() {
          if (null != this.connectionLostBackground) return;
          const e = (0, x.Le)(document.body, "game-reconnecting-overlay");
          ((0, x.Le)(e, "loading-spinner"),
            (0, x.i5)(e, "game-reconnecting-text", {
              key: "strings:game.gameState.gameLogs.gameDisconnected.reconnecting",
            }),
            (this.connectionLostBackground = e));
        }
        static remove() {
          (null != this.connectionLostBackground &&
            this.connectionLostBackground.remove(),
            (this.connectionLostBackground = void 0));
        }
      }
      var se = s(85801);
      class ie {
        startReconnecting() {
          if (!this.isEnabled) return;
          if (this.isReconnecting) return;
          if (
            ((this.isReconnecting = !0),
            null == ht || ht.removeDisconnectBanners(),
            !this.hideConnect && !this.canReconnectFunction())
          )
            return (this.displayReconnectBanner(), void this.disable());
          const e = 30 * M.Re.MILLISECONDS;
          (clearTimeout(this.maxDisconnectTimeout),
            (this.maxDisconnectTimeout = setTimeout(() => {
              this.displayReconnectBanner();
            }, e)),
            (this.timeDisconnected = Date.now()),
            this.hideConnect || te.show(),
            (this.hideConnect = !1),
            this.reconnect());
        }
        async reconnect() {
          const e = 3 * M.Re.MILLISECONDS;
          let t = 1;
          for (; t <= ie.MAX_RECONNECT_ATTEMPTS; ) {
            switch (await this.reconnectFunction()) {
              case "connected":
                return void this.connectionReestablished();
              case "retry":
                (await (0, M.cb)(e), (t += 1));
                break;
              case "permanentlyFailed":
                return (
                  this.removeUI(),
                  this.displayReconnectBanner(),
                  void (this.isReconnecting = !1)
                );
            }
          }
        }
        connectionReestablished() {
          ((this.isReconnecting = !1),
            clearTimeout(this.maxDisconnectTimeout),
            se.N.instance.clearAllKeyBinds(),
            this.removeWarnings());
        }
        displayReconnectBanner() {
          const e = {
            key: "strings:homePage.loadingError.prompt",
            options: {
              context:
                i.r.isUserOnDiscord || i.r.isUserOnMobileAppOrWeb
                  ? "activity"
                  : "browser",
            },
          };
          if (
            (i.r.socketDebugActive && (0, v.vV)("connect", [e]),
            mt.serverUpdated)
          ) {
            const e = {
              key: "strings:popups.errors.newVersion.newVersionReleasedWarningLostConnection",
            };
            null == ht || ht.show(e, ee.n.SocketError, e, void 0, void 0, !1);
          } else
            null == ht ||
              ht.show(
                e,
                ee.n.SocketError,
                { key: "strings:colonistCommon.buttons.reload" },
                () => location.reload(),
                void 0,
                !1,
              );
          clearTimeout(this.maxDisconnectTimeout);
        }
        removeWarnings() {
          var e;
          const t =
              null !== (e = this.timeDisconnected) && void 0 !== e
                ? e
                : Date.now(),
            s = 1 * M.Re.MILLISECONDS,
            i = Date.now() - t;
          (setTimeout(() => {
            this.removeUI();
          }, s - i),
            (this.timeDisconnected = void 0));
        }
        removeUI() {
          (te.remove(), null == ht || ht.removeSocketErrorBanners());
        }
        disable() {
          this.isEnabled = !1;
        }
        constructor(e, t, s = !1) {
          ((this.isReconnecting = !1),
            (this.hideConnect = !1),
            (this.isEnabled = !0),
            (this.reconnectFunction = e),
            (this.canReconnectFunction = t),
            (this.hideConnect = s));
        }
      }
      ie.MAX_RECONNECT_ATTEMPTS = 15;
      var ne = s(96990);
      class re {
        enableConnect() {
          this.enabled ||
            ((this.enabled = !0),
            r._.registerChangeListener(() => {
              this.checkUserChanged();
            }),
            this.registerSessionEstablishedObserver(() => {
              this.checkUserChanged();
            }));
        }
        registerSessionEstablishedObserver(e) {
          return (
            this.sessionEstablishedObservers.add(e),
            () => {
              this.sessionEstablishedObservers.delete(e);
            }
          );
        }
        handleStateUpdate(e, t) {
          var s;
          null === (s = this.stateHandlers.get(e)) || void 0 === s || s(t);
        }
        setStateHandler(e, t) {
          this.stateHandlers.set(e, t);
        }
        registerSocketCloseObserver(e) {
          this.socketCloseObservers.push(e);
        }
        setSession(e) {
          var t, s;
          ((this.session = e),
            (null === (t = r._.userState) || void 0 === t
              ? void 0
              : t.isLoggedIn) &&
              n.CA.sendGoogleAnalyticsEvent(
                n.CA.Category.Funnel,
                n.CA.Label.FunnelLoggedIn,
              ),
            null === (s = n.CA.logRocket) ||
              void 0 === s ||
              s.set(this.session),
            null == lt || lt.showPatchnotes());
        }
        triggerSessionEstablishedObservers() {
          for (const e of this.sessionEstablishedObservers) e();
        }
        isSocketOpen() {
          return this.socket.isSocketOpen();
        }
        close(e) {
          (null != e && this.sender.sendCloseSocket(e), this.socket.close(e));
        }
        handleSocketClose() {
          this.currentUserId = void 0;
          for (const e of this.socketCloseObservers) e();
        }
        checkUserChanged() {
          var e;
          this.isSocketOpen() || !r._.hasUser()
            ? (null === (e = r._.userState) || void 0 === e ? void 0 : e.id) !=
                this.currentUserId && this.close(b.kv)
            : this.reconnectionController.startReconnecting();
        }
        constructor(e) {
          ((this.enabled = !1),
            (this.sessionEstablishedObservers = new Set()),
            (this.stateHandlers = new Map()),
            (this.socketCloseObservers = []),
            (this.reconnectionController = new ie(
              () => {
                var e;
                return (
                  (this.currentUserId =
                    null === (e = r._.userState) || void 0 === e
                      ? void 0
                      : e.id),
                  this.socket.connect()
                );
              },
              () => {
                if (!r._.hasUser()) return !1;
                return (
                  !!ne.N.isUserOnMobileAppOrWeb() ||
                  "visible" == document.visibilityState
                );
              },
              !0,
            )),
            this.registerSocketCloseObserver(() =>
              this.reconnectionController.startReconnecting(),
            ),
            (this.socket = new Q(
              e,
              () => this.triggerSessionEstablishedObservers(),
              (e, t) => this.handleStateUpdate(e, t),
              () => this.handleSocketClose(),
            )),
            (this.sender = new J(this.socket, (e) =>
              this.registerSessionEstablishedObserver(e),
            )));
        }
      }
      if (837 != s.j) var oe = s(67707);
      var ae = s(19733);
      class ce {
        static processSocketData(e) {
          ("number" == typeof e &&
            ((this.expectedSocketAmount = Number(e)),
            (this.receivedSocketAmount = 0),
            (this.startingTime = Date.now()),
            (0, v.W)("processSocketData", [
              "-------------------------------------",
            ]),
            (0, v.W)("processSocketData", [
              `Expecting ${this.expectedSocketAmount}`,
            ])),
            "string" == typeof e &&
              "test" == e &&
              (this.receivedSocketAmount += 1),
            "string" == typeof e &&
              "done" == e &&
              ((0, v.W)("processSocketData", [
                `Expected ${this.expectedSocketAmount}`,
              ]),
              (0, v.W)("processSocketData", [
                `Received ${this.receivedSocketAmount}`,
              ]),
              (0, v.W)("processSocketData", [
                `Took ${Date.now() - this.startingTime}ms`,
              ]),
              (this.expectedSocketAmount = 0),
              (this.receivedSocketAmount = 0),
              (this.startingTime = 0)));
        }
      }
      ((ce.expectedSocketAmount = 0),
        (ce.receivedSocketAmount = 0),
        (ce.startingTime = 0));
      class le extends f.y {
        constructor() {
          (super(
            { key: "strings:popups.patchNote.announcement" },
            { key: "strings:popups.errors.serverUpdate" },
            () => {},
            () => {},
            !1,
          ),
            this.removeCheckButton(),
            this.removeXButton(),
            (this.preventClicksOutsideOfPopupFromClosingPopup = !0));
        }
      }
      class de {
        static send(e, t) {
          const s = { action: e, payload: t };
          ut.controller.sender.sendToServerType(b.lo.ShuffleAction, "lobby", s);
        }
        static requestShuffleQueueData() {
          this.send(p.Ih.GetShuffleQueueData, void 0);
        }
      }
      var ue = s(74710),
        he = s(30911),
        pe = s(53015),
        me = s(60144),
        ge = s(5603);
      class fe extends f.y {
        createContent() {
          const e = (0, x.Le)(this.body, "popup-purchase-successful-content");
          (0, x.zO)(e, this.item.image, "popup-purchase-item-image");
          const t = {
            key: "strings:storePage.success.youGotItem",
            options: {
              itemName: o.a7.t(this.item.name.key, this.item.name.options),
              category: this.getItemCategoryText(),
            },
          };
          ((0, x.Wr)(e, t, "popup-purchase-title"),
            (0, x.Wr)(
              e,
              { key: "strings:storePage.success.findInProfile" },
              "popup-purchase-subtitle",
            ));
        }
        initXButton() {
          (this.xButton.classList.remove("btn_general_x"),
            this.xButton.classList.add("btn_general_check"));
        }
        initCheckButton() {
          (this.changeCheckButtonText({
            key: "strings:storePage.success.useItNow",
          }),
            (0, x.G0)(this.checkButton, () => {
              (ge.A.play(ge.h.Click), this.useItemAction(), this.removePopup());
            }));
        }
        getItemCategoryText() {
          switch (this.item.category) {
            case pe.n9.Color:
              return o.a7.t("strings:storePage.sections.color.title", {
                context: "one",
              });
            case pe.n9.Icon:
              return o.a7.t("strings:storePage.sections.avatar.title", {
                context: "one",
              });
            default:
              return "";
          }
        }
        async useItemAction() {
          switch (this.item.category) {
            case pe.n9.Color:
              const e = he.k.getPlayerColorOfStorePlayerColor(this.item.type);
              if (null == e) return;
              await me.a.updatePreferredColor(e);
              const t = (0, ue.dN)(
                {
                  key: "strings:homePage.header.defaultColorSelector.colorChanged",
                },
                { color: this.item.name },
              );
              ht.showNotification(this.item.image, t);
              break;
            case pe.n9.Icon:
              await me.a.updateIcon(this.item.type);
              const s = (0, ue.dN)(
                { key: "strings:homePage.header.avatarSelector.avatarChanged" },
                { icon: this.item.name },
              );
              ht.showNotification(this.item.image, s);
          }
        }
        constructor(e) {
          (super(
            { key: "strings:storePage.success.purchaseSuccess" },
            void 0,
            () => {},
            () => {},
            !0,
          ),
            (this.item = e),
            this.createContent(),
            this.initXButton(),
            this.initCheckButton(),
            this.show());
        }
      }
      class ye {
        constructor(e, t) {
          ((this.lobbyStateHandlers = new Map()),
            (this.channelStateHandlers = new Map()),
            (this.generalStateHandlers = new Map()),
            (this.socketActionController = t),
            e.setStateHandler(X.zd.State.LobbyStateUpdate, (e) => {
              var t;
              null === (t = this.lobbyStateHandlers.get(e.type)) ||
                void 0 === t ||
                t(e.payload);
            }),
            e.setStateHandler(X.zd.State.ChannelStateUpdate, (e) => {
              var t;
              null === (t = this.channelStateHandlers.get(e.type)) ||
                void 0 === t ||
                t(e.payload);
            }),
            e.setStateHandler(X.zd.State.GeneralStateUpdate, (e) => {
              var t;
              null === (t = this.generalStateHandlers.get(e.type)) ||
                void 0 === t ||
                t(e.payload);
            }),
            this.lobbyStateHandlers.set(X.zd.LobbyState.SessionState, (t) => {
              var s;
              const i = oe.E.deserialize(t);
              (k.monitorIfUserInteractedWithSite(
                null === (s = r._.userState) || void 0 === s
                  ? void 0
                  : s.interactedWithSite,
              ),
                e.setSession(i),
                this.socketActionController.onStateSessionState(),
                de.requestShuffleQueueData());
            }),
            this.lobbyStateHandlers.set(
              X.zd.LobbyState.LobbyDisconnectData,
              (e) => {
                ht.showGames(e);
              },
            ),
            this.lobbyStateHandlers.set(X.zd.LobbyState.AutoRejoinGame, (e) => {
              this.socketActionController.onStateAutoRejoinGame(e);
            }),
            this.lobbyStateHandlers.set(X.zd.LobbyState.SendPopup, (e) => {
              "strings:popups.errors.newVersion.refreshClient" == e.body.key
                ? ae.r.createForceRefreshPopup(e.title, e.body)
                : ae.r.createSimplePopup(e.title, e.body);
            }),
            this.lobbyStateHandlers.set(X.zd.LobbyState.SendBroadcast, (e) => {
              ht.show(e.text, ee.n.Information);
            }),
            this.lobbyStateHandlers.set(X.zd.LobbyState.SocketTest, (e) => {
              ce.processSocketData(e);
            }),
            this.lobbyStateHandlers.set(
              X.zd.LobbyState.ShowCornerPopup,
              (e) => {
                ht.showNotification(e.icon, e.text);
              },
            ),
            this.lobbyStateHandlers.set(X.zd.LobbyState.ServerUpdating, () => {
              new le().show();
            }),
            this.lobbyStateHandlers.set(X.zd.LobbyState.ReloadClient, (e) => {
              setTimeout(() => window.location.reload(), e.delay);
            }),
            this.lobbyStateHandlers.set(X.zd.LobbyState.ServerUpdated, (e) => {
              if (null == ut.gameListener.databaseGameId) return;
              if ((0, M.Qn)(b.$m) == (0, M.Qn)(e.newServerVersion)) return;
              (ht.show(
                {
                  key: "strings:popups.errors.newVersion.newVersionReleasedWarning",
                },
                ee.n.Information,
              ),
                (mt.serverUpdated = !0));
            }),
            this.lobbyStateHandlers.set(X.zd.LobbyState.RoomListUpdate, (e) => {
              this.socketActionController.onRoomListUpdate(e);
            }),
            this.lobbyStateHandlers.set(
              X.zd.LobbyState.UserStateUpdate,
              (e) => {
                r._.update(e);
              },
            ),
            this.lobbyStateHandlers.set(
              X.zd.LobbyState.ItemPurchaseSuccessPopup,
              (e) => {
                new fe(e);
              },
            ),
            this.channelStateHandlers.set(
              X.zd.ChannelState.ChannelRoomUpdate,
              (e) => {
                this.socketActionController.onChannelRoomUpdate(e);
              },
            ),
            this.generalStateHandlers.set(
              X.zd.GeneralState.UpdateOnlineStatus,
              (e) => {
                this.socketActionController.onFriendUpdateOnlineStatus(e);
              },
            ),
            this.generalStateHandlers.set(
              X.zd.GeneralState.ReceivedRoomInvites,
              (e) => {
                this.socketActionController.onFriendReceivedRoomInvites(e);
              },
            ),
            this.generalStateHandlers.set(
              X.zd.GeneralState.ReceivedFriendRequest,
              (e) => {
                this.socketActionController.onFriendReceivedFriendRequest(e);
              },
            ),
            this.generalStateHandlers.set(
              X.zd.GeneralState.RemoveRoomInvite,
              (e) => {
                this.socketActionController.onFriendRemoveRoomInvite(e);
              },
            ),
            this.generalStateHandlers.set(
              X.zd.GeneralState.RoomInviteResponse,
              (e) => {
                this.socketActionController.onFriendRoomInviteResponse(e);
              },
            ),
            this.generalStateHandlers.set(
              X.zd.GeneralState.RoomInviteSentSuccessfully,
              (e) => {
                this.socketActionController.onFriendRoomInviteSentSuccessfully(
                  e,
                );
              },
            ),
            this.generalStateHandlers.set(
              X.zd.GeneralState.Notifications,
              (e) => {
                this.socketActionController.onNotificationsReceived(e);
              },
            ),
            this.generalStateHandlers.set(
              X.zd.GeneralState.MarkedAsRead,
              (e) => {
                this.socketActionController.onMarkedAsRead(e);
              },
            ));
        }
      }
      var be = s(54801),
        ve = s(35606),
        Se = s(84324);
      class ke {
        removeOldPopupIfExists() {
          const e = document.querySelector(".popup-notification");
          null != e && e.remove();
        }
        setCancel() {
          window.addEventListener("click", (e) => {
            e.target == this.container && this.removePopup();
          });
        }
        positionContainerInTopRightCorner() {
          const e = dt.canvasController,
            t = dt.canvasController.responsiveController.getScaleForRotation(),
            s = e.responsiveController.getCanvasX(),
            n = t * (e.appW - 2 * e.chatWidth) + s,
            r = e.responsiveController.getCanvasY();
          ((this.contentContainer.style.position = "absolute"),
            (this.contentContainer.style.transform = "none"),
            (this.contentContainer.style.width = i.r.isUserOnMobileAppOrWeb
              ? "70vw"
              : e.chatWidth * t + "px"),
            (this.contentContainer.style.left = i.r.isUserOnMobileAppOrWeb
              ? "15vw"
              : n + "px"),
            (this.contentContainer.style.top = i.r.isUserOnMobileAppOrWeb
              ? "40vh"
              : r + "px"),
            (this.contentContainer.style.marginRight = e.margin + "px"),
            (this.contentContainer.style.marginTop = e.margin + "px"));
        }
        removePopup() {
          ((this.container.style.display = "none"),
            null != this.container.parentElement &&
              this.container.parentElement.removeChild(this.container));
        }
        show() {
          this.container.style.display = "block";
        }
        isRemoved() {
          return "none" == this.container.style.display;
        }
        constructor(e, t) {
          (this.removeOldPopupIfExists(),
            (this.container = (0, x.Le)(document.body, "popup-notification")),
            (this.contentContainer = (0, x.Le)(
              this.container,
              "popup-content-temporary",
            )),
            (this.header = (0, x.Le)(this.contentContainer, "popup-header")),
            (this.body = (0, x.Le)(this.contentContainer, "popup-body")),
            (this.footer = (0, x.Le)(this.contentContainer, "popup-footer")),
            this.setCancel(),
            (this.checkButton = (0, x.Le)(
              this.footer,
              "btn_general btn_general_check",
            )),
            (0, x.G0)(this.checkButton, () => {
              (ge.A.play(ge.h.Click), this.removePopup());
            }),
            this.positionContainerInTopRightCorner(),
            (0, x.n8)(this.header, e, "", "", "H4"),
            (0, x.Wr)(this.body, t, ""),
            this.show());
          const s = 6 * Se.i.MILLISECONDS;
          setTimeout(() => {
            this.removePopup();
          }, s);
        }
      }
      var Ce = s(35274),
        Pe = s(76092);
      if (837 != s.j) var _e = s(51178);
      if (837 != s.j) var Ae = s(2443);
      class we {
        restoreGameClientWithoutClosingSocket() {
          var e;
          (null === (e = this.uiGameManager) ||
            void 0 === e ||
            e.eventController.sendEvent(
              void 0,
              X.o8.UIGameEventEnums.ClientReconnectionTriggered,
            ),
            this.reset(),
            this.gameClientRestorationController.startReconnecting());
        }
        reset() {
          var e;
          null === (e = this.gameStateReceiver) || void 0 === e || e.reset();
        }
        static playGameStartedSound(e) {
          const t =
            e === b.p9.ColonistRush4P
              ? ge.h.GameStartedGuitar
              : ge.h.GameStarted;
          setTimeout(() => ge.A.play(t), 500);
        }
        static playSettlementPhaseEndedSound(e) {
          const t =
            e === b.p9.ColonistRush4P
              ? ge.h.SettlementPhaseEndedGuitar
              : ge.h.SettlementPhaseEnded;
          setTimeout(() => ge.A.play(t), 500);
        }
        constructor(e, t) {
          ((this.gameStateHandlers = new Map()),
            (this.playedStartGameSound = !1),
            (this.gameState = new ve.n()),
            (this.socketActionController = t),
            (this.uiGameManager = dt));
          ((this.gameClientRestorationController = new ie(
            () => {
              var e;
              const t = (0, M.ph)();
              return (
                (this.currentReconnectAttempt = t),
                setTimeout(() => {
                  t.pending && t.resolve("retry");
                }, 10 * M.Re.MILLISECONDS),
                null === (e = this.socketActionController.uiGameManager) ||
                  void 0 === e ||
                  e.socketGameSend.requestGameState(),
                t
              );
            },
            () => !0,
          )),
            (this.gameStateReceiver = new M.N_(
              (t) => {
                try {
                  var s;
                  null === (s = this.gameStateHandlers.get(t.type)) ||
                    void 0 === s ||
                    s(t.payload);
                } catch (t) {
                  (console.log(t), e.close(b.ZS), Z.Cp(t));
                }
              },
              (e, t, s, i, r) => {
                (n.CA.sendAnalyticEvent({
                  category: Pe.eX.Socket,
                  type: Pe.k0.SocketSequenceError,
                  dimensions: {
                    databaseGameId: this.databaseGameId,
                    lastSequence: e,
                    time: t,
                    reason: s,
                    pendingData: i.map((e) => ({
                      t: e.added,
                      s: e.data.sequence,
                      gu: e.data.type,
                    })),
                    lastReleasedData: r.map((e) => ({
                      t: e.added,
                      s: e.data.sequence,
                      gu: e.data.type,
                    })),
                    monitorStats: (0, _e.A)(
                      (0, Ae.A)(ut.monitor.stats, ["buckets"]),
                      (e) => 0 == e,
                    ),
                  },
                }),
                  this.restoreGameClientWithoutClosingSocket());
              },
            )),
            e.setStateHandler(X.zd.State.GameStateUpdate, (e) => {
              this.gameStateReceiver.addData(e);
            }),
            e.registerSessionEstablishedObserver(() => {
              (this.reset(),
                null != this.gameSettingId &&
                  (h.Q.reconnectGame(
                    this.gameSettingId,
                    n.CA.Label.AutoRejoinGame,
                  ),
                  this.gameClientRestorationController.startReconnecting()));
            }),
            this.gameStateHandlers.set(be.Eo.FirstGameState, (e) => {
              if (null != this.socketActionController.uiGameManager) {
                var t;
                if (
                  (ut.monitor.activate(),
                  (this.gameState.serverId = e.serverId),
                  (this.databaseGameId = e.databaseGameId),
                  (this.gameSettingId = e.gameSettingId),
                  e.shouldResetGameClient)
                )
                  (null === (t = this.currentReconnectAttempt) ||
                    void 0 === t ||
                    t.resolve("connected"),
                    this.socketActionController.uiGameManager.resetGameUIToRebuildOnReconnect());
                (null == ht || ht.removeDisconnectBanners(),
                  this.socketActionController.onConnectionEstablished(e),
                  e.isReconnectingSession && (this.playedStartGameSound = !0));
              }
            }),
            this.gameStateHandlers.set(be.Eo.SpectatorData, (e) => {
              (0, Ce.YE)(e);
            }),
            this.gameStateHandlers.set(be.Eo.BeginnerHintActivated, (e) => {
              var t;
              (this.socketActionController.onBeginnerHintActivated(e),
                null === (t = this.uiGameManager) ||
                  void 0 === t ||
                  t.gameStore
                    .getState()
                    .gameBeginnerHint.setBeginnerHintData(e));
            }),
            this.gameStateHandlers.set(be.Eo.BeginnerModeActionUpdate, (e) => {
              var t;
              (this.socketActionController.onBeginnerModeActionUpdate(e),
                null === (t = this.uiGameManager) ||
                  void 0 === t ||
                  t.gameStore
                    .getState()
                    .gameBeginnerHint.setBeginnerActionState(e));
            }),
            this.gameStateHandlers.set(be.Eo.BeginnerModeLevelEnd, (e) => {
              this.socketActionController.onBeginnerModeLevelEnd();
            }),
            this.gameStateHandlers.set(be.Eo.Vote, (e) => {
              var t;
              const s = e.done ? void 0 : e;
              null === (t = this.uiGameManager) ||
                void 0 === t ||
                t.gameStore.getState().gameVote.setVoteState(s);
            }),
            this.gameStateHandlers.set(be.Eo.SelectPlayer, (e) => {
              this.socketActionController.onSelectPlayer(e);
            }),
            this.gameStateHandlers.set(be.Eo.ExchangeCards, (e) => {
              this.socketActionController.onExchangeCards(e);
            }),
            this.gameStateHandlers.set(be.Eo.HighlightCorners, (e) => {
              this.socketActionController.onHighlightCorners(e);
            }),
            this.gameStateHandlers.set(be.Eo.HighlightRoadEdges, (e) => {
              this.socketActionController.onHighlightRoadEdges(e);
            }),
            this.gameStateHandlers.set(be.Eo.HighlightShipEdges, (e) => {
              this.socketActionController.onHighlightShipEdges(e);
            }),
            this.gameStateHandlers.set(be.Eo.HighlightTiles, (e) => {
              this.socketActionController.onHighlightTiles(e);
            }),
            this.gameStateHandlers.set(
              be.Eo.HighlightDiceNumbersForInventor,
              (e) => {
                this.socketActionController.onHighlightDiceNumbersForInventor(
                  e,
                );
              },
            ),
            this.gameStateHandlers.set(be.Eo.AmountOfCardsToDiscard, (e) => {
              (this.socketActionController.onAmountOfCardsToDiscard(e),
                ge.A.play(ge.h.DiscardNotification));
            }),
            this.gameStateHandlers.set(be.Eo.DiscardBroadcast, () => {
              ge.A.play(ge.h.DiscardBroadcast);
            }),
            this.gameStateHandlers.set(be.Eo.SelectCardsToGiveToPlayer, (e) => {
              (this.socketActionController.onSelectCardsToGiveToPlayer(e),
                ge.A.play(ge.h.YourTurn));
            }),
            this.gameStateHandlers.set(
              be.Eo.CardsToSelectForDevelopmentCard,
              (e) => {
                this.socketActionController.onCardsToSelectForDevelopmentCard(
                  e,
                );
              },
            ),
            this.gameStateHandlers.set(be.Eo.SelectPlayerAndCard, (e) => {
              this.socketActionController.onSelectPlayerAndCard(e);
            }),
            this.gameStateHandlers.set(
              be.Eo.CardsToSelectForPendingTransaction,
              (e) => {
                this.socketActionController.onCardsToSelectForPendingTransaction(
                  e,
                );
              },
            ),
            this.gameStateHandlers.set(be.Eo.ConfirmUseDevelopmentCard, (e) => {
              this.socketActionController.onConfirmUseDevelopmentCard(e);
            }),
            this.gameStateHandlers.set(
              be.Eo.SelectPlayerUsingDevelopmentCard,
              (e) => {
                this.socketActionController.onSelectPlayerUsingDevelopmentCard(
                  e,
                );
              },
            ),
            this.gameStateHandlers.set(
              be.Eo.StealDevelopmentCardFromPlayer,
              (e) => {
                this.socketActionController.onStealDevelopmentCardFromPlayer(e);
              },
            ),
            this.gameStateHandlers.set(
              be.Eo.StealResourceCardFromPlayer,
              (e) => {
                this.socketActionController.onStealResourceCardFromPlayer(e);
              },
            ),
            this.gameStateHandlers.set(be.Eo.ClosePopupUI, () => {
              this.socketActionController.onClosePopupUI();
            }),
            this.gameStateHandlers.set(be.Eo.SelectDice, (e) => {
              this.socketActionController.onSelectDice(e);
            }),
            this.gameStateHandlers.set(
              be.Eo.CityImprovementStateUpdated,
              () => {
                this.socketActionController.onCityImprovementStateUpdated();
              },
            ),
            this.gameStateHandlers.set(
              be.Eo.ForceShowCityImprovementButtons,
              () => {
                this.socketActionController.onForceShowCityImprovementButtons();
              },
            ),
            this.gameStateHandlers.set(be.Eo.PlayTurnSound, () => {
              ge.A.play(ge.h.YourTurn);
            }),
            this.gameStateHandlers.set(be.Eo.InfoMessage, (e) => {
              new ke({ key: "strings:popups.informationView.title" }, e);
            }),
            this.gameStateHandlers.set(
              be.Eo.ResetTradeStateAtEndOfTurn,
              (e) => {
                this.socketActionController.onResetTradeStateAtEndOfTurn();
              },
            ),
            this.gameStateHandlers.set(be.Eo.BoldTextInTradeWindow, (e) => {
              this.socketActionController.onBoldTextInTradeWindow(e);
            }),
            this.gameStateHandlers.set(be.Eo.BuildGame, (e) => {
              this.socketActionController.onBuildGame(e);
              const t = "Mode-" + b.p9[e.gameSettings.modeSetting],
                s = "Map-" + b.Qy[e.gameSettings.mapSetting];
              (n.CA.sendGoogleAnalyticsEventOnce(n.CA.Category.Game, t),
                n.CA.sendGoogleAnalyticsEventOnce(n.CA.Category.Game, s),
                this.playedStartGameSound ||
                  (we.playGameStartedSound(e.gameSettings.modeSetting),
                  n.CA.sendGoogleAnalyticsEvent(
                    n.CA.Category.Funnel,
                    n.CA.Label.FunnelStartedGame,
                  ),
                  (this.playedStartGameSound = !0)));
            }),
            this.gameStateHandlers.set(be.Eo.GameStateUpdated, (e) => {
              this.socketActionController.gameStateUpdated(e, !0);
            }),
            this.gameStateHandlers.set(
              be.Eo.GivePlayerResourcesFromTile,
              (e) => {
                (0 !== e.length &&
                  n.CA.sendGoogleAnalyticsEventOnce(
                    n.CA.Category.Funnel,
                    n.CA.Label.FunnelGameGetResources,
                  ),
                  this.socketActionController.onGivePlayerResourcesFromTile(e));
              },
            ),
            this.gameStateHandlers.set(be.Eo.RematchLink, (e) => {
              ((window.location.hash = e), window.location.reload());
            }),
            this.gameStateHandlers.set(be.Eo.EndGameText, (e) => {
              this.socketActionController.onEndGameText(e);
            }),
            this.gameStateHandlers.set(be.Eo.TogglePauseGame, (e) => {
              this.socketActionController.onTogglePauseGame(e);
            }),
            this.gameStateHandlers.set(be.Eo.CanResignGame, (e) => {
              ((this.gameState.canResign = e), (0, Ce.c2)(e));
            }),
            this.gameStateHandlers.set(be.Eo.GameEndState, (s) => {
              (this.uiGameManager.socketGameSend.endBeginnerModeLevel(),
                t.onGameEndState(s),
                e.reconnectionController.disable(),
                this.gameClientRestorationController.disable(),
                n.CA.sendGoogleTagManagerEvent(
                  n.CA.GoogleTagManagerEvent.GameFinished,
                ));
            }),
            this.gameStateHandlers.set(be.Eo.ExitInitialPlacement, () => {
              (we.playSettlementPhaseEndedSound(
                this.uiGameManager.gameController.gameSettings.modeSetting,
              ),
                setTimeout(() => {
                  this.uiGameManager.eventController.sendEvent(
                    void 0,
                    X.o8.UIGameEventEnums.EndOfInitialPlacement,
                  );
                }, 500));
            }),
            this.gameStateHandlers.set(be.Eo.TradeFinalized, () => {
              ge.A.play(ge.h.OfferAccepted);
            }),
            this.gameStateHandlers.set(be.Eo.TradeRejectedByAll, () => {
              ge.A.play(ge.h.OfferRejected);
            }),
            this.gameStateHandlers.set(be.Eo.KnightPlaced, () => {
              ge.A.play(ge.h.KnightPlace);
            }),
            this.gameStateHandlers.set(be.Eo.KarmaState, (e) => {
              ((this.uiGameManager.gameController.gameSettings.karmaActive = e),
                this.uiGameManager.gameStore
                  .getState()
                  .gameSettings.setIsKarmaActive(e));
            }),
            this.gameStateHandlers.set(be.Eo.KnightActivated, () => {
              ge.A.play(ge.h.KnightEquip);
            }),
            this.gameStateHandlers.set(be.Eo.KnightUpgraded, () => {
              ge.A.play(ge.h.KnightUpgrade);
            }),
            this.gameStateHandlers.set(be.Eo.PlayerReconnected, () => {
              ge.A.play(ge.h.Reconnect);
            }),
            this.gameStateHandlers.set(be.Eo.PlayerDisconnected, () => {
              ge.A.play(ge.h.Disconnect);
            }),
            this.gameStateHandlers.set(be.Eo.SpectatorChatMessage, (e) => {
              (0, Ce.VJ)(e);
            }),
            this.gameStateHandlers.set(be.Eo.ResetBeginnerModeLevel, () => {
              g.p.resetBeginnerModeLevel();
            }),
            this.gameStateHandlers.set(be.Eo.SendBroadcast, (e) => {
              ht.show(e.text, ee.n.Information);
            }),
            this.gameStateHandlers.set(be.Eo.Ping, () => {
              var e;
              null === (e = this.socketActionController.uiGameManager) ||
                void 0 === e ||
                e.socketGameSend.pong();
            }),
            this.gameStateHandlers.set(
              be.Eo.TriggerClientGameStateReset,
              () => {
                this.restoreGameClientWithoutClosingSocket();
              },
            ));
        }
      }
      var Re = s(87506);
      const Te = X.zd.MatchmakingState;
      class Ie {
        constructor(e, t) {
          ((this.matchmakingStateHandlers = new Map()),
            (this.socketActionController = t),
            e.setStateHandler(X.zd.State.MatchmakingStateUpdate, (e) => {
              var t;
              null === (t = this.matchmakingStateHandlers.get(e.type)) ||
                void 0 === t ||
                t(e.payload);
            }),
            this.matchmakingStateHandlers.set(Te.MatchmakingUpdate, (e) => {
              this.socketActionController.onMatchmakingUpdate(e);
            }),
            this.matchmakingStateHandlers.set(Te.MatchmakingError, (e) => {
              this.socketActionController.onMatchmakingError(e);
            }),
            this.matchmakingStateHandlers.set(
              Te.MatchmakingDisableAdblock,
              (e) => {
                this.socketActionController.onMatchmakingDisableAdblock();
              },
            ),
            this.matchmakingStateHandlers.set(Te.MatchmakingReconnect, (e) => {
              Re.O.sendFindGame();
            }));
        }
      }
      var Me = s(46456);
      const Le = X.zd.ShuffleState;
      class Be {
        constructor(e) {
          ((this.shuffleStateHandlers = new Map()),
            e.setStateHandler(X.zd.State.ShuffleStateUpdate, (e) => {
              var t;
              null === (t = this.shuffleStateHandlers.get(e.type)) ||
                void 0 === t ||
                t(e.payload);
            }),
            this.shuffleStateHandlers.set(Le.ShuffleQueueData, (e) => {
              Me.y.updateQueueData(e);
            }),
            this.shuffleStateHandlers.set(Le.ShufflePlayerData, (e) => {
              Me.y.updatePlayerData(e);
            }));
        }
      }
      if (837 != s.j) var De = s(43126);
      const Ee = X.zd.State;
      class Ge {
        activate() {
          this.active || ((this.active = !0), this.startMonitoringLatency());
        }
        startMonitoringLatency() {
          this.active &&
            (null != this.timer && (this.stats.reconnects += 1),
            this.stopMonitoringLatency(),
            (this.timer = setInterval(() => this.sendPing(), 1e3)));
        }
        sendPing() {
          const e = Date.now();
          (this.pingTimestamps.add(e), this.controller.sender.sendPing(e));
        }
        stopMonitoringLatency() {
          (clearInterval(this.timer), this.pingTimestamps.clear());
        }
        handlePong(e) {
          var t, s;
          const i = Date.now(),
            n = e.timestamp;
          if (!this.pingTimestamps.has(n)) return;
          const r = Math.round((i - n) / 2);
          this.lastLatency = r;
          const o = xe(r);
          var a;
          ((null !== (a = (t = this.stats.buckets)[(s = o)]) && void 0 !== a) ||
            (t[s] = 0),
            (this.stats.buckets[o] += 1),
            r <= 500
              ? (this.stats.low += 1)
              : r <= 1500
                ? (this.stats.medium += 1)
                : r <= 5e3
                  ? (this.stats.high += 1)
                  : (this.stats.dropped += 1),
            this.pingTimestamps.delete(n));
        }
        getFinalStats() {
          const e = (0, De.A)(this.stats);
          for (const n of this.pingTimestamps) {
            var t, s;
            const r = xe(Date.now() - n);
            var i;
            ((null !== (i = (t = e.buckets)[(s = r)]) && void 0 !== i) ||
              (t[s] = 0),
              (e.buckets[r] += 1));
          }
          return e;
        }
        constructor(e) {
          ((this.pingTimestamps = new Set()),
            (this.lastLatency = 0),
            (this.active = !1),
            (this.controller = e),
            (this.stats = {
              reconnects: 0,
              low: 0,
              medium: 0,
              high: 0,
              dropped: 0,
              buckets: {},
            }),
            this.controller.registerSessionEstablishedObserver(() =>
              this.startMonitoringLatency(),
            ),
            this.controller.registerSocketCloseObserver(() =>
              this.stopMonitoringLatency(),
            ),
            this.controller.setStateHandler(Ee.SocketMonitorUpdate, (e) =>
              this.handlePong(e),
            ));
        }
      }
      function xe(e) {
        return 100 * Math.round(e / 100);
      }
      var Ue = s(98487);
      class Oe {
        static deserialize(e) {
          const t = new Oe();
          return (
            (t.updateSequence = e.updateSequence),
            (t.gameSetting = e.gameSetting),
            (t.isTournament = e.isTournament),
            (t.hostSession = e.hostSession),
            (t.isTestFreeExpansionsAndMaps = e.isTestFreeExpansionsAndMaps),
            (t.creationPhase = e.creationPhase),
            (t.guests = e.guests),
            (t.victoryPointsRecommendedLimit = e.victoryPointsRecommendedLimit),
            (t.victoryPointsMaxAllowed = e.victoryPointsMaxAllowed),
            (t.kickedUserIds = [...e.kickedUserIds]),
            t
          );
        }
        getSessionCount() {
          return this.guests.length + 1;
        }
        getSessions() {
          return [...this.guests, this.hostSession];
        }
        getGuestSessions() {
          return [...this.guests];
        }
        getUsernames() {
          return this.getSessions().map((e) => e.username);
        }
        getUserIds() {
          return this.getSessions()
            .map((e) => e.userId)
            .filter((e) => null != e);
        }
        isInRoom(e) {
          for (const t of this.getSessions())
            if (t.userSessionId == e.userSessionId) return !0;
          return !1;
        }
        isMultiplayer() {
          for (const e of this.getGuestSessions()) if (!e.isBot) return !0;
          return !1;
        }
        isHost(e) {
          return e == this.hostSession.userSessionId;
        }
        isHostSubscribed() {
          return this.hostSession.isMember;
        }
        isGuest(e) {
          return e != this.hostSession.userSessionId;
        }
        isPrivateGame() {
          return this.gameSetting.privateGame;
        }
        isNoTrollsGame() {
          return (
            this.gameSetting.minimumKarma == Ue.Zt.NO_TROLLS_KARMA_THRESHOLD
          );
        }
        constructor() {
          ((this.creationPhase = p.yF.EditSettings),
            (this.victoryPointsRecommendedLimit = Ue.Zt.DEFAULT_VP_TO_WIN));
        }
      }
      var Ne = s(63778);
      const Fe = X.mt.RoomInfoMessage;
      class He {
        onRoomStateUpdated(e) {
          this.protocol.onEvent("StateUpdated", (t) => {
            const s = t.sessions.map((e) => ({
              roomSessionId: e.roomSessionId,
              userSessionId: e.userSessionId,
              userId: e.userId,
              isBot: e.isBot,
              isReadyToPlay: e.isReadyToPlay,
              selectedColor: Ke[e.selectedColor],
              username: e.username,
              isMember: e.isMember,
              icon: e.icon,
              profilePictureUrl: e.profilePictureUrl,
              karmaCompletedGames: e.karmaCompletedGames,
              karmaTotalGames: e.karmaTotalGames,
              availableColors: e.availableColors.map((e) => Ke[e]),
              botDifficulty:
                null == e.botDifficulty ? void 0 : et[e.botDifficulty],
            }));
            e(
              Oe.deserialize({
                updateSequence: t.updateSequence,
                gameSetting: {
                  id: t.roomId,
                  privateGame: t.private,
                  playOrderSelectionActive: t.playOrderSelectionActive,
                  minimumKarma: t.minimumKarma,
                  modeSetting: qe[t.gameMode],
                  mapSetting: $e[t.map],
                  diceSetting: je[t.diceType],
                  victoryPointsToWin: t.victoryPointsToWin,
                  cardDiscardLimit: t.cardDiscardLimit,
                  maxPlayers: t.maxPlayers,
                  gameSpeed: Xe[t.gameSpeed],
                  botSpeed: Ze[t.botSpeed],
                  hideBankCards: t.hiddenBankCards,
                  friendlyRobber: t.friendlyRobber,
                },
                isTournament: t.isTournament,
                isTestFreeExpansionsAndMaps: t.isTestFreeExpansionsAndMaps,
                victoryPointsRecommendedLimit: t.victoryPointsRecommendedLimit,
                victoryPointsMaxAllowed: t.victoryPointsMaxAllowed,
                kickedUserIds: t.kickedUserIds,
                creationPhase: st[t.creationPhase],
                hostSession: s[0],
                guests: s.slice(1),
              }),
            );
          });
        }
        onInfoMessageUpdated(e) {
          this.protocol.onEvent("InfoMessageUpdated", ({ messageType: t }) => {
            e(tt[t]);
          });
        }
        onSeedOrderSelected(e) {
          this.protocol.onEvent("SeedOrderSelected", ({ seedOrder: t }) => {
            e({ seedOrder: t.map((e) => [e[0], Ke[e[1]]]) });
          });
        }
        onPlayOrderSelected(e) {
          this.protocol.onEvent(
            "PlayOrderSelected",
            ({ mapState: t, currentSelector: s, playOrder: i }) => {
              e({
                mapState: t,
                currentSelector: Ke[s],
                playOrder: i.map((e) => [Ke[e[0]], e[1]]),
              });
            },
          );
        }
        onGotKicked(e) {
          this.protocol.onEvent("GotKicked", ({ roomId: t, canRejoin: s }) => {
            e(t, s);
          });
        }
        onFailedToStartGameMembershipRequired(e, t = !1) {
          (t &&
            this.protocol.removeListener("FailedToStartGameMembershipRequired"),
            this.protocol.onEvent("FailedToStartGameMembershipRequired", e));
        }
        onReceivedChatMessage(e) {
          this.protocol.onEvent(
            "ReceivedChatMessage",
            ({ message: t, senderUsername: s, senderIcon: i }) => {
              e(t, s, i);
            },
          );
        }
        onInvalidPlayerCountEncountered(e) {
          this.protocol.onEvent(
            "InvalidPlayerCountEncountered",
            ({ playerCount: t, missingExtension: s }) => {
              e(t, s);
            },
          );
        }
        onFailedToReducePlayerCount(e) {
          this.protocol.onEvent("FailedToReducePlayerCount", () => {
            e();
          });
        }
        onFailedToStartGameBecauseServerIsUpdating(e) {
          this.protocol.onEvent(
            "FailedToStartGameBecauseServerIsUpdating",
            () => {
              e();
            },
          );
        }
        onFailedToStartGamePlayersNotReady(e) {
          this.protocol.onEvent(
            "FailedToStartGamePlayersNotReady",
            ({ players: t }) => {
              e(t);
            },
          );
        }
        onFailedToSelectUsedColor(e) {
          this.protocol.onEvent("FailedToSelectUsedColor", () => {
            e();
          });
        }
        onFailedToExecuteCommandGameStarting(e) {
          this.protocol.onEvent("FailedToExecuteCommandGameStarting", () => {
            e();
          });
        }
        onFailedToSetGameSpeed(e) {
          this.protocol.onEvent("FailedToSetGameSpeed", () => {
            e();
          });
        }
        onKickedInactiveHost(e) {
          this.protocol.onEvent("KickedInactiveHost", () => {
            e();
          });
        }
        onFailedToSendChatMessage(e) {
          this.protocol.onEvent(
            "FailedToSendChatMessage",
            ({ reason: t, mutedUntil: s }) => {
              e(t, s);
            },
          );
        }
        onReceivedChatResponse(e) {
          this.protocol.onEvent("ReceivedChatResponse", ({ response: t }) => {
            e(t);
          });
        }
        setReadyToStart(e) {
          this.protocol.send("setReadyToStart", { ready: e });
        }
        selectColor(e, t) {
          this.protocol.send("selectColor", { roomSessionId: e, color: We[t] });
        }
        startGame() {
          this.protocol.send("startGame", { clientVersion: b.$m });
        }
        startSeedOrderSelection() {
          this.protocol.send("startSeedOrderSelection", {});
        }
        kickPlayer(e) {
          this.protocol.send("kickPlayer", { roomSessionId: e });
        }
        addBot() {
          this.protocol.send("addBot", {});
        }
        setBotDifficulty(e, t) {
          this.protocol.send("setBotDifficulty", {
            roomSessionId: e,
            botDifficulty: Je[t],
          });
        }
        setPrivateGame(e) {
          this.protocol.send("setPrivateGame", { privateGame: e });
        }
        toggleNoTrolls() {
          this.protocol.send("toggleNoTrolls", {});
        }
        togglePlayOrderSelection() {
          this.protocol.send("togglePlayOrderSelection", {});
        }
        setGameMode(e) {
          this.protocol.send("setGameMode", { gameMode: Ve[e] });
        }
        setMap(e) {
          this.protocol.send("setMap", { map: Qe[e] });
        }
        setDiceType(e) {
          this.protocol.send("setDiceType", { diceType: ze[e] });
        }
        setVictoryPointsToWin(e) {
          this.protocol.send("setVictoryPointsToWin", { victoryPoints: e });
        }
        setGameSpeed(e) {
          this.protocol.send("setGameSpeed", { gameSpeed: Ye[e] });
        }
        setCardDiscardLimit(e) {
          this.protocol.send("setCardDiscardLimit", { limit: e });
        }
        setFriendlyRobber(e) {
          this.protocol.send("setFriendlyRobber", { friendlyRobber: e });
        }
        setHideBankCards(e) {
          this.protocol.send("setHiddenBankCards", { hiddenBankCards: e });
        }
        setMaxPlayers(e) {
          this.protocol.send("setMaxPlayers", { maxPlayers: e });
        }
        setSeedOrder(e, t) {
          this.protocol.send("setSeedOrder", { color: We[e], order: t });
        }
        setPlayOrder(e) {
          this.protocol.send("setPlayOrder", { order: e });
        }
        startPlayOrderSelection() {
          this.protocol.send("startPlayOrderSelection", {});
        }
        leave() {
          this.protocol.send("leave", {});
        }
        submitChatText(e) {
          this.protocol.send("submitChatText", { text: e });
        }
        constructor(e) {
          this.protocol = e;
        }
      }
      const We = {
          [Ne.DS.Blue]: "blue",
          [Ne.DS.Bronze]: "bronze",
          [Ne.DS.Gold]: "gold",
          [Ne.DS.Green]: "green",
          [Ne.DS.MysticBlue]: "mysticBlue",
          [Ne.DS.Orange]: "orange",
          [Ne.DS.Pink]: "pink",
          [Ne.DS.Purple]: "purple",
          [Ne.DS.Red]: "red",
          [Ne.DS.Silver]: "silver",
          [Ne.DS.White]: "white",
          [Ne.DS.Black]: "black",
        },
        Ke = {
          blue: Ne.DS.Blue,
          bronze: Ne.DS.Bronze,
          gold: Ne.DS.Gold,
          green: Ne.DS.Green,
          mysticBlue: Ne.DS.MysticBlue,
          orange: Ne.DS.Orange,
          pink: Ne.DS.Pink,
          purple: Ne.DS.Purple,
          red: Ne.DS.Red,
          silver: Ne.DS.Silver,
          white: Ne.DS.White,
          black: Ne.DS.Black,
        },
        Ve = {
          [b.p9.Classic4P]: "classic4P",
          [b.p9.TutorialClassic4P]: "tutorialClassic4P",
          [b.p9.Classic56P]: "classic56P",
          [b.p9.Classic78P]: "classic78P",
          [b.p9.Seafarers4P]: "seafarers4P",
          [b.p9.Seafarers56P]: "seafarers56P",
          [b.p9.CitiesAndKnights4P]: "citiesAndKnights4P",
          [b.p9.CitiesAndKnights56P]: "citiesAndKnights56P",
          [b.p9.CitiesAndKnightsSeafarers4P]: "citiesAndKnightsSeafarers4P",
          [b.p9.CitiesAndKnightsSeafarers56P]: "citiesAndKnightsSeafarers56P",
          [b.p9.ServerStressTestClassic4P]: "serverStressTestClassic4P",
          [b.p9.BeginnerModeClassic4P]: "beginnerModeClassic4P",
          [b.p9.ColonistRush4P]: "colonistRush",
        },
        qe = {
          classic4P: b.p9.Classic4P,
          tutorialClassic4P: b.p9.TutorialClassic4P,
          classic56P: b.p9.Classic56P,
          classic78P: b.p9.Classic78P,
          seafarers4P: b.p9.Seafarers4P,
          seafarers56P: b.p9.Seafarers56P,
          citiesAndKnights4P: b.p9.CitiesAndKnights4P,
          citiesAndKnights56P: b.p9.CitiesAndKnights56P,
          citiesAndKnightsSeafarers4P: b.p9.CitiesAndKnightsSeafarers4P,
          citiesAndKnightsSeafarers56P: b.p9.CitiesAndKnightsSeafarers56P,
          serverStressTestClassic4P: b.p9.ServerStressTestClassic4P,
          beginnerModeClassic4P: b.p9.BeginnerModeClassic4P,
          colonistRush: b.p9.ColonistRush4P,
        },
        Qe = {
          [b.Qy.Classic4P]: "classic4P",
          [b.Qy.TutorialClassic4P]: "tutorialClassic4P",
          [b.Qy.Classic4PRandom]: "classic4PRandom",
          [b.Qy.Classic56P]: "classic56P",
          [b.Qy.Classic78P]: "classic78P",
          [b.Qy.SS1HeadingForNewShores3P]: "sS1HeadingForNewShores3P",
          [b.Qy.SS1HeadingForNewShores4P]: "sS1HeadingForNewShores4P",
          [b.Qy.SS1HeadingForNewShores56P]: "sS1HeadingForNewShores56P",
          [b.Qy.TutorialSS1HeadingForNewShores4P]:
            "tutorialSS1HeadingForNewShores4P",
          [b.Qy.SS2FourIslands3P]: "sS2FourIslands3P",
          [b.Qy.SS2FourIslands4P]: "sS2FourIslands4P",
          [b.Qy.SS2SixIslands56P]: "sS2SixIslands56P",
          [b.Qy.TutorialSS2FourIslands4P]: "tutorialSS2FourIslands4P",
          [b.Qy.SS3FogIslands3P]: "sS3FogIslands3P",
          [b.Qy.SS3FogIslands4P]: "sS3FogIslands4P",
          [b.Qy.SS3FogIslands56P]: "sS3FogIslands56P",
          [b.Qy.TutorialSS3FogIsland4P]: "tutorialSS3FogIsland4P",
          [b.Qy.SS4ThroughTheDesert3P]: "sS4ThroughTheDesert3P",
          [b.Qy.SS4ThroughTheDesert4P]: "sS4ThroughTheDesert4P",
          [b.Qy.SS4ThroughTheDesert56P]: "sS4ThroughTheDesert56P",
          [b.Qy.TutorialSS4ThroughTheDesert4P]: "tutorialSS4ThroughTheDesert4P",
          [b.Qy.KingOfTheHill]: "kingOfTheHill",
          [b.Qy.Earth]: "earth",
          [b.Qy.EarthSeafarers]: "earthSeafarers",
          [b.Qy.USA]: "uSA",
          [b.Qy.UK]: "uK",
          [b.Qy.UKSeafarers]: "uKSeafarers",
          [b.Qy.Diamond]: "diamond",
          [b.Qy.Gear]: "gear",
          [b.Qy.Lakes]: "lakes",
          [b.Qy.Pond]: "pond",
          [b.Qy.Twirl]: "twirl",
          [b.Qy.ShuffleBoard]: "shuffleBoard",
          [b.Qy.BlackForest]: "blackForest",
          [b.Qy.Volcano]: "volcano",
          [b.Qy.Circle]: "circle",
          [b.Qy.Kite]: "kite",
          [b.Qy.Romania]: "romania",
          [b.Qy.MiniBase]: "miniBase",
          [b.Qy.Monopoly]: "monopoly",
          [b.Qy.MountainOfRiches]: "mountainOfRiches",
          [b.Qy.Doggo]: "doggo",
          [b.Qy.Duel]: "duel",
          [b.Qy.TradeIslands]: "tradeIslands",
          [b.Qy.TradeIslandsSeafarers]: "tradeIslandsSeafarers",
          [b.Qy.Vietnam]: "vietnam",
          [b.Qy.TurningTidesSeafarers]: "turningTidesSeafarers",
          [b.Qy.TurningTidesClassic]: "turningTidesClassic",
          [b.Qy.TwoIsles]: "twoIsles",
          [b.Qy.JellyFish]: "jellyFish",
          [b.Qy.GoldRush]: "goldRush",
          [b.Qy.Istanbul]: "istanbul",
          [b.Qy.IstanbulSeafarers]: "istanbulSeafarers",
          [b.Qy.Europe]: "europe",
          [b.Qy.EuropeSeafarers]: "europeSeafarers",
          [b.Qy.Stripes]: "stripes",
          [b.Qy.MonopolyIslands]: "monopolyIslands",
          [b.Qy.MonopolyIslandsSeafarers]: "monopolyIslandsSeafarers",
          [b.Qy.CampaignLevel1]: "campaignLevel1",
          [b.Qy.CampaignLevel2]: "campaignLevel2",
          [b.Qy.CampaignRoadRace]: "campaignRoadRace",
          [b.Qy.CampaignRoadRace2]: "campaignRoadRace2",
        },
        $e = {
          classic4P: b.Qy.Classic4P,
          tutorialClassic4P: b.Qy.TutorialClassic4P,
          classic4PRandom: b.Qy.Classic4PRandom,
          classic56P: b.Qy.Classic56P,
          classic78P: b.Qy.Classic78P,
          sS1HeadingForNewShores3P: b.Qy.SS1HeadingForNewShores3P,
          sS1HeadingForNewShores4P: b.Qy.SS1HeadingForNewShores4P,
          sS1HeadingForNewShores56P: b.Qy.SS1HeadingForNewShores56P,
          tutorialSS1HeadingForNewShores4P:
            b.Qy.TutorialSS1HeadingForNewShores4P,
          sS2FourIslands3P: b.Qy.SS2FourIslands3P,
          sS2FourIslands4P: b.Qy.SS2FourIslands4P,
          sS2SixIslands56P: b.Qy.SS2SixIslands56P,
          tutorialSS2FourIslands4P: b.Qy.TutorialSS2FourIslands4P,
          sS3FogIslands3P: b.Qy.SS3FogIslands3P,
          sS3FogIslands4P: b.Qy.SS3FogIslands4P,
          sS3FogIslands56P: b.Qy.SS3FogIslands56P,
          tutorialSS3FogIsland4P: b.Qy.TutorialSS3FogIsland4P,
          sS4ThroughTheDesert3P: b.Qy.SS4ThroughTheDesert3P,
          sS4ThroughTheDesert4P: b.Qy.SS4ThroughTheDesert4P,
          sS4ThroughTheDesert56P: b.Qy.SS4ThroughTheDesert56P,
          tutorialSS4ThroughTheDesert4P: b.Qy.TutorialSS4ThroughTheDesert4P,
          kingOfTheHill: b.Qy.KingOfTheHill,
          earth: b.Qy.Earth,
          earthSeafarers: b.Qy.EarthSeafarers,
          uSA: b.Qy.USA,
          uK: b.Qy.UK,
          uKSeafarers: b.Qy.UKSeafarers,
          diamond: b.Qy.Diamond,
          gear: b.Qy.Gear,
          lakes: b.Qy.Lakes,
          pond: b.Qy.Pond,
          twirl: b.Qy.Twirl,
          shuffleBoard: b.Qy.ShuffleBoard,
          blackForest: b.Qy.BlackForest,
          volcano: b.Qy.Volcano,
          circle: b.Qy.Circle,
          kite: b.Qy.Kite,
          romania: b.Qy.Romania,
          miniBase: b.Qy.MiniBase,
          monopoly: b.Qy.Monopoly,
          mountainOfRiches: b.Qy.MountainOfRiches,
          doggo: b.Qy.Doggo,
          duel: b.Qy.Duel,
          tradeIslands: b.Qy.TradeIslands,
          tradeIslandsSeafarers: b.Qy.TradeIslandsSeafarers,
          vietnam: b.Qy.Vietnam,
          turningTidesSeafarers: b.Qy.TurningTidesSeafarers,
          turningTidesClassic: b.Qy.TurningTidesClassic,
          twoIsles: b.Qy.TwoIsles,
          jellyFish: b.Qy.JellyFish,
          goldRush: b.Qy.GoldRush,
          istanbul: b.Qy.Istanbul,
          istanbulSeafarers: b.Qy.IstanbulSeafarers,
          europe: b.Qy.Europe,
          europeSeafarers: b.Qy.EuropeSeafarers,
          stripes: b.Qy.Stripes,
          monopolyIslands: b.Qy.MonopolyIslands,
          monopolyIslandsSeafarers: b.Qy.MonopolyIslandsSeafarers,
          campaignLevel1: b.Qy.CampaignLevel1,
          campaignLevel2: b.Qy.CampaignLevel2,
          campaignRoadRace: b.Qy.CampaignRoadRace,
          campaignRoadRace2: b.Qy.CampaignRoadRace2,
        },
        ze = {
          [b.ZP.Random]: "random",
          [b.ZP.Balanced]: "balanced",
          [b.ZP.StressTestSequence]: "stressTestSequence",
          [b.ZP.PredefinedDiceSequenceDeleted]: "predefinedDiceSequenceDeleted",
        },
        je = {
          random: b.ZP.Random,
          balanced: b.ZP.Balanced,
          stressTestSequence: b.ZP.StressTestSequence,
          predefinedDiceSequenceDeleted: b.ZP.PredefinedDiceSequenceDeleted,
        },
        Ye = {
          [Ue.ro.Base15s]: "base15s",
          [Ue.ro.Base30s]: "base30s",
          [Ue.ro.Base60s]: "base60s",
          [Ue.ro.Base120s]: "base120s",
          [Ue.ro.Base240s]: "base240s",
          [Ue.ro.Base12000s]: "base12000s",
          [Ue.ro.Rush5s]: "rush5s",
          [Ue.ro.Rush8s]: "rush8s",
          [Ue.ro.Rush10s]: "rush10s",
          [Ue.ro.Rush15s]: "rush15s",
          [Ue.ro.Rush20s]: "rush20s",
        },
        Xe = {
          base15s: Ue.ro.Base15s,
          base30s: Ue.ro.Base30s,
          base60s: Ue.ro.Base60s,
          base120s: Ue.ro.Base120s,
          base240s: Ue.ro.Base240s,
          base12000s: Ue.ro.Base12000s,
          rush5s: Ue.ro.Rush5s,
          rush8s: Ue.ro.Rush8s,
          rush10s: Ue.ro.Rush10s,
          rush15s: Ue.ro.Rush15s,
          rush20s: Ue.ro.Rush20s,
        },
        Ze =
          (Ue.K4.Fast,
          Ue.K4.Normal,
          Ue.K4.Slow,
          { fast: Ue.K4.Fast, normal: Ue.K4.Normal, slow: Ue.K4.Slow }),
        Je = { [Ue.R1.BotEasy]: "easy", [Ue.R1.BotMedium]: "medium" },
        et = { easy: Ue.R1.BotEasy, medium: Ue.R1.BotMedium },
        tt = {
          none: Fe.None,
          clickReady: Fe.ClickReady,
          premiumItemSelected: Fe.PremiumItemSelected,
        },
        st = {
          settings: p.yF.EditSettings,
          playOrder: p.yF.PlayOrderSelection,
          seedOrder: p.yF.SeedOrderSelection,
        };
      if (837 != s.j) var it = s(94226);
      class nt {
        connect() {
          this.controller.enableConnect();
        }
        constructor(e) {
          ((this.actionController = e),
            (this.controller = new re(T.l.socketServerWSS())),
            (this.gameListener = new we(
              this.controller,
              this.actionController,
            )),
            (this.lobbyListener = new ye(
              this.controller,
              this.actionController,
            )),
            (this.matchmakingListener = new Ie(
              this.controller,
              this.actionController,
            )),
            (this.shuffleListener = new Be(this.controller)),
            (this.monitor = new Ge(this.controller)),
            this.controller.setStateHandler(X.zd.State.RoomEvent, (e) => {
              this.roomProtocolClient.emitEvent(e.type, e);
            }));
          ((this.roomProtocolClient = new it.c((e) => {
            const t = (function (e) {
              switch (e.type) {
                case "setReadyToStart":
                  return [n.CA.Label.ClickedRoomReadyToStart, () => {}];
                case "selectColor":
                case "startPlayOrderSelection":
                case "submitChatText":
                case "setBotDifficulty":
                case "setSeedOrder":
                case "setPlayOrder":
                  return;
                case "startGame":
                  return [n.CA.Label.ClickedRoomStartGame, () => {}];
                case "kickPlayer":
                  return [n.CA.Label.ClickedRoomKickPlayer, () => {}];
                case "addBot":
                  return [n.CA.Label.ClickedRoomAddBot, () => {}];
                case "setPrivateGame":
                  return [
                    n.CA.Label.ClickedRoomSettingChangePrivateGame,
                    () => Number(e.privateGame),
                  ];
                case "toggleNoTrolls":
                  return [
                    n.CA.Label.ClickedRoomSettingChangeNoTrollsSetting,
                    () => {},
                  ];
                case "setGameMode":
                  return [
                    n.CA.Label.ClickedRoomSettingUpdateGameModeSetting,
                    () => e.gameMode,
                  ];
                case "setMap":
                  return [
                    n.CA.Label.ClickedRoomSettingUpdateMapSetting,
                    () => e.map,
                  ];
                case "setDiceType":
                  return [
                    n.CA.Label.ClickedRoomSettingUpdateDiceSetting,
                    () => e.diceType,
                  ];
                case "setVictoryPointsToWin":
                  return [
                    n.CA.Label.ClickedRoomSettingChangeVictoryPointsToWin,
                    () => e.victoryPoints,
                  ];
                case "setCardDiscardLimit":
                  return [
                    n.CA.Label.ClickedRoomSettingChangeCardDiscardLimit,
                    () => e.limit,
                  ];
                case "setFriendlyRobber":
                  return [
                    n.CA.Label.ClickedRoomSettingChangeFriendlyRobber,
                    () => Number(e.friendlyRobber),
                  ];
                case "setMaxPlayers":
                  return [
                    n.CA.Label.ClickedRoomSettingChangeMaxPlayers,
                    () => e.maxPlayers,
                  ];
                case "setHiddenBankCards":
                  return [
                    n.CA.Label.ClickedRoomSettingChangeHideBankCards,
                    () => Number(e.hiddenBankCards),
                  ];
                case "setGameSpeed":
                  return [
                    n.CA.Label.ClickedRoomSettingChangeGameSpeed,
                    () => e.gameSpeed,
                  ];
                case "leave":
                  return [n.CA.Label.ClickedRoomExit, () => {}];
                case "startSeedOrderSelection":
                  return [
                    n.CA.Label.ClickedRoomCustomPlayOrderSelection,
                    () => {},
                  ];
                case "togglePlayOrderSelection":
                  return [
                    n.CA.Label.ClickedRoomSettingChangePlayOrderSelection,
                    () => {},
                  ];
              }
            })(e);
            (null != t &&
              n.CA.sendGoogleAnalyticsEvent(n.CA.Category.Room, t[0], t[1]()),
              this.controller.sender.sendToServerType(
                b.lo.RoomCommand,
                "lobby",
                e,
              ));
          })),
            (this.roomClient = new He(this.roomProtocolClient)));
        }
      }
      class rt {
        start() {
          (this.createElements(),
            (this.updateTimer = setInterval(() => this.update(), 100)),
            ut.monitor.activate());
        }
        stop() {
          (clearInterval(this.updateTimer), this.container.remove());
        }
        createElements() {
          ((this.container = (0, x.Le)(document.body, "")),
            (this.container.style.position = "absolute"),
            (this.container.style.backgroundColor = "gray"),
            (this.container.style.display = "flex"),
            (this.container.style.opacity = "0.9"),
            (this.container.style.top = "5px"),
            (this.container.style.left = "5px"),
            (this.container.style.zIndex = "99999999"),
            (0, x.G0)(this.container, () => {
              console.log("Socket stats", ut.monitor.getFinalStats());
            }),
            (this.mediumLatency = (0, x.Le)(this.container, "hidden")),
            (this.mediumLatency.title = "Medium latency pings"),
            (this.mediumLatency.style.marginRight = "5px"),
            (this.mediumLatency.style.color = "orange"),
            (this.highLatency = (0, x.Le)(this.container, "hidden")),
            (this.highLatency.title = "High latency pings"),
            (this.highLatency.style.marginRight = "5px"),
            (this.highLatency.style.color = "red"),
            (this.droppedLatency = (0, x.Le)(this.container, "hidden")),
            (this.droppedLatency.title = "Dropped pings"),
            (this.droppedLatency.style.marginRight = "5px"),
            (this.droppedLatency.style.color = "red"),
            (this.reconnects = (0, x.Le)(this.container, "hidden")),
            (this.reconnects.title = "Reconnects"),
            (this.reconnects.style.marginRight = "5px"),
            (this.reconnects.style.color = "red"),
            (this.latency = (0, x.Le)(this.container, "")),
            (this.latency.title = "Last latency reading"),
            (this.latency.style.minWidth = "65px"),
            (this.latency.style.textAlign = "right"));
        }
        update() {
          const e = ut.monitor.stats;
          ((this.mediumLatency.textContent = `${e.medium}`),
            this.mediumLatency.classList.toggle("hidden", 0 == e.medium),
            (this.highLatency.textContent = `${e.high}`),
            this.highLatency.classList.toggle("hidden", 0 == e.high),
            (this.droppedLatency.textContent = `${e.dropped}`),
            this.droppedLatency.classList.toggle("hidden", 0 == e.dropped),
            (this.reconnects.textContent = `${e.reconnects}`),
            this.reconnects.classList.toggle("hidden", 0 == e.reconnects));
          const t = 10 * Math.ceil(ut.monitor.lastLatency / 10);
          this.latency.textContent = `${t}ms`;
        }
      }
      window.startSocketMonitor = () => {
        const e = new rt();
        return (e.start(), e);
      };
      var ot = s(13359),
        at = s(90676);
      class ct {
        static handleAccountRedirection() {
          var e, t;
          if (!this.shouldPerformAnyRedirection()) return;
          if (
            !(null === (e = r._.userState) || void 0 === e
              ? void 0
              : e.isLoggedIn)
          )
            return void this.handleRedirectNewAccountsToMobileWeb();
          const s =
            null === (t = r._.userState) || void 0 === t
              ? void 0
              : t.colonistVersion;
          null != s && s >= b.kK && this.handleRedirectNewAccountsToMobileWeb();
        }
        static isUserOnLandingPage() {
          var e, t, s;
          if (!ot.q.isUrlPathRoot()) return !1;
          if (window.location.pathname.includes("/mobile")) return !1;
          if (
            null === (e = r._.userState) || void 0 === e ? void 0 : e.isLoggedIn
          )
            return !1;
          return !(
            (null !==
              (s =
                null === (t = r._.userState) || void 0 === t
                  ? void 0
                  : t.totalCompletedGameCount) && void 0 !== s
              ? s
              : 0) > 0
          );
        }
        static shouldPerformAnyRedirection() {
          if (!ne.N.isUserOnMobileWebBrowser()) return !1;
          if (ne.N.isUserOnTabletDevice()) return !1;
          if (this.isUserOnLandingPage()) {
            return null != ot.q.getRoomIdFromUrl();
          }
          return !window.location.pathname.includes("/catan-rules");
        }
        static isOnMobilePath() {
          return window.location.pathname.includes("/mobile");
        }
        static handleRedirectNewAccountsToMobileWeb() {
          if (this.isOnMobilePath()) return;
          const e =
            ot.q.getLanguagePrefix() +
            "/mobile" +
            ot.q.getRelativeUrlWithoutLanguagePrefix();
          window.location.href = this.removeTrailingSlash(e);
        }
        static removeTrailingSlash(e) {
          return e.replace(/\/([?#])/, "$1");
        }
      }
      let lt, dt, ut, ht, pt, mt, gt;
      class ft {
        async initializeSoundAndVersionController() {
          (P.j.setVersionNumber(i.r.versionNumber),
            ft.initializeAudio(),
            await n.CA.initLogRocket(),
            n.CA.initializeSessionRecorder(),
            (lt = new C.f(
              g.p.getVersionNo,
              i.r.versionNumber,
              g.p.setVersionNo,
            )));
        }
        webGLCheck() {
          k.webGLCheck();
        }
        initializeGameManager(e) {
          dt = e;
        }
        initializeUIManagerEvents(e) {
          gt = e;
        }
        static initializeSocket(e, t) {
          ((ut = new nt(e)),
            ut.controller.registerSessionEstablishedObserver(() => {
              (null == t ? void 0 : t()) &&
                dt.socketGameSend.notifyBackendClientAutoReconnected();
            }),
            ut.controller.registerSessionEstablishedObserver(() => {
              null == ht || ht.removeSocketErrorBanners();
            }));
        }
        initializeNotification(e) {
          ht = e;
        }
        completeInitialization() {
          (D.displayAllPendingNotifications(),
            d.W.loadImages(),
            dt.initializeSocket(ut.gameListener.gameState),
            k.debugOptions(),
            K.S.init(),
            m.init());
        }
        static async initializeEntry() {
          await o.aA.init();
          if (!(await r._.init())) {
            new f.y(
              { key: "strings:popups.errors.initializationError.title" },
              {
                key: "strings:popups.errors.initializationError.initializationFailed",
              },
              () => window.location.reload(),
              () => {},
              !1,
              { showXButton: !1, showXonHeader: !1 },
            ).show();
            const e = 2147483647;
            await (0, M.cb)(e);
          }
          (ct.handleAccountRedirection(),
            r._.registerChangeListener(() => {
              (U.init(),
                O.init(),
                F.init(),
                H.init(),
                this.eagerlyObtainTurnstilePreClearance());
            }),
            _.Zt.initProducts(i.r.discordSKUIds),
            W.Z.initProducts(i.r.discordSKUIds),
            A.AB.initProducts(i.r.discordSKUIds),
            R.f.initProducts(i.r.discordSKUIds),
            w.N.fetchShouldShowFeedbackForm(),
            (pt = E.a.createTabCommunication()),
            pt.onEvent(E.s.ReloadWebsite, () => window.location.reload()),
            (0, at.Dc)());
        }
        initializeSentry() {
          const e = "localhost" === window.location.hostname,
            t = i.r.isUserOnMobileAppOrWeb
              ? i.r.mobileAppSentryDSN
              : i.r.frontendSentryDSN;
          if (e || !t)
            return void (window.onunhandledrejection = (e) => {
              e.reason instanceof b.lc && e.preventDefault();
            });
          a.Ts({
            dsn: t,
            release: `Colonist:v${i.r.versionNumber}`,
            integrations: [c.dp(), l.w({ maskAllText: !1, blockAllMedia: !1 })],
            tracesSampleRate: i.r.frontendSentryTraceSampleRate,
            replaysSessionSampleRate: 5e-4,
            replaysOnErrorSampleRate: 5e-4,
            allowUrls: [window.location.hostname],
            environment: i.r.frontendSentryEnvironment,
            ignoreErrors: [/^AbortError$/],
            beforeSend: (e, t) => {
              var s, i, n, o, a, c;
              return "Failed to start the audio device" ===
                (e.message ||
                  (null === (n = e.exception) ||
                  void 0 === n ||
                  null === (i = n.values) ||
                  void 0 === i ||
                  null === (s = i[0]) ||
                  void 0 === s
                    ? void 0
                    : s.value))
                ? null
                : ((null !== (l = (c = e).user) && void 0 !== l) ||
                    (c.user = {}),
                  (null === (o = r._.userState) || void 0 === o
                    ? void 0
                    : o.id) && (e.user.id = r._.userState.id),
                  (null === (a = r._.userState) || void 0 === a
                    ? void 0
                    : a.username) && (e.user.username = r._.userState.username),
                  e);
              var l;
            },
            beforeSendTransaction: function (e) {
              if (null == e.spans) return null;
              return (
                (e.spans = e.spans.filter((e) => {
                  if (null == e.timestamp) return !0;
                  switch (e.origin) {
                    case "auto.ui.browser.metrics":
                      return e.timestamp - e.start_timestamp > 0.05;
                    case "auto.resource.browser.metrics":
                      return e.timestamp - e.start_timestamp > 0.25;
                  }
                  return !0;
                })),
                e
              );
            },
          });
        }
        static sendPageVisitAnalyticEvent() {
          const e = ot.q.getPathnameWithoutLanguagePrefix(),
            t = {
              type: Pe.k0.PageVisit,
              category: Pe.eX.PageVisit,
              stringValue: e,
            };
          n.CA.sendAnalyticEvent(t);
        }
        static eagerlyObtainTurnstilePreClearance() {
          if (i.r.isUserOnDiscord) return;
          null == r._.userState &&
            !r._.isStale() &&
            q.F.obtainPreClearanceCookie();
        }
        static initializeAudio() {
          const e = g.p.getMasterVolume();
          ge.A.init(e);
        }
        constructor() {
          (this.initializeSentry(),
            (mt = new G.S()),
            (async function () {
              if ("serviceWorker" in navigator)
                try {
                  const e = `${i.r.isUserOnDiscord ? "/.proxy/" : "/"}service-worker${i.r.isUserOnMobile ? "?mobile" : ""}`;
                  await navigator.serviceWorker.register(e);
                } catch (e) {
                  (0, v.vV)("registerServiceWorker", [
                    `Service Worker registration failed with error: '${e}'`,
                  ]);
                }
            })(),
            ft.sendPageVisitAnalyticEvent());
        }
      }
    },
    66730: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/metropolis_science.a9d436136ce39a5ee1d4.svg";
    },
    66876: (e, t, s) => {
      "use strict";
      s.d(t, { S: () => ss });
      var i = s(66681),
        n = s(35700),
        r = s(74710),
        o = s(46235),
        a = s(90361),
        c = s(18587),
        l = s(63778),
        d = s(4242),
        u = s(37183),
        h = s(23789),
        p = s(34405),
        m = s(72611),
        g = s(65944),
        f = s(18797),
        y = s(45901),
        b = s(10534);
      const v = s.p + "assets/tile_lumber.2f0099b519514f091763.svg",
        S = s.p + "assets/tile_brick.3082910583708dd98c82.svg",
        k = s.p + "assets/tile_wool.72fafecfd68aa740af09.svg",
        C = s.p + "assets/tile_grain.f99882d0014743dba80b.svg",
        P = s.p + "assets/tile_ore.0033829cd0573ced9c6f.svg",
        _ = s.p + "assets/tile_desert.25d3c496a667dfc64c17.svg";
      var A = s(68290),
        w = s(72957),
        R = s(23153),
        T = s(45859),
        I = s(64323),
        M = s(33555),
        L = s(23201),
        B = s(62302),
        D = s(89544),
        E = s(41901),
        G = s(79824),
        x = s(12908),
        U = s(90878),
        O = s(89173),
        N = s(46771),
        F = s(1714),
        H = s(48266),
        W = s(47609),
        K = s(51839),
        V = s(99059),
        q = s(88112),
        Q = s(66730),
        $ = s(23566),
        z = s(84317),
        j = s(10297),
        Y = s(30762),
        X = s(1176),
        Z = s(68282),
        J = s(92626),
        ee = s(83078),
        te = s(21018),
        se = s(38774),
        ie = s(89844),
        ne = s(73324),
        re = s(45023),
        oe = s(23918),
        ae = s(49265),
        ce = s(86464),
        le = s(57363),
        de = s(92712),
        ue = s(43451),
        he = s(83082),
        pe = s(89941),
        me = s(17332),
        ge = s(81895),
        fe = s(88478),
        ye = s(84486),
        be = s(37642),
        ve = s(30081),
        Se = s(16647),
        ke = s(77110),
        Ce = s(60793),
        Pe = s(79048),
        _e = s(60411),
        Ae = s(86717),
        we = s(74524),
        Re = s(76812),
        Te = s(75757),
        Ie = s(27406);
      const Me = s.p + "assets/partition.cca3c23ac8acfc934563.svg";
      var Le = s(491);
      const Be =
          s.p + "assets/knight_level2_active_black.aec38adee7733dbe83aa.svg",
        De = s.p + "assets/knight_level3_active_black.335bf8306220ded73f98.svg";
      var Ee = s(6818);
      const Ge =
          s.p + "assets/knight_level2_inactive_black.08f9bfe34007a874e224.svg",
        xe =
          s.p + "assets/knight_level3_inactive_black.022103aa9d59dbe1f3c1.svg";
      var Ue = s(64458);
      const Oe =
          s.p + "assets/knight_level2_active_blue.ca3204eb4c318025f966.svg",
        Ne = s.p + "assets/knight_level3_active_blue.5e9d46ade18b568fbdfb.svg";
      var Fe = s(61193);
      const He =
          s.p + "assets/knight_level2_inactive_blue.ff296956aa880c833971.svg",
        We =
          s.p + "assets/knight_level3_inactive_blue.33b844b15d7855d456fc.svg";
      var Ke = s(53142);
      const Ve =
          s.p + "assets/knight_level2_active_bronze.39966c740c2f7c365441.svg",
        qe =
          s.p + "assets/knight_level3_active_bronze.1f27fe71a7f7111db136.svg";
      var Qe = s(11773);
      const $e =
          s.p + "assets/knight_level2_inactive_bronze.fdd25be6764e9a2ba506.svg",
        ze =
          s.p + "assets/knight_level3_inactive_bronze.f64a490e885c953a8313.svg";
      var je = s(3700);
      const Ye =
          s.p + "assets/knight_level2_active_gold.fd0f150fd4f1b74158fe.svg",
        Xe = s.p + "assets/knight_level3_active_gold.66e90d2385b08a2067a9.svg";
      var Ze = s(32663);
      const Je =
          s.p + "assets/knight_level2_inactive_gold.8559e5a1a627c50f3f1a.svg",
        et =
          s.p + "assets/knight_level3_inactive_gold.8459950c30f93475e3dd.svg";
      var tt = s(89179);
      const st =
          s.p + "assets/knight_level2_active_green.4b67db78179d9a5dba61.svg",
        it = s.p + "assets/knight_level3_active_green.c401f232f96ec0d865a9.svg";
      var nt = s(47538);
      const rt =
          s.p + "assets/knight_level2_inactive_green.b9a84fd630fde5f35c74.svg",
        ot =
          s.p + "assets/knight_level3_inactive_green.63dd288c2b5af25f7b12.svg";
      var at = s(32741);
      const ct =
          s.p +
          "assets/knight_level2_active_mysticblue.73c1edbfc553b6aee053.svg",
        lt =
          s.p +
          "assets/knight_level3_active_mysticblue.09cff65e3f877a4e0454.svg";
      var dt = s(14466);
      const ut =
          s.p +
          "assets/knight_level2_inactive_mysticblue.f7ef914ca48e6e129577.svg",
        ht =
          s.p +
          "assets/knight_level3_inactive_mysticblue.1b5ad7787cca0d9eed86.svg";
      var pt = s(9808);
      const mt =
          s.p + "assets/knight_level2_active_orange.313f9dfe6c0b690e4cf3.svg",
        gt =
          s.p + "assets/knight_level3_active_orange.620a1e78ac42cf8d028b.svg";
      var ft = s(73023);
      const yt =
          s.p + "assets/knight_level2_inactive_orange.8073cf6b89d7fb1b11a5.svg",
        bt =
          s.p + "assets/knight_level3_inactive_orange.6229d6bec541151d67b1.svg";
      var vt = s(80420);
      const St =
          s.p + "assets/knight_level2_active_purple.4523de6a93e37eedb387.svg",
        kt =
          s.p + "assets/knight_level3_active_purple.fd82776714c1af47b918.svg";
      var Ct = s(77999);
      const Pt =
          s.p + "assets/knight_level2_inactive_purple.3d6e8b963cd33e9598c6.svg",
        _t =
          s.p + "assets/knight_level3_inactive_purple.37c5afca6cc0bb1559ab.svg";
      var At = s(72311);
      const wt =
          s.p + "assets/knight_level2_active_red.960feab109087323c0ce.svg",
        Rt = s.p + "assets/knight_level3_active_red.faf1f9a50b1bc6b4aefc.svg";
      var Tt = s(75602);
      const It =
          s.p + "assets/knight_level2_inactive_red.f578ea3432e602160c56.svg",
        Mt = s.p + "assets/knight_level3_inactive_red.77914d75bedd26be9b79.svg";
      var Lt = s(62945);
      const Bt =
          s.p + "assets/knight_level2_active_silver.f8b02a8e24623ade4982.svg",
        Dt =
          s.p + "assets/knight_level3_active_silver.3942cce527e142b913e4.svg";
      var Et = s(88834);
      const Gt =
          s.p + "assets/knight_level2_inactive_silver.ade9b5b8cc2772da5ced.svg",
        xt =
          s.p + "assets/knight_level3_inactive_silver.8f0ad58e14b864c3abc9.svg";
      var Ut = s(56145);
      const Ot =
          s.p + "assets/knight_level2_active_white.cb4f2c63ad406b9bd089.svg",
        Nt = s.p + "assets/knight_level3_active_white.38e5fde3a5d85e238aaa.svg";
      var Ft = s(70248);
      const Ht =
          s.p + "assets/knight_level2_inactive_white.d08e76a3871a9e6ff9e1.svg",
        Wt =
          s.p + "assets/knight_level3_inactive_white.7f89ea17cb06cee0f6ae.svg";
      var Kt = s(57566);
      const Vt =
          s.p + "assets/knight_level2_active_pink.e490bdcce900686629a7.svg",
        qt = s.p + "assets/knight_level3_active_pink.152fabe7bf7787e6b4e6.svg";
      var Qt = s(73461);
      const $t =
          s.p + "assets/knight_level2_inactive_pink.cf0e3addcad4cc996b9b.svg",
        zt =
          s.p + "assets/knight_level3_inactive_pink.6cab8466546cf52d4ae8.svg",
        jt =
          s.p + "assets/icon_square_framed_politics.ecd63a7de3319a5288e6.svg",
        Yt = s.p + "assets/icon_square_framed_science.b51de4dedc05486569fb.svg",
        Xt = s.p + "assets/icon_square_framed_trade.28d7d5a642a8086def22.svg";
      var Zt = s(34915),
        Jt = s(30506),
        es = s(35274),
        ts = s(18514);
      class ss {
        static replaceKeywordsWithImages(e) {
          var t;
          const s =
              null !== (t = this.getPlayerColorFromText(e)) && void 0 !== t
                ? t
                : l.DS.Red,
            i = this.getImageMapObject(s),
            n = this.getImageDictionaryRegex(s),
            r = this.regexToMatchUsername(),
            o = new RegExp(`(${r.source}|${n.source})`, "gi");
          return e.replace(o, (e) => {
            if (r.test(e)) return e;
            const t = e.toLowerCase();
            var s;
            return null !== (s = i[t]) && void 0 !== s ? s : e;
          });
        }
        static colorAndBoldUsernames(e) {
          const t = ss.regexToMatchUsername();
          return e.replace(t, (e) => this.getHighlightedUsername(e));
        }
        static getHighlightedUsername(e) {
          e = ss.stripPlayerMarkers(e);
          return (
            '<span style="font-weight:600;word-break:break-all;color:' +
            ss.getTextColor(
              ss.getUsernameCorrectCapitalization(e),
              n.i.getColor(n.i.Color.White),
            ) +
            '">' +
            e +
            "</span>"
          );
        }
        static getUsernameCorrectCapitalization(e) {
          var t;
          return null !==
            (t = ss
              .getUsernameList()
              .find((t) => t.toLowerCase() == e.toLowerCase())) && void 0 !== t
            ? t
            : "";
        }
        static getImageDictionaryRegex(e) {
          if (null != this.imageDictionaryRegex)
            return this.imageDictionaryRegex;
          const t = Object.keys(this.getImageMapObject(e)),
            s = this.regexToMatchOneOfList(t);
          return ((this.imageDictionaryRegex = s), s);
        }
        static getTextColor(e, t) {
          const s = this.getPlayerColorFromText(e);
          return null != s
            ? c.r.isUserOnMobileAppOrWeb
              ? n.i.getPlayerBGDarkHashForMobile(s)
              : n.i.getPlayerBGDarkHash(s)
            : t;
        }
        static getUsernameList() {
          var e, t;
          return (null === i.sZ ||
          void 0 === i.sZ ||
          null === (e = i.sZ.gameListener.gameState) ||
          void 0 === e
            ? void 0
            : e.players.length) > 0
            ? i.sZ.gameListener.gameState.players.map((e) => e.username)
            : null !=
                (null === i.sZ ||
                void 0 === i.sZ ||
                null === (t = i.sZ.lobbyListener.room) ||
                void 0 === t
                  ? void 0
                  : t.getUsernames())
              ? i.sZ.lobbyListener.room.getUsernames()
              : [];
        }
        static stripPlayerMarkers(e) {
          return (null != e ? e : "").replaceAll(r.Cv, "").replaceAll(r.fQ, "");
        }
        static regexToMatchUsername() {
          const e = this.getUsernameList().map(
            (e) => `(?:${r.Cv}|\\b)${(0, o.A)(e)}(?:${r.fQ}|\\b)`,
          );
          return ss.regexToMatchOneOfList(e);
        }
        static regexToMatchOneOfList(e) {
          const t = e.join("|");
          return new RegExp(t, "gi");
        }
        static getPlayers() {
          var e;
          return null === i.sZ ||
            void 0 === i.sZ ||
            null === (e = i.sZ.gameListener.gameState) ||
            void 0 === e
            ? void 0
            : e.players;
        }
        static getPlayerColorFromText(e) {
          let t = -1,
            s = -1,
            i = l.DS.Red;
          const n = this.getPlayers();
          if (void 0 !== n) {
            for (const r of n) {
              const n = ss.getTextIndexForPlayer(e, r);
              if (-1 == n) continue;
              const o = n < t,
                a = n == t && r.username.length > s;
              (-1 == t || o || a) &&
                ((t = n), (s = r.username.length), (i = r.color));
            }
            return -1 == t ? void 0 : i;
          }
        }
        static getTextIndexForPlayer(e, t) {
          const s = e.indexOf("You"),
            i = t.color == l.DS.None,
            n = e.indexOf(t.username);
          return -1 == n && i ? s : n;
        }
        static getDebugClientText(e) {
          if ("/debug" != e) return;
          return {
            key: "strings:colonistCommon.utils.#buffer",
            options: {
              value:
                ":private:<br>userAgent: " +
                navigator.userAgent +
                "<br>language: " +
                navigator.language +
                "<br>cookieEnabled: " +
                navigator.cookieEnabled +
                "<br>innerHeight: " +
                window.innerHeight +
                "<br>innerWidth: " +
                window.innerWidth +
                "<br>outerHeight: " +
                window.outerHeight +
                "<br>outerWidth: " +
                window.outerWidth,
              interpolation: { escapeValue: !1 },
            },
          };
        }
        static getImageMapObject(e) {
          const t = this.playerImageMap.get(e);
          if (null != t) return t;
          const s = this.createImageMapObject(e);
          return (this.playerImageMap.set(e, s), s);
        }
        static createImageMapObject(e) {
          const t = {
            lumber: ns(u, "lumber"),
            wood: ns(u, "wood"),
            tree: ns(u, "wood"),
            timber: ns(u, "wood"),
            brick: ns(h, "brick"),
            wool: ns(p, "wool"),
            sheep: ns(p, "wool"),
            grain: ns(m, "grain"),
            wheat: ns(m, "grain"),
            paper: ns(g, "paper"),
            cloth: ns(f, "cloth"),
            coin: ns(y, "coin"),
            " ore": " " + ns(b, "ore"),
            stone: ns(b, "ore"),
            rock: ns(b, "ore"),
            ":tile_lumber:": rs(v, "lumber tile"),
            ":tile_brick:": rs(S, "brick tile"),
            ":tile_wool:": rs(k, "wool tile"),
            ":tile_grain:": rs(C, "grain tile"),
            ":tile_ore:": rs(P, "ore tile"),
            ":tile_desert:": rs(_, "desert tile"),
            ":tile_gold:": rs(A, "gold tile"),
            ":knight:": ns(w, "knight"),
            ":robber:": os(R, "robber"),
            ":pirate:": os(T, "pirate"),
            trophy: os(I, "trophy"),
            ":chit:": os(M, "chit"),
            ":largestarmy:": os(L, "largest army"),
            ":longestroad:": os(B, "longest road"),
            ":defenderofcolonist:": os(D, "defender of colonist"),
            ":icon_merchant_black:": os(E, "Merchant black"),
            ":icon_merchant_blue:": os(G, "Merchant blue"),
            ":icon_merchant_bronze:": os(x, "Merchant bronze"),
            ":icon_merchant_gold:": os(U, "Merchant gold"),
            ":icon_merchant_green:": os(O, "Merchant green"),
            ":icon_merchant_mysticblue:": os(N, "Merchant mystic blue"),
            ":icon_merchant_orange:": os(F, "Merchant orange"),
            ":icon_merchant_purple:": os(H, "Merchant purple"),
            ":icon_merchant_red:": os(W, "Merchant red"),
            ":icon_merchant_silver:": os(K, "Merchant silver"),
            ":icon_merchant_white:": os(V, "Merchant white"),
            ":icon_merchant_pink:": os(q, "Merchant pink"),
            ":road:": os(Zt.j.roadsByColor[e], "road"),
            ":ship:": os(Zt.j.shipsByColor[e], "ship"),
            ":settlement:": os(Zt.j.settlementsByColor[e], "settlement"),
            ":house:": os(Zt.j.settlementsByColor[e], ":house:"),
            ":city:": os(Zt.j.citiesByColor[e], "city"),
            ":city_wall:": os(Zt.j.cityWallsByColor[e], "city wall"),
            ":metropolis_science:": os(Q, "metropolis_science"),
            ":metropolis_trade:": os($, "metropolis_trade"),
            ":metropolis_politics:": os(z, "metropolis_politics"),
            ":private:": os(j, ""),
            ":public:": os(Y, ""),
            ":mail:": os(X, ""),
            ":pack_settler:": os(Z, ""),
            ":pack_colonist:": os(J, ""),
            ":pack_founder:": os(ee, ""),
            ":admin:": os(te, ""),
            ":moderator:": os(se, ""),
            ":bot:": os(ie, ""),
            ":dice:1": os(ne, "dice_1"),
            ":dice:2": os(re, "dice_2"),
            ":dice:3": os(oe, "dice_3"),
            ":dice:4": os(ae, "dice_4"),
            ":dice:5": os(ce, "dice_5"),
            ":dice:6": os(le, "dice_6"),
            ":dice_red:1": os(de, "dice_red_1"),
            ":dice_red:2": os(ue, "dice_red_2"),
            ":dice_red:3": os(he, "dice_red_3"),
            ":dice_red:4": os(pe, "dice_red_4"),
            ":dice_red:5": os(me, "dice_red_5"),
            ":dice_red:6": os(ge, "dice_red_6"),
            ":dice_event:1": os(fe, "dice_barbarian"),
            ":dice_event:2": os(fe, "dice_barbarian"),
            ":dice_event:3": os(fe, "dice_barbarian"),
            ":dice_event:4": os(ye, "dice_science"),
            ":dice_event:5": os(be, "dice_trade"),
            ":dice_event:6": os(ve, "dice_politics"),
            ":prob:2": os(Se, "prob_2"),
            ":prob:3": os(ke, "prob_3"),
            ":prob:4": os(Ce, "prob_4"),
            ":prob:5": os(Pe, "prob_5"),
            ":prob:6": os(_e, "prob_6"),
            ":prob:8": os(Ae, "prob_8"),
            ":prob:9": os(we, "prob_9"),
            ":prob:10": os(Re, "prob_10"),
            ":prob:11": os(Te, "prob_11"),
            ":prob:12": os(Ie, "prob_12"),
            ":partition:": os(Me, ":partition:", 0.6),
            ":knight_active_level1_black:": os(Le, "Knight"),
            ":knight_active_level2_black:": os(Be, "Knight"),
            ":knight_active_level3_black:": os(De, "Knight"),
            ":knight_inactive_level1_black:": os(Ee, "Knight"),
            ":knight_inactive_level2_black:": os(Ge, "Knight"),
            ":knight_inactive_level3_black:": os(xe, "Knight"),
            ":knight_active_level1_blue:": os(Ue, "Knight"),
            ":knight_active_level2_blue:": os(Oe, "Knight"),
            ":knight_active_level3_blue:": os(Ne, "Knight"),
            ":knight_inactive_level1_blue:": os(Fe, "Knight"),
            ":knight_inactive_level2_blue:": os(He, "Knight"),
            ":knight_inactive_level3_blue:": os(We, "Knight"),
            ":knight_active_level1_bronze:": os(Ke, "Knight"),
            ":knight_active_level2_bronze:": os(Ve, "Knight"),
            ":knight_active_level3_bronze:": os(qe, "Knight"),
            ":knight_inactive_level1_bronze:": os(Qe, "Knight"),
            ":knight_inactive_level2_bronze:": os($e, "Knight"),
            ":knight_inactive_level3_bronze:": os(ze, "Knight"),
            ":knight_active_level1_gold:": os(je, "Knight"),
            ":knight_active_level2_gold:": os(Ye, "Knight"),
            ":knight_active_level3_gold:": os(Xe, "Knight"),
            ":knight_inactive_level1_gold:": os(Ze, "Knight"),
            ":knight_inactive_level2_gold:": os(Je, "Knight"),
            ":knight_inactive_level3_gold:": os(et, "Knight"),
            ":knight_active_level1_green:": os(tt, "Knight"),
            ":knight_active_level2_green:": os(st, "Knight"),
            ":knight_active_level3_green:": os(it, "Knight"),
            ":knight_inactive_level1_green:": os(nt, "Knight"),
            ":knight_inactive_level2_green:": os(rt, "Knight"),
            ":knight_inactive_level3_green:": os(ot, "Knight"),
            ":knight_active_level1_mysticblue:": os(at, "Knight"),
            ":knight_active_level2_mysticblue:": os(ct, "Knight"),
            ":knight_active_level3_mysticblue:": os(lt, "Knight"),
            ":knight_inactive_level1_mysticblue:": os(dt, "Knight"),
            ":knight_inactive_level2_mysticblue:": os(ut, "Knight"),
            ":knight_inactive_level3_mysticblue:": os(ht, "Knight"),
            ":knight_active_level1_orange:": os(pt, "Knight"),
            ":knight_active_level2_orange:": os(mt, "Knight"),
            ":knight_active_level3_orange:": os(gt, "Knight"),
            ":knight_inactive_level1_orange:": os(ft, "Knight"),
            ":knight_inactive_level2_orange:": os(yt, "Knight"),
            ":knight_inactive_level3_orange:": os(bt, "Knight"),
            ":knight_active_level1_purple:": os(vt, "Knight"),
            ":knight_active_level2_purple:": os(St, "Knight"),
            ":knight_active_level3_purple:": os(kt, "Knight"),
            ":knight_inactive_level1_purple:": os(Ct, "Knight"),
            ":knight_inactive_level2_purple:": os(Pt, "Knight"),
            ":knight_inactive_level3_purple:": os(_t, "Knight"),
            ":knight_active_level1_red:": os(At, "Knight"),
            ":knight_active_level2_red:": os(wt, "Knight"),
            ":knight_active_level3_red:": os(Rt, "Knight"),
            ":knight_inactive_level1_red:": os(Tt, "Knight"),
            ":knight_inactive_level2_red:": os(It, "Knight"),
            ":knight_inactive_level3_red:": os(Mt, "Knight"),
            ":knight_active_level1_silver:": os(Lt, "Knight"),
            ":knight_active_level2_silver:": os(Bt, "Knight"),
            ":knight_active_level3_silver:": os(Dt, "Knight"),
            ":knight_inactive_level1_silver:": os(Et, "Knight"),
            ":knight_inactive_level2_silver:": os(Gt, "Knight"),
            ":knight_inactive_level3_silver:": os(xt, "Knight"),
            ":knight_active_level1_white:": os(Ut, "Knight"),
            ":knight_active_level2_white:": os(Ot, "Knight"),
            ":knight_active_level3_white:": os(Nt, "Knight"),
            ":knight_inactive_level1_white:": os(Ft, "Knight"),
            ":knight_inactive_level2_white:": os(Ht, "Knight"),
            ":knight_inactive_level3_white:": os(Wt, "Knight"),
            ":knight_active_level1_pink:": os(Kt, "Knight"),
            ":knight_active_level2_pink:": os(Vt, "Knight"),
            ":knight_active_level3_pink:": os(qt, "Knight"),
            ":knight_inactive_level1_pink:": os(Qt, "Knight"),
            ":knight_inactive_level2_pink:": os($t, "Knight"),
            ":knight_inactive_level3_pink:": os(zt, "Knight"),
            ":icon_square_framed_politics:": os(jt, "politics square", 0.8),
            ":icon_square_framed_science:": os(Yt, "science square", 0.8),
            ":icon_square_framed_trade:": os(Xt, "trade square", 0.8),
          };
          return (
            Jt.h4.loopEnums(l.O3, (e, s) => {
              const i = es.YT[s];
              t[`:card_${s}:`] = ns(es.av[s], ts.a7.t(i.key, i.options));
            }),
            t
          );
        }
      }
      ((ss.playerImageMap = new Map()),
        (ss.OPEN_RULEBOOK_LINK_HASH = "#open-rulebook"));
      const is = 20;
      function ns(e, t) {
        const s = '" height="' + is + '" width="' + is / d.M.CARD_RATIO;
        return (
          '<img src="' +
          e +
          '" alt="' +
          (0, a.A)(t) +
          s +
          '" class="lobby-chat-text-icon">'
        );
      }
      function rs(e, t) {
        const s = '" height="' + is + '" width="' + is / d.M.TILE_RATIO;
        return (
          '<img src="' +
          e +
          '" alt="' +
          (0, a.A)(t) +
          s +
          '" class="lobby-chat-text-icon">'
        );
      }
      function os(e, t, s = 1) {
        const i = is * s,
          n = '" height="' + i + '" width="' + i;
        return (
          '<img src="' +
          e +
          '" alt="' +
          (0, a.A)(t) +
          n +
          '" class="lobby-chat-text-icon">'
        );
      }
    },
    66966: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/game_spritesheet_1.75775d9c0b20cb21d62e.json";
    },
    66987: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/road_red.41c6cbd9278108542715.svg";
    },
    67252: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/icon_discard_resource_cards.268d7f0cdc407e7f32e5.svg";
    },
    67431: (e, t, s) => {
      "use strict";
      s.d(t, { $c: () => r, Kk: () => o, R0: () => n, fG: () => a });
      var i = s(52609);
      function n(e) {
        const t = e.parent;
        null !== t && (t.removeChild(e), t.addChild(e));
      }
      function r(e, t, s, n) {
        const r = new i.ts.Graphics();
        return (r.beginFill(n), r.drawCircle(e, t, s), r.endFill(), r);
      }
      function o(e, t) {
        return (
          e.x < t.x + t.width &&
          e.x + e.width > t.x &&
          e.y < t.y + t.height &&
          e.y + e.height > t.y
        );
      }
      function a(e, t) {
        return null != e.parent && (e.parent == t || a(e.parent, t));
      }
    },
    67523: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/ship_black_north_west.5588f4dd89afb0902210.svg";
    },
    67707: (e, t, s) => {
      "use strict";
      s.d(t, { E: () => i });
      class i {
        static deserialize(e) {
          const t = new i();
          return ((t.id = e.id), t);
        }
      }
    },
    68282: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_settler.c12ef5c70a711d7b0918.svg";
    },
    68290: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/tile_gold.8232cea1f60dd524bbef.svg";
    },
    68342: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/shuffle.5892a9d423a8e962318b.svg";
    },
    68492: (e, t, s) => {
      "use strict";
      s.d(t, { F: () => r });
      var i = s(69508),
        n = s(41207);
      class r {
        static deserializeErrorData(e) {
          switch (e.type) {
            case i.w.DefaultError:
              return n.Ak.deserialize(e);
            case i.w.AuthError:
              return n.$k.deserialize(e);
            case i.w.MustLogin:
              return n.Tb.deserialize(e);
            case i.w.MustBeMember:
              return n.je.deserialize(e);
            case i.w.Blocking:
              return n.Gf.deserialize(e);
            default:
              return;
          }
        }
      }
    },
    68836: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/ship_move_pink.7733fd547d80b308951e.svg";
    },
    68905: (e, t, s) => {
      "use strict";
      e.exports =
        s.p +
        "assets/fix_pixelated_fullscreen_popup_after.c42c0fd802a83056706b.png";
    },
    69045: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/ab_gifting_christmas.61e50b4ba608edc73a5e.png";
    },
    69362: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/sfx_offer_rejected.9195821ea4c2ce7ae8a5.mp3";
    },
    69508: (e, t, s) => {
      "use strict";
      s.d(t, { R: () => n, w: () => i });
      var i = (function (e) {
          return (
            (e[(e.DefaultError = 0)] = "DefaultError"),
            (e[(e.AuthError = 1)] = "AuthError"),
            (e[(e.MustLogin = 2)] = "MustLogin"),
            (e[(e.MustBeMember = 3)] = "MustBeMember"),
            (e[(e.Blocking = 4)] = "Blocking"),
            e
          );
        })({}),
        n = (function (e) {
          return (
            (e[(e.Ok = 200)] = "Ok"),
            (e[(e.BadRequest = 400)] = "BadRequest"),
            (e[(e.Unauthorized = 401)] = "Unauthorized"),
            (e[(e.Forbidden = 403)] = "Forbidden"),
            (e[(e.NotFound = 404)] = "NotFound"),
            (e[(e.Conflict = 409)] = "Conflict"),
            (e[(e.TooManyRequests = 428)] = "TooManyRequests"),
            (e[(e.InternalServerError = 500)] = "InternalServerError"),
            (e[(e.ServiceUnavailable = 503)] = "ServiceUnavailable"),
            e
          );
        })({});
    },
    69714: (e, t, s) => {
      "use strict";
      s.d(t, { Q: () => f });
      var i = s(19966),
        n = s(78046),
        r = s(76092),
        o = s(66681),
        a = s(26658),
        c = s(98487),
        l = s(78311),
        d = s(71068),
        u = s(41931),
        h = s(9127),
        p = s(34617),
        m = s(75589),
        g = s(81888);
      class f {
        static interactedWithSite() {
          this.sendLobby(a.Dj.InteractedWithSite, !0);
        }
        static setAdBlockStatusToUserSession(e) {
          this.sendLobby(a.Dj.SetAdBlockStatus, e);
        }
        static async continueCampaignMode() {
          await this.waitUntilGameCanBeStarted();
          const e = u.p.getBeginnerModeLevel();
          if (e == d.eT.End) return this.start1v1BeginnerBotGame();
          this.startBeginnerMode(e);
        }
        static async clickedStartHardBotGame() {
          await this.waitUntilGameCanBeStarted();
          const e = {
            clientVersion: l.$m,
            bots: [c.R1.BotMedium, c.R1.BotMedium, c.R1.BotMedium],
          };
          this.sendLobby(a.Dj.ClickedBotGame, e);
        }
        static async clickedStartMediumBotGame() {
          await this.waitUntilGameCanBeStarted();
          const e = {
            clientVersion: l.$m,
            bots: [c.R1.BotMedium, c.R1.BotEasy, c.R1.BotEasy],
          };
          this.sendLobby(a.Dj.ClickedBotGame, e);
        }
        static async clickedStartEasyBotGame() {
          await this.waitUntilGameCanBeStarted();
          const e = {
            clientVersion: l.$m,
            bots: [c.R1.BotEasy, c.R1.BotEasy, c.R1.BotEasy],
          };
          this.sendLobby(a.Dj.ClickedBotGame, e);
        }
        static async startShuffleBotGame() {
          await this.waitUntilGameCanBeStarted();
          const e = { clientVersion: l.$m };
          this.sendLobby(a.Dj.ClickedStartShuffleBotGame, e);
        }
        static async clickedStartColonistRushBotGame() {
          await this.waitUntilGameCanBeStarted();
          const e = {
            clientVersion: l.$m,
            bots: [c.R1.BotMedium, c.R1.BotMedium, c.R1.BotMedium],
            victoryPointsToWin: 10,
            modeSetting: c.p9.ColonistRush4P,
            gameSpeed: c.ro.Rush15s,
            cardDiscardLimit: 9,
          };
          this.sendLobby(a.Dj.ClickedBotGame, e);
        }
        static registerToFriendService() {
          p.v.canUseOnlineFriendService() &&
            this.sendGeneral(h.P7.RegisterToFriendService, {});
        }
        static changedOnlineStatus(e) {
          p.v.canUseOnlineFriendService() &&
            f.sendGeneral(h.P7.ChangeOnlineStatus, e);
        }
        static getAllFriendsOnlineStatus() {
          p.v.canUseOnlineFriendService() &&
            f.sendGeneral(h.P7.GetAllFriendsOnlineStatus, {});
        }
        static inviteFriendToRoom(e, t) {
          if (!p.v.canUseOnlineFriendService()) return;
          const s = { receiverUserId: e, roomId: t };
          this.sendGeneral(h.P7.InviteFriendToRoom, s);
        }
        static respondToFriendRoomInvite(e, t, s) {
          if (!p.v.canUseOnlineFriendService()) return;
          const i = { roomId: e, accept: t, senderUserId: s };
          this.sendGeneral(h.P7.RespondToFriendRoomInvite, i);
        }
        static getAllFriendRoomInvitesReceived() {
          p.v.canUseOnlineFriendService() &&
            this.sendGeneral(h.P7.GetAllRoomInvitesReceived, {});
        }
        static registerToNotificationService() {
          m.G.canUseLiveNotificationService() &&
            this.sendGeneral(h.P7.RegisterToNotificationService, {});
        }
        static markAllNotificationsAsRead() {
          m.G.canUseLiveNotificationService() &&
            this.sendGeneral(h.P7.MarkAllNotificationsAsRead, {});
        }
        static markNotificationAsRead(e) {
          m.G.canUseLiveNotificationService() &&
            this.sendGeneral(h.P7.MarkNotificationAsRead, e);
        }
        static getNotifications(e) {
          m.G.canUseLiveNotificationService() &&
            this.sendGeneral(h.P7.GetNotifications, e);
        }
        static watchRoomList() {
          this.sendLobby(a.Dj.WatchRoomList, {});
        }
        static stopWatchingRoomList() {
          this.sendLobby(a.Dj.StopWatchingRoomList, {});
        }
        static clickedCreateRoom(e) {
          (this.sendAnalyticEvent(
            r.k0.JoinedRoom,
            r.eX.Room,
            void 0,
            r.lb.ClickedCreateRoom,
          ),
            i.CA.sendGoogleAnalyticsEvent(
              i.CA.Category.Lobby,
              i.CA.Label.ClickedCreateRoom,
            ));
          const t = { roomType: e, clientVersion: l.$m };
          this.sendLobby(a.Dj.ClickedCreateRoom, t);
        }
        static async clickedJoinRoom(e) {
          (await this.waitUntilGameCanBeStarted(),
            this.sendAnalyticEvent(
              r.k0.JoinedRoom,
              r.eX.Room,
              e,
              r.lb.ClickedLobbyRoom,
            ),
            i.CA.sendGoogleAnalyticsEvent(
              i.CA.Category.Lobby,
              i.CA.Label.ClickedJoinRoom,
            ));
          const t = { gameId: e, clientVersion: l.$m };
          this.sendLobby(a.Dj.ClickedJoinRoom, t);
        }
        static async clickedSpectateGame(e) {
          (await this.waitUntilGameCanBeStarted(),
            i.CA.sendGoogleAnalyticsEvent(
              i.CA.Category.Lobby,
              i.CA.Label.ClickedSpectate,
            ));
          const t = { gameId: e, clientVersion: l.$m };
          this.sendLobby(a.Dj.ClickedSpectateGame, t);
        }
        static reconnectGame(e, t) {
          n.W.continueAfterAssetsLoad(() => {
            i.CA.sendGoogleAnalyticsEvent(i.CA.Category.Lobby, t);
            const s = { gameId: e, clientVersion: l.$m };
            this.sendLobby(a.Dj.ReconnectGame, s);
          });
        }
        static autoRejoinGame() {
          this.sendLobby(a.Dj.AutoRejoinGame, {});
        }
        static async accessGameFromLink(e) {
          this.sendAnalyticEvent(
            r.k0.JoinedRoom,
            r.eX.Room,
            e,
            r.lb.EnteredRoomLink,
          );
          try {
            await this.waitUntilGameCanBeStarted();
          } catch (e) {
            if (e instanceof l.lc) return void this.updateURLToRoom("");
            throw e;
          }
          const t = { gameId: e, clientVersion: l.$m };
          this.sendLobby(a.Dj.AccessGameLink, t);
        }
        static startBeginnerMode(e) {
          const t = {
            clientVersion: l.$m,
            level: e,
            map: (0, d.NF)(e),
            bots: (0, d.$v)(e),
          };
          this.sendLobby(a.Dj.ClickedStartBeginnerMode, t);
        }
        static start1v1BeginnerBotGame() {
          const e = { clientVersion: l.$m, bots: [c.R1.BotEasy] };
          this.sendLobby(a.Dj.Clicked1v1BeginnerBotGame, e);
        }
        static updateURLToRoom(e) {
          window.location.hash != "#" + e && window.location.assign("#" + e);
        }
        static joinChannel(e, t, s, i) {
          n.W.continueAfterAssetsLoad(
            () => {
              const n = {
                channelId: e,
                isInitialLoad: s,
                roomOrGameId: i,
                ...t,
              };
              this.sendChannel(a.s4.ChannelJoin, n);
            },
            () => {
              this.updateURLToRoom("");
            },
          );
        }
        static clickedJoinChannelRoomOrGame(e, t) {
          n.W.continueAfterAssetsLoad(() => {
            const s = { channelId: e, roomType: t };
            this.sendChannel(a.s4.ChannelJoinRoomOrGame, s);
          });
        }
        static sendLobby(e, t) {
          const s = { action: e, payload: t };
          o.sZ.controller.sender.sendToServerType(
            l.lo.LobbyAction,
            "lobby",
            s,
            a.II.includes(e),
          );
        }
        static sendChannel(e, t) {
          const s = { action: e, payload: t };
          o.sZ.controller.sender.sendToServerType(
            l.lo.ChannelAction,
            "lobby",
            s,
            a.jP.includes(e),
          );
        }
        static sendGeneral(e, t) {
          const s = { action: e, payload: t };
          o.sZ.controller.sender.sendToServerType(
            l.lo.GeneralAction,
            "lobby",
            s,
            !1,
          );
        }
        static sendAnalyticEvent(e, t, s, n) {
          const r = { type: e, category: t, stringValue: s, floatValue: n };
          i.CA.sendAnalyticEvent(r);
        }
        static async waitUntilGameCanBeStarted() {
          (await g._.requireUser(), await n.W.continueAfterAssetsLoad());
        }
      }
    },
    69957: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/icon_discard_progress_cards.3780fc8eb316ff24b123.svg";
    },
    70137: (e, t, s) => {
      "use strict";
      s.d(t, { t: () => u });
      var i = s(9029),
        n = s(13618),
        r = s(18587),
        o = s(95176),
        a = s(78311),
        c = s(19966),
        l = s(32398),
        d = s(5603);
      class u extends o.y {
        createSignupButtons(e) {
          const t = (0, i.Le)(e, "popup-signup-buttons", ""),
            s = (0, i.Le)(t, "popup-signup-btn popup-signup-google-btn", "");
          ((0, i.zO)(s, a.am.GoogleIcon),
            (0, i.i5)(s, "", {
              key: "strings:popups.login.loginWith",
              options: { context: "google" },
            }));
          const r = (0, i.Le)(
            t,
            "popup-signup-btn popup-signup-discord-btn",
            "",
          );
          ((0, i.zO)(r, a.am.DiscordIcon),
            (0, i.i5)(r, "", {
              key: "strings:popups.login.loginWith",
              options: { context: "discord" },
            }));
          const o = (0, i.Le)(t, "popup-signup-btn popup-signup-apple-btn", "");
          ((0, i.zO)(o, a.am.AppleIcon),
            (0, i.i5)(o, "", {
              key: "strings:popups.login.loginWith",
              options: { context: "apple" },
            }));
          const u = (0, i.Le)(
              t,
              "popup-signup-btn popup-signup-continue-btn",
              "",
            ),
            h = (0, i.i5)(u, "", {
              key: "strings:popups.login.continueAsGuest",
            });
          ((0, i.G0)(s, () => {
            (d.A.play(d.h.Click),
              c.CA.sendGoogleAnalyticsEvent(
                c.CA.Category.EndGame,
                c.CA.Label.ClickedEndGameSignup,
              ),
              (0, n.Yf)(l.l.googleAuth()));
          }),
            (0, i.G0)(r, () => {
              (d.A.play(d.h.Click),
                c.CA.sendGoogleAnalyticsEvent(
                  c.CA.Category.EndGame,
                  c.CA.Label.ClickedEndGameSignup,
                ),
                (0, n.Yf)(l.l.discordAuth()));
            }),
            (0, i.G0)(o, () => {
              (d.A.play(d.h.Click),
                c.CA.sendGoogleAnalyticsEvent(
                  c.CA.Category.EndGame,
                  c.CA.Label.ClickedEndGameSignup,
                ),
                (0, n.Yf)(l.l.appleAuth()));
            }),
            (0, i.G0)(h, () => {
              (d.A.play(d.h.Click), this.removePopup());
            }));
        }
        constructor(e) {
          (super(
            { key: "strings:game.endGame.signupPopup.title" },
            { key: "strings:colonistCommon.utils.emptyString" },
            () => {},
            () => {},
            !0,
          ),
            (0, i.RH)(this.body, {
              key: "strings:colonistCommon.utils.emptyString",
            }));
          ((0, n.XT)() || r.r.isUserOnMobileAppOrWeb) && this.makeLarge();
          const t = (0, i.Le)(this.body, "popup-signup-wrapper", "");
          ((0, i.Wr)(
            t,
            {
              key: "strings:game.endGame.signupPopup.description",
              options: { playedGameCount: e },
            },
            "",
          ),
            this.createSignupButtons(t),
            this.removeFooter(),
            this.show());
        }
      }
    },
    70248: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/knight_level1_inactive_white.6260c1d303ee850b0d41.svg";
    },
    70653: (e, t, s) => {
      "use strict";
      e.exports =
        s.p +
        "assets/message-appears-without-username-avatar-after.c383a890d5dad602a32e.png";
    },
    70746: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/sfx_your_turn.a14bdbd78995b7bec794.mp3";
    },
    70925: (e, t, s) => {
      "use strict";
      e.exports = s.p + "locales/en_strings.7b10289c983fc99a0f5e.json";
    },
    70970: (e, t, s) => {
      "use strict";
      s.d(t, { F: () => n });
      var i = s(30506);
      class n {
        static async generateClearanceCookie() {
          return (
            await this.waitUntilTurnstileIsLoaded(),
            new Promise((e, t) => {
              (turnstile.reset(),
                turnstile.execute("#turnstile-widget", {
                  callback: (t, s) => e(s),
                  "error-callback": t,
                }));
            })
          );
        }
        static async getToken() {
          return (
            await this.waitUntilTurnstileIsLoaded(),
            new Promise((e, t) => {
              (turnstile.reset(),
                turnstile.execute("#turnstile-widget", {
                  callback: (t) => e(t),
                  "error-callback": t,
                }));
            })
          );
        }
        static isChallengeResponse(e) {
          return "challenge" == e["cf-mitigated"];
        }
        static async obtainPreClearanceCookie() {
          return (
            null != this.preClearanceCookiePromise ||
              ((this.preClearanceCookiePromise = (0, i.ph)()),
              this.getClearanceCookie()
                .then(
                  () => {
                    var e;
                    return null === (e = this.preClearanceCookiePromise) ||
                      void 0 === e
                      ? void 0
                      : e.resolve();
                  },
                  (e) => {
                    var t;
                    return null === (t = this.preClearanceCookiePromise) ||
                      void 0 === t
                      ? void 0
                      : t.reject(e);
                  },
                )
                .finally(() => (this.preClearanceCookiePromise = void 0))),
            this.preClearanceCookiePromise
          );
        }
        static async getClearanceCookie() {
          let e = 1;
          for (; e <= 5; ) {
            try {
              if (await this.generateClearanceCookie()) return;
            } catch (t) {
              if (5 == e) throw t;
            }
            e += 1;
          }
        }
        static async waitUntilTurnstileIsLoaded() {
          if (this.isTurnstileLoaded) return;
          const e = (0, i.ph)();
          setTimeout(() => {
            e.reject(new Error("Unable to load required script"));
          }, 5e3);
          const t = setInterval(() => {
            null != window.turnstile &&
              1 == turnstile.loaded &&
              ((this.isTurnstileLoaded = !0), e.resolve());
          }, 5);
          return (e.finally(() => clearInterval(t)), e);
        }
      }
      n.isTurnstileLoaded = !1;
    },
    70976: (e, t, s) => {
      "use strict";
      e.exports =
        s.p +
        "assets/icon_beginner_hint_initial_placement.311abf53cacdcbc109a8.svg";
    },
    71130: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/shifting_content_after.310355d0d7db08efd3c5.png";
    },
    71181: (e, t, s) => {
      "use strict";
      e.exports =
        s.p +
        "assets/update_payment_successful_popup_before.98edeae0591574b23e95.png";
    },
    71318: (e, t, s) => {
      "use strict";
      s.d(t, { W: () => C });
      var i = s(54801),
        n = s(67908),
        r = s(85801),
        o = s(66681),
        a = s(72589),
        c = s(76092),
        l = s(87220),
        d = s(63778),
        u = s(98487);
      function h(e) {
        let t = [];
        return (
          (t = t
            .concat(
              (function (e) {
                const t = [];
                for (let n = 0; n < e.events.length; n++) {
                  var s;
                  const r = e.events[n];
                  for (const e in null ===
                    (s = r.stateChange.mechanicDevelopmentCardsState) ||
                  void 0 === s
                    ? void 0
                    : s.players) {
                    var i;
                    const s = Number(e),
                      o =
                        null ===
                          (i = r.stateChange.mechanicDevelopmentCardsState) ||
                        void 0 === i
                          ? void 0
                          : i.players[s];
                    null != o &&
                      null != o.developmentCardsUsed &&
                      o.developmentCardsUsed[
                        o.developmentCardsUsed.length - 1
                      ] == d.O3.Monopoly &&
                      t.push({ actionIndex: n, type: "monopolyPlayed" });
                  }
                }
                return t;
              })(e),
            )
            .concat(
              (function (e) {
                const t = [];
                let s, i;
                for (let t = 0; t < e.events.length; t++) {
                  const n = e.events[t];
                  for (const e in n.stateChange.playerStates) {
                    const r = Number(e),
                      o = n.stateChange.playerStates[r];
                    if (null != (null == o ? void 0 : o.victoryPointsState))
                      for (const e of Object.keys(o.victoryPointsState)) {
                        const n = Number(e),
                          r = o.victoryPointsState[n];
                        if (!1 === Boolean(r)) continue;
                        const a = u.pO.getVictoryPointByType(n);
                        ((null == a ? void 0 : a.victoryPointType) ==
                          u.uj.LargestArmy && (s = t),
                          (null == a ? void 0 : a.victoryPointType) ==
                            u.uj.LongestRoad && (i = t));
                      }
                  }
                }
                null != s && t.push({ actionIndex: s, type: "largestArmy" });
                null != i && t.push({ actionIndex: i, type: "longestRoad" });
                return t;
              })(e),
            )),
          t
        );
      }
      var p,
        m = s(17130),
        g = s(10369),
        f = s(41207),
        y = s(69508),
        b = s(74710);
      function v(e) {
        return (0, b.dN)(
          { key: "strings:popups.errors.replay.errorAndMembershipPrompt" },
          {
            errorMessage: e,
            membershipPrompt: {
              key: "strings:popups.errors.replay.storePurchaseMembershipPrompt",
            },
          },
        );
      }
      function S(e) {
        return (0, b.dN)(
          { key: "strings:popups.errors.replay.errorAndMembershipPrompt" },
          {
            errorMessage: e,
            membershipPrompt: {
              key: "strings:popups.errors.replay.storeUpgradeMembershipPrompt",
            },
          },
        );
      }
      !(function (e) {
        class t extends f.Ak {
          constructor() {
            super(
              { key: "strings:popups.errors.replay.title" },
              { key: "strings:popups.errors.replay.invalidPlayerColor" },
              y.R.BadRequest,
            );
          }
        }
        e.InvalidPlayerColor = t;
        class s extends f.Ak {
          constructor() {
            super(
              { key: "strings:popups.errors.replay.title" },
              { key: "strings:popups.errors.replay.invalidGameId" },
              y.R.BadRequest,
            );
          }
        }
        e.InvalidGameId = s;
        class i extends f.Ak {
          constructor() {
            super(
              { key: "strings:popups.errors.replay.title" },
              { key: "strings:popups.errors.replay.invalidUrlSlug" },
              y.R.BadRequest,
            );
          }
        }
        e.InvalidUrlSlug = i;
        class n extends f.Ak {
          constructor() {
            super(
              { key: "strings:popups.errors.replay.title" },
              { key: "strings:popups.errors.replay.gameNotFound" },
              y.R.BadRequest,
            );
          }
        }
        e.GameNotFound = n;
        class r extends f.Ak {
          constructor() {
            super(
              { key: "strings:popups.errors.replay.title" },
              { key: "strings:popups.errors.replay.userNotInGame" },
              y.R.BadRequest,
            );
          }
        }
        e.UserNotInGame = r;
        class o extends f.je {
          constructor() {
            super(
              { key: "strings:popups.errors.replay.title" },
              v({
                key: "strings:popups.errors.replay.noMembershipTryingToCreateReplayLink",
              }),
              y.R.BadRequest,
            );
          }
        }
        e.NoMembershipTryingToCreateReplayLink = o;
        class a extends f.je {
          constructor() {
            super(
              { key: "strings:popups.errors.replay.title" },
              v({
                key: "strings:popups.errors.replay.noMembershipTryingToWatchOwnReplay",
              }),
              y.R.BadRequest,
            );
          }
        }
        e.NoMembershipTryingToWatchOwnReplay = a;
        class c extends f.je {
          constructor() {
            super(
              { key: "strings:popups.errors.replay.title" },
              v({
                key: "strings:popups.errors.replay.noMembershipTryingToWatchAnotherPlayerReplay",
              }),
              y.R.BadRequest,
            );
          }
        }
        e.NoMembershipTryingToWatchAnotherPlayerReplay = c;
        class l extends f.je {
          constructor() {
            super(
              { key: "strings:popups.errors.replay.title" },
              v({
                key: "strings:popups.errors.replay.noMembershipTryingToChangeReplayPerspective",
              }),
              y.R.BadRequest,
            );
          }
        }
        e.NoMembershipTryingToChangeReplayPerspective = l;
        class d extends f.je {
          constructor() {
            super(
              { key: "strings:popups.errors.replay.title" },
              v({
                key: "strings:popups.errors.replay.invalidMembershipTryingToWatchAnotherPlayerReplay",
              }),
              y.R.BadRequest,
            );
          }
        }
        e.InvalidMembershipTryingToWatchAnotherPlayerReplay = d;
        class u extends f.je {
          constructor(e) {
            super(
              { key: "strings:popups.errors.replay.title" },
              S({
                key: "strings:popups.errors.replay.plusMembershipLimitReach",
                options: { limit: e },
              }),
              y.R.BadRequest,
            );
          }
        }
        e.PlusMembershipReplayLimitReached = u;
        class h extends f.je {
          constructor() {
            super(
              { key: "strings:popups.errors.replay.title" },
              S({ key: "strings:popups.errors.replay.invalidMembership" }),
              y.R.BadRequest,
            );
          }
        }
        e.InvalidMembership = h;
      })(p || (p = {}));
      var k = s(19966);
      class C {
        setupReplayControls() {
          const e = h(this.replayData.eventHistory);
          this.uiGameManager.gameStore
            .getState()
            .gameReplay.setReplayControls({
              onPreviousTurn: () => this.previousTurn(),
              onPreviousAction: () => this.previousAction(),
              onNextAction: () => this.nextAction(),
              onNextTurn: () => this.nextTurn(),
              onChangePerspective: (e) => this.onClickChangePerspective(e),
              currentPlayerPerspective: this.playerPerspective,
              onShare: () =>
                m.x.shareOrCopyLink(this.uiGameManager.gameController, this),
              numberOfActions: this.replayData.eventHistory.events.length,
              highlightData: e,
              onChangeActionIndex: (e) => this.setAction(e, !1),
              onClickLog: (e) => this.clickedGameLogWithIndex(e),
            });
        }
        bindKeys() {
          const e = !1;
          (r.N.bindKey(
            "ArrowLeft",
            () => this.previousAction(),
            () => !0,
            r.g.InGame,
            e,
            0,
          ),
            r.N.bindKey(
              "ArrowRight",
              () => this.nextAction(),
              () => !0,
              r.g.InGame,
              e,
              0,
            ));
          const t = !0;
          (r.N.bindKey(
            "ArrowLeft",
            () => this.previousTurn(),
            () => !0,
            r.g.InGame,
            t,
            0,
          ),
            r.N.bindKey(
              "ArrowRight",
              () => this.nextTurn(),
              () => !0,
              r.g.InGame,
              t,
              0,
            ));
        }
        filterGameHistory() {
          for (const t of this.replayData.eventHistory.events) {
            var e;
            (null != t.stateChange.tradeState &&
              delete t.stateChange.tradeState,
              null !=
                (null === (e = t.stateChange.mechanicSpecialBuildPhaseState) ||
                void 0 === e
                  ? void 0
                  : e.playerStates) &&
                (delete t.stateChange.mechanicSpecialBuildPhaseState
                  .playerStates,
                0 ==
                  Object.keys(t.stateChange.mechanicSpecialBuildPhaseState)
                    .length &&
                  delete t.stateChange.mechanicSpecialBuildPhaseState),
              this.isLiveGame &&
                null != t.stateChange.gameChatState &&
                delete t.stateChange.gameChatState);
          }
          this.replayData.eventHistory.events =
            this.replayData.eventHistory.events.filter(
              (e) => 0 !== Object.keys(e.stateChange).length,
            );
        }
        getReverseGameStateChanges() {
          const e = [],
            t = structuredClone(this.replayData.eventHistory.initialState),
            s = structuredClone(this.replayData.eventHistory.initialState);
          for (const [n, r] of this.replayData.eventHistory.events.entries()) {
            const r = this.replayData.eventHistory.events[n].stateChange;
            (0, i.p_)(s, [r]);
            const o = (0, i.cy)(s, t);
            if (null == o) throw new Error("Error loading replay data");
            ((e[n - 1] = o), (0, i.p_)(t, [r]));
          }
          return e;
        }
        getBuildGameConfigurations(e, t) {
          const s = structuredClone(this.replayData.eventHistory.initialState);
          return (
            (s.gameLogState = this.getFullGameLogForPlayer(e)),
            (this.buildGameConfigurations = {
              gameState: s,
              playOrder: this.replayData.playOrder,
              playerColor: e,
              playerUserStates: this.replayData.playerUserStates,
              gameDetails: this.replayData.gameDetails,
              gameSettings: this.replayData.gameSettings,
              timeLeftInState: 0,
              isReplay: !0,
              isAfterLiveGame: t,
            }),
            this.buildGameConfigurations
          );
        }
        get playerPerspective() {
          return this.buildGameConfigurations.playerColor;
        }
        isPlayerPerspectiveAvailable(e) {
          return this.replayData.eventHistory.eventsPerspectives.includes(e);
        }
        onClickChangePerspective(e) {
          k.CA.sendAnalyticEvent({
            type: c.k0.ReplayClickedChangePerspective,
            category: c.eX.Replay,
            floatValue: this.replayAccessMethod,
          });
          if (!this.isPlayerPerspectiveAvailable(e))
            return g.r.handleError(
              new p.NoMembershipTryingToChangeReplayPerspective(),
            );
          this.changePlayerPerspective(e);
        }
        changePlayerPerspective(e) {
          (this.uiGameManager.resetGameUIToRebuildOnReconnect(),
            (this.buildGameConfigurations.playerColor = e));
          const t = structuredClone(this.replayData.eventHistory.initialState);
          for (let e = 0; e <= this.actionIndex; e++) {
            const s = this.replayData.eventHistory.events[e].stateChange,
              n = (0, i.O1)(s, [this.playerPerspective]);
            (0, i.p_)(t, [n]);
          }
          ((this.buildGameConfigurations.gameState = {
            ...t,
            gameLogState: this.getFullGameLogForPlayer(this.playerPerspective),
            gameChatState: this.buildGameConfigurations.gameState.gameChatState,
          }),
            this.socketActionController.onBuildGame(
              this.buildGameConfigurations,
            ),
            this.setupReplayControls(),
            this.updateGameLogPosition(),
            this.resetEndGameScreen(),
            this.createEndGameScreen(),
            this.actionIndex == this.actionIndexForEndgame
              ? this.showEndGameScreen()
              : this.hideEndGameScreen(),
            this.uiGameManager.gameStore
              .getState()
              .gameReplay.setActionIndex(this.actionIndex));
        }
        previousAction() {
          this.setAction(this.actionIndex - 1, !1);
        }
        nextAction() {
          this.setAction(this.actionIndex + 1, !0);
        }
        previousTurn() {
          this.setAction(this.findPreviousTurn(), !1);
        }
        nextTurn() {
          this.setAction(this.findNextTurn(), !1);
        }
        getCurrentAction() {
          return this.actionIndex;
        }
        findNextTurn() {
          for (
            let t = this.actionIndex + 1;
            t < this.replayData.eventHistory.events.length;
            t++
          ) {
            var e;
            if (
              null !=
              (null ===
                (e =
                  this.replayData.eventHistory.events[t].stateChange
                    .currentState) || void 0 === e
                ? void 0
                : e.completedTurns)
            )
              return t;
          }
          return this.replayData.eventHistory.events.length - 1;
        }
        findPreviousTurn() {
          for (let t = this.actionIndex - 1; t >= 0; t--) {
            var e;
            if (
              null !=
              (null ===
                (e =
                  this.replayData.eventHistory.events[t].stateChange
                    .currentState) || void 0 === e
                ? void 0
                : e.completedTurns)
            )
              return t;
          }
          return this.initialStateIndex;
        }
        setAction(e, t) {
          (e = a.c.clamp(
            e,
            this.initialStateIndex,
            this.actionIndexForEndgame,
          )) != this.actionIndex &&
            (e > this.actionIndex
              ? this.advanceToAction(e, t)
              : this.rewindToAction(e, t),
            (this.actionIndex = e),
            this.updateGameLogPosition(),
            this.actionIndex == this.actionIndexForEndgame
              ? this.showEndGameScreen()
              : this.hideEndGameScreen(),
            this.uiGameManager.gameStore
              .getState()
              .gameReplay.setActionIndex(e));
        }
        advanceToAction(e, t) {
          const s = [];
          for (let t = this.actionIndex + 1; t <= e; t++) {
            const e = this.replayData.eventHistory.events[t].stateChange,
              n = (0, i.O1)(e, [this.playerPerspective]);
            s.push(n);
          }
          const n = (0, i.mg)(s);
          (delete n.gameLogState,
            this.socketActionController.gameStateUpdated(
              { diff: n, timeLeftInState: 0 },
              t,
            ));
        }
        rewindToAction(e, t) {
          const s = [];
          for (let t = this.actionIndex - 1; t >= e; t--) {
            const e = this.reverseGameStateChanges[t],
              n = (0, i.O1)(e, [this.playerPerspective]);
            s.push(n);
          }
          const n = (0, i.mg)(s);
          (delete n.gameLogState,
            this.socketActionController.gameStateUpdated(
              { diff: n, timeLeftInState: 0 },
              t,
            ));
        }
        showEndGameScreen() {
          if (
            (this.uiGameManager.mapController.setInteractionEnabled(!1),
            null != this.endGameScreen)
          )
            return (
              this.endGameScreen.setVisible(!0),
              void this.uiGameManager.gameStore
                .getState()
                .gameEnd.setIsVisible(!0)
            );
          this.createEndGameScreen();
        }
        createEndGameScreen() {
          null != this.replayData.eventHistory.endGameState &&
            (this.endGameScreen = this.socketActionController.onGameEndState(
              {
                endGameState: this.replayData.eventHistory.endGameState,
                isReplayAvailable: !0,
                rankedUserStates: this.replayData.rankedUserStates,
              },
              this.isLiveGame,
            ));
        }
        hideEndGameScreen() {
          null != this.endGameScreen &&
            (this.endGameScreen.setVisible(!1),
            this.uiGameManager.mapController.setInteractionEnabled(!0),
            this.uiGameManager.gameStore.getState().gameEnd.setIsVisible(!1));
        }
        resetEndGameScreen() {
          null != this.endGameScreen &&
            (this.endGameScreen.destroy(), (this.endGameScreen = void 0));
        }
        destroy() {
          (r.N.instance.clearAllKeyBinds(),
            this.resetEndGameScreen(),
            this.uiGameManager.mapController.setInteractionEnabled(!0));
        }
        clickedGameLogWithIndex(e) {
          const t = this.getActionIndexByGameLogIndex(e);
          null != t && this.setAction(t, !1);
        }
        getActionIndexByGameLogIndex(e) {
          if (0 == e) return this.initialStateIndex;
          for (let t = 0; t < this.replayData.eventHistory.events.length; t++) {
            const s =
              this.replayData.eventHistory.events[t].stateChange.gameLogState;
            for (const i in s) {
              if (Number(i) == e) return t;
            }
          }
        }
        getLastGameLogIndexByActionIndex() {
          const e = this.actionIndex;
          if (e == this.initialStateIndex) return 0;
          if (e < 0) return;
          const t = structuredClone(
            this.replayData.eventHistory.events[e].stateChange.gameLogState,
          );
          if (null == t) return;
          (0, i.KB)(t, [this.buildGameConfigurations.playerColor]);
          const s = Object.keys(t);
          return 0 != s.length ? Number(s[s.length - 1]) : void 0;
        }
        getFullGameLogForPlayer(e) {
          const t = structuredClone(
            this.replayData.eventHistory.initialState.gameLogState,
          );
          for (const s of this.replayData.eventHistory.events) {
            const n = s.stateChange.gameLogState;
            if (null == n) continue;
            const r = structuredClone(n);
            ((0, i.KB)(r, [e]), Object.assign(t, r));
          }
          return t;
        }
        updateGameLogPosition() {
          const e = this.getLastGameLogIndexByActionIndex();
          null != e &&
            this.uiGameManager.gameStore
              .getState()
              .gameReplay.setFocusedLogIndex(e);
        }
        constructor(e, t, s, i) {
          ((this.initialStateIndex = -1),
            (this.socketActionController = t),
            (this.uiGameManager = o.IH),
            (this.isLiveGame = s),
            (this.replayData = e),
            (this.replayAccessMethod = (0, l.t3)(window.location.href)));
          const r = null != i ? i : this.initialStateIndex;
          (this.filterGameHistory(),
            (this.actionIndexForEndgame =
              this.replayData.eventHistory.events.length - 1),
            (this.reverseGameStateChanges = this.getReverseGameStateChanges()),
            (this.actionIndex = this.initialStateIndex),
            (this.buildGameConfigurations = this.getBuildGameConfigurations(
              this.replayData.playerPerspective,
              this.isLiveGame,
            )),
            this.uiGameManager.canvasController.buildGame(),
            this.isLiveGame &&
              (this.buildGameConfigurations.gameState.gameChatState =
                this.uiGameManager.gameController.stateController.state.gameChatState),
            this.socketActionController.onBuildGame(
              this.buildGameConfigurations,
            ),
            this.uiGameManager.eventController.sendEvent(
              void 0,
              n.o8.UIGameEventEnums.ReplayModeStart,
            ),
            this.updateGameLogPosition(),
            this.setAction(r, !1),
            this.bindKeys(),
            this.createEndGameScreen(),
            this.actionIndex == this.actionIndexForEndgame
              ? this.showEndGameScreen()
              : this.hideEndGameScreen(),
            this.setupReplayControls());
        }
      }
    },
    71568: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/map_europe_preview.3b8db5e3bd77042b62a6.png";
    },
    71704: (e, t, s) => {
      s.p = window.assetPath;
    },
    71937: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/ship_silver_north_west.9c4a8b26d1721758a8b2.svg";
    },
    72179: (e, t, s) => {
      "use strict";
      e.exports =
        s.p +
        "assets/dang-update-payment-successful-popup-before.98edeae0591574b23e95.png";
    },
    72236: (e, t, s) => {
      "use strict";
      e.exports =
        s.p +
        "assets/update_payment_successful_popup_after.568e142b78a0465d88a3.png";
    },
    72248: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/map_jellyfish_preview.11e41b21ff189e73e808.png";
    },
    72255: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/ship_move_white.2b5821b4468dd42962b7.svg";
    },
    72311: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/knight_level1_active_red.c3f8cee3b33acb5380dc.svg";
    },
    72411: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/stat_resources_used.282fa9aaaa127b82eecb.svg";
    },
    72589: (e, t, s) => {
      "use strict";
      var i;
      (s.d(t, { c: () => i }),
        (function (e) {
          function t(e, t, s) {
            return Math.max(Math.min(e, s), t);
          }
          ((e.isNumberBetween = function (e, t, s) {
            return !(e < t) && !(e > s);
          }),
            (e.lerp = function (e, t, s, i, n) {
              return ((n - e) / (t - e)) * (i - s) + s;
            }),
            (e.calculatePercentage = function (e, t, s) {
              return (100 * (e - t)) / (s - t);
            }),
            (e.clampBetweenZeroAndOne = function (e) {
              return t(e, 0, 1);
            }),
            (e.clamp = t));
        })(i || (i = {})));
    },
    72611: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/card_grain.09c9d82146a64bce69b5.svg";
    },
    72957: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/card_knight.a58573f2154fa93a6319.svg";
    },
    73022: (e, t, s) => {
      "use strict";
      s.d(t, {
        rz: () => l,
        Pz: () => d,
        h6: () => u,
        Hq: () => m,
        kV: () => p,
        aU: () => h,
      });
      var i,
        n = s(84324),
        r = s(69508),
        o = s(41207);
      !(function (e) {
        class t extends o.Ak {
          constructor() {
            super(
              { key: "strings:popups.errors.rankedError.title" },
              {
                key: "strings:popups.errors.rankedError.waitingForAdblockState",
              },
              r.R.BadRequest,
            );
          }
        }
        e.NoAdBlockState = t;
        class s extends o.Ak {
          constructor() {
            super(
              { key: "strings:popups.errors.rankedError.title" },
              { key: "strings:popups.errors.rankedError.invalidSeason" },
              r.R.BadRequest,
            );
          }
        }
        e.InvalidSeason = s;
        class i extends o.Ak {
          constructor() {
            super(
              { key: "strings:popups.errors.rankedError.title" },
              { key: "strings:popups.errors.rankedError.betaSeason" },
              r.R.ServiceUnavailable,
            );
          }
        }
        e.BetaSeasonsNotSaved = i;
        class a extends o.Ak {
          constructor() {
            super(
              { key: "strings:popups.errors.rankedError.title" },
              {
                key: "strings:popups.errors.rankedError.unableToEnterRankedCitiesAndKnights",
              },
              r.R.InternalServerError,
            );
          }
        }
        e.ServerErrorCitiesAndKnights = a;
        class c extends o.Ak {
          constructor() {
            super(
              { key: "strings:popups.errors.rankedError.title" },
              {
                key: "strings:popups.errors.rankedError.noAccessToCitiesAndKnights",
              },
              r.R.Unauthorized,
            );
          }
        }
        e.NoAccessToCitiesAndKnights = c;
        class l extends o.Ak {
          constructor() {
            super(
              { key: "strings:popups.errors.rankedError.title" },
              { key: "strings:popups.errors.rankedError.noActiveSeason" },
              r.R.ServiceUnavailable,
            );
          }
        }
        e.NoActiveSeason = l;
        class d extends o.Ak {
          constructor() {
            super(
              { key: "strings:popups.errors.rankedError.title" },
              { key: "strings:popups.errors.rankedError.noSeasonAnnounced" },
              r.R.ServiceUnavailable,
            );
          }
        }
        e.NoNewSeasonAnnounced = d;
        class u extends o.Ak {
          constructor(e) {
            super(
              { key: "strings:popups.errors.rankedError.title" },
              {
                key: "strings:popups.errors.rankedError.nextSeasonNotStarted",
                options: {
                  timeUntilNextSeason: `${n.i.getDaysHoursMinutesBetweenDatesString(e, new Date())}`,
                },
              },
              r.R.ServiceUnavailable,
            );
          }
        }
        e.NextSeasonNotStarted = u;
        class h extends o.Ak {
          constructor() {
            super(
              { key: "strings:popups.errors.rankedError.title" },
              { key: "strings:popups.errors.rankedError.logInForRanked" },
              r.R.BadRequest,
            );
          }
        }
        e.MustLogin = h;
      })(i || (i = {}));
      var a = s(98487),
        c = s(83633),
        l = (function (e) {
          return (
            (e[(e.Locked = 0)] = "Locked"),
            (e[(e.Unlocked = 1)] = "Unlocked"),
            (e[(e.HasFreeGames = 2)] = "HasFreeGames"),
            (e[(e.HasFreeGameFromDiceRoll = 3)] = "HasFreeGameFromDiceRoll"),
            (e[(e.CanRollDice = 4)] = "CanRollDice"),
            (e[(e.WaitingToRollDice = 5)] = "WaitingToRollDice"),
            e
          );
        })({});
      const d = 5,
        u = 4;
      function h(e, t, s, i, n) {
        const r = m(e, t, s, i, n);
        return 1 == r || 2 == r || 3 == r;
      }
      function p(e, t, s, i, n) {
        const r = m(e, t, s, i, n);
        return 0 == r || 5 == r;
      }
      function m(e, t, s, n, r) {
        return (function (e) {
          if (null == e) return !1;
          const t = c.qq.getModeDataForMode(a.p9.CitiesAndKnights4P);
          if (null == t) throw new i.ServerErrorCitiesAndKnights();
          return null != e.membership || !!e.hasAccessToPremiumMode(t);
        })(e)
          ? 1
          : (function (e, t) {
                return (
                  "ONLY_DICE_ROLL" != e.CK_MONETIZATION_DICE_ROLL &&
                  null != t &&
                  t < d
                );
              })(s, t)
            ? 2
            : g(s, r)
              ? 3
              : (function (e, t, s) {
                    return (
                      "DEFAULT" != e.CK_MONETIZATION_DICE_ROLL &&
                      !g(e, s) &&
                      (null == t || t.getTime() <= Date.now())
                    );
                  })(s, n, r)
                ? 4
                : (function (e, t) {
                      return (
                        "DEFAULT" != e.CK_MONETIZATION_DICE_ROLL &&
                        null != t &&
                        t.getTime() > Date.now()
                      );
                    })(s, n)
                  ? 5
                  : 0;
      }
      function g(e, t) {
        return (
          "DEFAULT" != e.CK_MONETIZATION_DICE_ROLL &&
          null != t &&
          t.getTime() > Date.now()
        );
      }
    },
    73023: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/knight_level1_inactive_orange.f7ef7762a682203c66aa.svg";
    },
    73050: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/settlement_white.a642a431b4bb73d63dae.svg";
    },
    73264: (e, t, s) => {
      "use strict";
      s.d(t, { O: () => v });
      var i = s(9029),
        n = s(50482),
        r = s(19966),
        o = s(84445),
        a = s(32398),
        c = s(82535),
        l = s(76092),
        d = s(24127),
        u = s(92524),
        h = s(19733),
        p = s(78311),
        m = s(81888),
        g = s(62374),
        f = s(95176),
        y = s(13618),
        b = s(5603);
      class v extends d.r {
        getDisclaimerKey() {
          const e = this.getMembershipPriceString("annual"),
            t = this.localizedPriceData ? "localized" : "",
            s = this.localizedPriceData
              ? `${this.localizedPriceData.currency}${this.localizedPriceData.price}`
              : e;
          return this.membershipProduct.billedAnnually
            ? {
                key: "strings:storePage.sections.membership.billing.annually",
                options: { context: t, amount: s },
              }
            : { key: "strings:storePage.sections.membership.billing.monthly" };
        }
        createDefaultAction() {
          (0, i.G0)(this.productDiv, () => {
            (b.A.play(b.h.Click),
              r.CA.sendGoogleAnalyticsEvent(
                r.CA.Category.Store,
                r.CA.Label.StoreClickedSubscribe,
                this.getColonistMembershipType(),
              ),
              this.sendClickAnalytic(),
              (0, o.Uf)(() => {
                this.sendToCheckout();
              }));
          });
        }
        getMembershipPriceString(e = "monthly") {
          if (this.localizedPriceData)
            return this.convertLocalizedPriceToMonthly();
          const t = this.membershipProduct.price / 100;
          return `${"annual" == e ? 12 * t : t}`;
        }
        convertLocalizedPriceToMonthly() {
          if (!this.localizedPriceData) return "";
          if (null == this.localizedPriceData.price) return "";
          return `${this.membershipProduct.billedAnnually ? (this.localizedPriceData.price / 12).toFixed(2) : this.localizedPriceData.price}`;
        }
        showStrikeThroughPrice() {
          const e = n.Zt.getMonthlyPriceOfAnnualMembership(
            this.getColonistMembershipType(),
          );
          if (null == e) return;
          const t = (0, i.Wr)(
            this.priceDiv,
            {
              key: "strings:storePage.sections.membership.billing.paidMonthly",
              options: { context: "strikethrough", amount: `${e}` },
            },
            "strikethrough-price",
            "",
          );
          this.priceDiv.insertBefore(t, this.priceDiv.firstChild);
        }
        sendToCheckout() {
          null == this.membershipProduct.oneTimePurchaseType
            ? (0, y.Yf)(
                a.l.checkoutMembershipUrl(this.getColonistMembershipType()),
              )
            : (0, y.Yf)(
                a.l.checkoutOneTimePurchaseUrl(
                  this.membershipProduct.oneTimePurchaseType,
                ),
              );
        }
        sendClickAnalytic() {
          const e = this.getColonistMembershipType();
          let t = l.Jd.StoreMembershipPlusMonthly;
          switch (e) {
            case p.Qb.PlusMonthly:
              t = l.Jd.StoreMembershipPlusMonthly;
              break;
            case p.Qb.PremiumMonthly:
              t = l.Jd.StoreMembershipPremiumMonthly;
              break;
            case p.Qb.EliteMonthly:
              t = l.Jd.StoreMembershipEliteMonthly;
              break;
            case p.Qb.PlusYearly:
              t = l.Jd.StoreMembershipPlusYearly;
              break;
            case p.Qb.PremiumYearly:
              t = l.Jd.StoreMembershipPremiumYearly;
              break;
            case p.Qb.EliteYearly:
              t = l.Jd.StoreMembershipEliteYearly;
              break;
            case p.Qb.Holiday2023AllAccessPass:
              t = l.Jd.StoreMembershipHoliday2023AllAccessPass;
          }
          const s = {
            type: l.k0.ABTestClickAnalytics,
            category: l.eX.ABTestClickAnalytics,
            floatValue: t,
          };
          r.CA.sendAnalyticEvent(s);
        }
        getColonistMembershipType() {
          if (this.storeState.membershipToggleYearlyActive) {
            if (this.membershipProduct.type == p.Qb.PlusMonthly)
              return p.Qb.PlusYearly;
            if (this.membershipProduct.type == p.Qb.PremiumMonthly)
              return p.Qb.PremiumYearly;
            if (this.membershipProduct.type == p.Qb.EliteMonthly)
              return p.Qb.EliteYearly;
          }
          return this.membershipProduct.type;
        }
        changeToDowngradeButton() {
          (this.removeButtonStyling(),
            (0, i.RH)(this.subscribeButtonText, {
              key: "strings:storePage.sections.membership.action.downgrade",
            }),
            (0, i.G0)(this.productDiv, () => {
              (b.A.play(b.h.Click),
                r.CA.sendGoogleAnalyticsEvent(
                  r.CA.Category.Store,
                  r.CA.Label.StoreClickedSubscribe,
                  this.getColonistMembershipType(),
                ),
                this.sendClickAnalytic(),
                (0, o.Uf)(() => {
                  this.manageSubscription();
                }));
            }));
        }
        changeToManageButton() {
          (this.removeButtonStyling(),
            (0, i.RH)(this.subscribeButtonText, {
              key: "strings:storePage.sections.membership.action.manage",
            }),
            this.subscribeButton.classList.add("button_owned"),
            (0, i.G0)(this.productDiv, () => {
              (b.A.play(b.h.Click),
                r.CA.sendGoogleAnalyticsEvent(
                  r.CA.Category.Store,
                  r.CA.Label.StoreClickedSubscribe,
                  this.getColonistMembershipType(),
                ),
                this.sendClickAnalytic(),
                (0, o.Uf)(() => {
                  this.manageSubscription();
                }));
            }));
        }
        changeToUpgradeButton() {
          (this.removeButtonStyling(),
            (0, i.RH)(this.subscribeButtonText, {
              key: "strings:storePage.sections.membership.action.upgrade",
            }),
            this.subscribeButton.classList.add("button_upgrade"),
            (0, i.G0)(this.productDiv, () => {
              (b.A.play(b.h.Click),
                r.CA.sendGoogleAnalyticsEvent(
                  r.CA.Category.Store,
                  r.CA.Label.StoreClickedSubscribe,
                  this.getColonistMembershipType(),
                ),
                this.sendClickAnalytic(),
                (0, o.Uf)(() => {
                  this.manageSubscription();
                }));
            }));
        }
        changeToGoAnnualButton() {
          (this.removeButtonStyling(),
            (0, i.RH)(this.subscribeButtonText, {
              key: "strings:storePage.sections.membership.action.goAnnual",
            }),
            this.subscribeButton.classList.add("button_upgrade"),
            (0, i.G0)(this.productDiv, () => {
              (b.A.play(b.h.Click),
                r.CA.sendGoogleAnalyticsEvent(
                  r.CA.Category.Store,
                  r.CA.Label.StoreClickedSubscribe,
                  this.getColonistMembershipType(),
                ),
                this.sendClickAnalytic(),
                (0, o.Uf)(() => {
                  this.manageSubscription();
                }));
            }));
        }
        changeToOwnedButton() {
          (this.removeButtonStyling(),
            (0, i.RH)(this.subscribeButtonText, {
              key: "strings:popups.owned.title",
            }),
            this.subscribeButton.classList.add("button_owned"),
            (0, i.G0)(this.productDiv, () => {}));
        }
        changeToCancelButton() {
          (this.removeButtonStyling(),
            (0, i.RH)(this.subscribeButtonText, {
              key: "strings:storePage.sections.membership.action.cancel",
            }),
            this.subscribeButton.classList.add("button_owned"),
            (0, i.G0)(this.productDiv, () => v.cancelGiftedMembership()));
        }
        removeButton() {
          (this.subscribeButton.classList.add("hidden"),
            (0, i.G0)(this.productDiv, () => {}));
        }
        removeButtonStyling() {
          (this.subscribeButton.classList.contains("button_upgrade") &&
            this.subscribeButton.classList.remove("button_upgrade"),
            this.subscribeButton.classList.contains("button_owned") &&
              this.subscribeButton.classList.remove("button_owned"));
        }
        manageSubscription() {
          var e;
          (null === (e = m._.userState) || void 0 === e
            ? void 0
            : e.items.membershipPaymentMethod) == u.g5.Discord
            ? v.createManageSubscriptionOnDiscordPopup()
            : c.B.executeStripeCustomerPortalSession();
        }
        static createManageSubscriptionOnDiscordPopup() {
          const e = v.getManageSubscriptionOnDiscordPopupBody();
          h.r.createSimplePopup(
            { key: "strings:storePage.manageMembership.title" },
            e,
          );
        }
        static getManageSubscriptionOnDiscordPopupBody() {
          var e;
          const t =
            null === (e = m._.userState) || void 0 === e
              ? void 0
              : e.items.getCurrentMembership();
          if (null == t) throw new Error("Membership not found");
          return n.Zt.isAnnualMembership(t.type)
            ? {
                key: "strings:storePage.manageMembership.body",
                options: { context: "waitForExpiration" },
              }
            : {
                key: "strings:storePage.manageMembership.body",
                options: { context: "updateOnDiscord" },
              };
        }
        static async cancelGiftedMembership() {
          new f.y(
            {
              key: "strings:storePage.sections.membership.cancelConfirmation.title",
            },
            {
              key: "strings:storePage.sections.membership.cancelConfirmation.body",
            },
            async () => await g.m.cancelGiftedMembership(),
            () => {},
            !0,
          ).show();
        }
        constructor(e, t, s, n, a) {
          var c;
          (super(e, s),
            (this.storeState = t),
            (this.localizedPriceData = a),
            this.createDefaultAction(),
            (this.priceDiv = (0, i.Le)(
              this.productDiv,
              "store-page-membership-price",
              "",
            )));
          const d = this.getMembershipPriceString();
          var u;
          const h =
            null !==
              (u =
                null === (c = this.localizedPriceData) || void 0 === c
                  ? void 0
                  : c.currency) && void 0 !== u
              ? u
              : "$";
          this.membershipPrice = (0, i.Wr)(
            this.priceDiv,
            {
              key: "strings:storePage.sections.membership.billing.paidMonthly",
              options: { context: "biggerPrice", amount: d, currency: h },
            },
            "",
            "",
          );
          (s.billedAnnually && this.showStrikeThroughPrice(),
            (this.disclaimerText = (0, i.Wr)(
              this.productDiv,
              { key: "strings:colonistCommon.utils.emptyString" },
              "store_page_membership_disclaimer",
              "",
            )));
          const m = this.getDisclaimerKey();
          if (
            ((0, i.RH)(this.disclaimerText, m),
            (this.buttonsContainer = (0, i.Le)(
              this.productDiv,
              "store-button-membership-container",
            )),
            (this.subscribeButton = (0, i.Le)(
              this.buttonsContainer,
              "store-button-membership",
            )),
            (this.subscribeButtonText = (0, i.Wr)(
              this.subscribeButton,
              { key: "strings:storePage.sections.membership.action.subscribe" },
              "",
              "",
            )),
            !n)
          )
            return;
          ((this.giftButton = (0, i.Le)(
            this.buttonsContainer,
            "store-button-gift",
          )),
            (0, i.zO)(this.giftButton, p.am.StoreGiftMembership));
          const g = {
            type: l.k0.ABTestClickAnalytics,
            category: l.eX.GiftMembershipOverlay,
            floatValue: l.s8.Store,
          };
          (0, i.G0)(
            this.giftButton,
            () => {
              (r.CA.sendAnalyticEvent(g),
                (0, o.b4)(() => {
                  (n.show(),
                    n.reorderPages(!1),
                    n.selectGiftTier(this.membershipProduct.type));
                }));
            },
            !1,
            !0,
          );
        }
      }
    },
    73316: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/ship_blue_north_west.d7ed559470e207c16a17.svg";
    },
    73324: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/dice_1.6828d855c054bbb331d3.svg";
    },
    73457: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/bg_button_trade_highlight.3925cb750db0bd0daa9c.svg";
    },
    73461: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/knight_level1_inactive_pink.ce851c244a9775abae15.svg";
    },
    73484: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_arrow_up.4839fbb15857a82d3799.svg";
    },
    73697: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/city_purple.a9868c1fc12671447ea3.svg";
    },
    74352: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/temp_delete_me.91681d8792afec7588e1.png";
    },
    74501: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/stat_mmr_change.782bfeb98db4389d2813.svg";
    },
    74524: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/prob_9.0dce1d649976660b463a.svg";
    },
    74589: (e, t, s) => {
      "use strict";
      s.d(t, { i: () => c });
      var i = s(98487),
        n = s(66681),
        r = s(9029);
      class o {
        setMaxPlayerCount(e, t) {
          (0, r.RH)(this.maxPlayersInput, {
            key: "strings:colonistCommon.utils.#buffer",
            options: { value: `${e}/${t}` },
          });
        }
        constructor(e) {
          ((this.container = e),
            (this.maxPlayersInput = e.querySelector(
              "#room_center_maxplayers_settings_input",
            )),
            (this.maxPlayersRightArrow = e.querySelector(
              "#maxplayers_settings_right_arrow",
            )),
            (this.maxPlayersLeftArrow = e.querySelector(
              "#maxplayers_settings_left_arrow",
            )),
            (this.maxPlayersDivBody = e.querySelector(
              "#maxplayers_settings_body",
            )));
          document.getElementById("maxplayers_settings_speed_info").hidden = !0;
        }
      }
      var a = s(83633);
      class c {
        update(e) {
          var t, s;
          this.currentMaxPlayerCount = e.gameSetting.maxPlayers;
          const n =
              null !==
                (s =
                  null ===
                    (t = a.qq.getModeDataForMode(e.gameSetting.modeSetting)) ||
                  void 0 === t
                    ? void 0
                    : t.defaultPlayerCount) && void 0 !== s
                ? s
                : i.Zt.DEFAULT_PLAYER_COUNT,
            r = a.qq.getMaxAllowablePlayerCountForMode(
              e.gameSetting.modeSetting,
            );
          (this.view.setMaxPlayerCount(this.currentMaxPlayerCount, r),
            this.view.container.classList.toggle(
              "selected",
              this.currentMaxPlayerCount != n,
            ));
        }
        load(e) {
          this.initSpeedSettings(e);
        }
        initSpeedSettings(e) {
          const {
            maxPlayersDivBody: t,
            maxPlayersRightArrow: s,
            maxPlayersLeftArrow: i,
          } = this.view;
          ((this.gameModeMaxPlayerCount =
            a.qq.getMaxAllowablePlayerCountForMode(e.gameSetting.modeSetting)),
            this.view.setMaxPlayerCount(
              this.currentMaxPlayerCount,
              this.gameModeMaxPlayerCount,
            ));
          const o = this.currentMaxPlayerCount == this.minPlayerCount,
            l = this.currentMaxPlayerCount == this.gameModeMaxPlayerCount;
          if (
            (i.classList.toggle("disabled", o),
            s.classList.toggle("disabled", l),
            c.isGuest(e))
          )
            return (
              (t.className = "option_body guest"),
              s.classList.toggle("hidden", !0),
              i.classList.toggle("hidden", !0),
              (0, r.G0)(s, () => {}),
              void (0, r.G0)(i, () => {})
            );
          ((t.className = "option_body"),
            s.classList.toggle("hidden", !1),
            i.classList.toggle("hidden", !1),
            (0, r.G0)(s, () => {
              this.currentMaxPlayerCount >= this.gameModeMaxPlayerCount ||
                n.sZ.roomClient.setMaxPlayers(this.currentMaxPlayerCount + 1);
            }),
            (0, r.G0)(i, () => {
              this.currentMaxPlayerCount <= this.minPlayerCount ||
                n.sZ.roomClient.setMaxPlayers(this.currentMaxPlayerCount - 1);
            }));
        }
        updateInteractabilityOfElements(e) {
          this.load(e);
        }
        static isGuest(e) {
          return n.sZ.controller.session.id != e.hostSession.userSessionId;
        }
        constructor(e) {
          ((this.minPlayerCount = i.Zt.MIN_PLAYER_COUNT),
            (this.gameModeMaxPlayerCount = i.Zt.MAX_PLAYER_COUNT),
            (this.currentMaxPlayerCount = i.Zt.DEFAULT_PLAYER_COUNT),
            (this.view = new o(e)));
        }
      }
    },
    74710: (e, t, s) => {
      "use strict";
      s.d(t, {
        oL: () => l,
        zj: () => c,
        F2: () => a,
        fQ: () => r,
        Cv: () => n,
        WO: () => i,
        dN: () => o.d,
      });
      var i = (function (e) {
        return ((e.Strings = "strings"), e);
      })({});
      const n = "",
        r = "";
      var o = s(23813);
      s(52955);
      var a,
        c = (function (e) {
          return (
            (e.BaseGame = ""),
            (e.Seafarers = "seafarers"),
            (e.CitiesAndKnights = "c&k"),
            (e.CitiesAndKnightsSeafarers = "c&kSeafarers"),
            e
          );
        })({});
      s(70925);
      class l {
        t(e, t) {
          const s = "Invalid Translation";
          try {
            const i = this.i18n.t(e, t);
            return "string" == typeof i ? i : s;
          } catch (e) {
            return s;
          }
        }
        tArray(e, t) {
          const s = ["Invalid Translation"];
          try {
            const i = l.addReturnObjectOption(t),
              n = this.i18n.t(e, i);
            return Array.isArray(n) ? n : s;
          } catch (e) {
            return s;
          }
        }
        static addReturnObjectOption(e) {
          return null == e
            ? { returnObjects: !0 }
            : { ...e, returnObjects: !0 };
        }
        constructor(e) {
          this.i18n = e;
        }
      }
      !(function (e) {
        ((e.defaultLanguage = "en"),
          (e.languages = [
            "en",
            "af",
            "ar",
            "ca",
            "cs",
            "da",
            "de",
            "el",
            "es",
            "fi",
            "fr",
            "he",
            "hi",
            "hu",
            "it",
            "ja",
            "ko",
            "nl",
            "no",
            "pl",
            "pt-BR",
            "pt-PT",
            "ro",
            "ru",
            "sr",
            "sv",
            "th",
            "tr",
            "uk",
            "vi",
            "zh-CN",
            "zh-TW",
          ]),
          (e.languageEnglishNames = {
            en: "English",
            af: "Afrikaans",
            ar: "Arabic",
            ca: "Catalan",
            cs: "Czech",
            da: "Danish",
            de: "German",
            el: "Greek",
            es: "Spanish",
            fi: "Finnish",
            fr: "French",
            he: "Hebrew",
            hi: "Hindi",
            hu: "Hungarian",
            it: "Italian",
            ja: "Japanese",
            ko: "Korean",
            nl: "Dutch",
            no: "Norwegian",
            pl: "Polish",
            "pt-BR": "Brazilian Portuguese",
            "pt-PT": "European Portuguese",
            ro: "Romanian",
            ru: "Russian",
            sr: "Serbian",
            sv: "Swedish",
            th: "Thai",
            tr: "Turkish",
            uk: "Ukrainian",
            vi: "Vietnamese",
            "zh-CN": "Chinese (China Mainland)",
            "zh-TW": "Chinese (Taiwan)",
          }));
      })(a || (a = {}));
    },
    74862: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/bot_kick_confirmation_before.34d4d24e14a07a5395e8.png";
    },
    75279: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/ship_red_north_west.feef384f11209b09f273.svg";
    },
    75413: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/knight_active_level1.ce84e04a4018983aa354.svg";
    },
    75466: (e, t, s) => {
      "use strict";
      e.exports =
        s.p +
        "assets/message-appears-without-username-avatar-before.47b64cfeac26eb479424.png";
    },
    75577: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/new_badge_after.fda55e5f7d7b9d1a535b.png";
    },
    75589: (e, t, s) => {
      "use strict";
      s.d(t, { G: () => r });
      var i = s(81888),
        n = s(78311);
      class r {
        static canUseLiveNotificationService() {
          var e;
          return !!(null === (e = i._.userState) || void 0 === e
            ? void 0
            : e.isLoggedIn);
        }
        static delayNotificationDataRequest(e) {
          setTimeout(e, this.REQUEST_DATA_DELAY_MS);
        }
        static getMembershipTitleFromType(e) {
          switch (e) {
            case n.Qb.EliteMonthly:
            case n.Qb.EliteYearly:
              return { key: "strings:storePage.membership.title.elite" };
            case n.Qb.PlusMonthly:
            case n.Qb.PlusYearly:
              return { key: "strings:storePage.membership.title.plus" };
            case n.Qb.PremiumMonthly:
            case n.Qb.PremiumYearly:
              return { key: "strings:storePage.membership.title.premium" };
            case n.Qb.Holiday2023AllAccessPass:
              return { key: "strings:colonistCommon.utils.bug" };
          }
        }
      }
      r.REQUEST_DATA_DELAY_MS = 500;
    },
    75602: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/knight_level1_inactive_red.edd8c074adebbb34dac4.svg";
    },
    75757: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/prob_11.102e16ed661168ddeec8.svg";
    },
    75806: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/icon_arrow_player_profile.4bfad0f00a3cc312eb64.svg";
    },
    75900: (e, t, s) => {
      "use strict";
      s.d(t, { p: () => P, h: () => _ });
      var i = s(95176),
        n = s(9029),
        r = s(53015),
        o = s(51988),
        a = s(19966),
        c = s(60144),
        l = s(19733),
        d = s(66681),
        u = s(18514),
        h = s(74710),
        p = s(81888),
        m = s(13618),
        g = s(5603);
      class f {
        updateSelectedIcon(e) {
          (void 0 !== this.selectedIcon &&
            this.selectedIcon.classList.remove("active"),
            (this.selectedIcon = e),
            this.selectedIcon.classList.add("active"));
        }
        displayIcons(e, t) {
          const s = o.F.getItemsInCategory(r.n9.Icon, !1);
          ((0, n.RH)(this.iconsGrid, {
            key: "strings:colonistCommon.utils.emptyString",
          }),
            this.showStoreLinkElement());
          for (const i of s) {
            const s = e.some((e) => e.type == i.type),
              r = s ? "owned" : "header_profile_color_transparent",
              o = (0, n.zO)(this.iconsGrid, i.image, r);
            s
              ? (i.image == t && this.updateSelectedIcon(o),
                (0, n.G0)(o, () => {
                  (g.A.play(g.h.Click),
                    a.CA.sendGoogleAnalyticsEvent(
                      a.CA.Category.HeaderProfile,
                      a.CA.Label.HeaderProfileClickedChangeIcon,
                    ),
                    this.updateIcon(i.type));
                  const e = (0, h.dN)(
                    {
                      key: "strings:homePage.header.avatarSelector.avatarChanged",
                    },
                    { icon: i.name },
                  );
                  (null === d.OV ||
                    void 0 === d.OV ||
                    d.OV.showNotification(i.image, e),
                    this.selectIconAction());
                }))
              : (0, n.G0)(o, () => {
                  const e = {
                    key: "strings:homePage.header.storePurchaseIconPrompt",
                    options: { iconName: u.a7.t(i.name.key, i.name.options) },
                  };
                  l.r.create(
                    {
                      key: "strings:homePage.header.avatarSelector.youDoNotOwnThisItem",
                    },
                    e,
                    () => {
                      (0, m.Yf)(f.avatarStoreLink, !0, !0);
                    },
                    () => {},
                    !0,
                  );
                });
          }
        }
        showStoreLinkElement() {
          const e = "header_profile_selector_noicons",
            t = this.iconsContainer.getElementsByClassName(e);
          for (const e of t) e.remove();
          const s = (0, n.Le)(this.iconsContainer, e);
          (0, n.cE)(
            s,
            f.avatarStoreLink,
            { key: "strings:homePage.header.avatarSelector.getMoreAvatars" },
            "",
            "",
            !0,
          );
        }
        async updateIcon(e) {
          await c.a.updateIcon(e);
        }
        constructor(e, t, s) {
          ((this.iconsContainer = e),
            (this.iconsGrid = t),
            (this.selectIconAction = s),
            p._.registerChangeListener((e) => {
              null != e && this.displayIcons(e.items.icons, e.icon);
            }));
        }
      }
      f.avatarStoreLink = "/store#avatars";
      var y = s(78311),
        b = s(30506),
        v = s(34915);
      class S extends i.y {
        static openStoreLink() {
          const e = document.createElement("a");
          ((e.href = S.colorStoreLink),
            (e.target = "_blank"),
            (e.style.display = "none"),
            document.body.appendChild(e),
            e.click(),
            document.body.removeChild(e));
        }
        constructor(e, t) {
          (super(
            e,
            t,
            () => {},
            () => {},
            !0,
          ),
            (this.checkButton.id = "store-href"),
            (0, n.G0)(this.checkButton, () => {
              (g.A.play(g.h.Click), this.removePopup(), S.openStoreLink());
            }),
            this.show());
        }
      }
      S.colorStoreLink = "/store#colors";
      var k = s(63778);
      class C {
        setState(e) {
          ((this.userState = e), this.createColors());
        }
        async onColorSelect(e) {
          var t, s;
          if (
            (g.A.play(g.h.Click),
            await this.selectColorAction(e),
            1 == this.colorSelectorType)
          )
            return void this.setState({
              activeColor: e,
              availableColors:
                null !==
                  (s =
                    null === (t = p._.userState) || void 0 === t
                      ? void 0
                      : t.items.getAvailableColors()) && void 0 !== s
                  ? s
                  : [],
            });
          const i = {
              key: `strings:colonistCommon.playerColors.${b.h4.getEnumKey(e, k.DS)}`,
            },
            n = (0, h.dN)(
              {
                key: "strings:homePage.header.defaultColorSelector.colorChanged",
              },
              { color: i },
            ),
            r = v.j.getPlayerColorBuildings(e).settlement;
          d.OV.showNotification(r, n);
        }
        createColors() {
          ((0, n.RH)(this.colorsGrid, {
            key: "strings:colonistCommon.utils.emptyString",
          }),
            b.h4.loopEnums(k.DS, (e, t) => {
              t !== k.DS.None && this.createColorImage(t);
            }),
            this.showStoreLinkElement());
        }
        createColorImage(e) {
          const t = v.j.getPlayerColorBuildings(e).settlement,
            s = (0, n.zO)(this.colorsGrid, t);
          ((0, n.G0)(s, this.imageOnclick(e)), this.setColorImageStyling(e, s));
        }
        imageOnclick(e) {
          return this.canSelectColor(e)
            ? async () => await this.onColorSelect(e)
            : () => C.displayColorNotOwnedPopup(e);
        }
        canSelectColor(e) {
          return this.userState.availableColors.includes(e);
        }
        setColorImageStyling(e, t) {
          this.isColorUnavailable(e)
            ? t.classList.add("header_profile_color_transparent")
            : this.isColorActive(e) && t.classList.add("active");
        }
        isColorUnavailable(e) {
          return !this.canSelectColor(e) && e != k.DS.Black;
        }
        isColorActive(e) {
          return e == this.userState.activeColor;
        }
        static displayColorNotOwnedPopup(e) {
          const t = (0, h.dN)(
            { key: "strings:homePage.header.storePurchaseColorPrompt" },
            {
              color: {
                key: `strings:colonistCommon.playerColors.${b.h4.getEnumKey(e, k.DS)}`,
              },
            },
          );
          new S(
            {
              key: "strings:homePage.header.defaultColorSelector.youDoNotOwnThisColor",
            },
            e === k.DS.Black
              ? {
                  key: "strings:homePage.header.defaultColorSelector.getBlackColorForFree",
                }
              : t,
          );
        }
        showStoreLinkElement() {
          const e = "header_profile_selector_noicons",
            t = this.colorsContainer.getElementsByClassName(e);
          for (const e of t) e.remove();
          const s = (0, n.Le)(this.colorsContainer, e),
            i = (0, n.cE)(
              s,
              "",
              {
                key: "strings:homePage.header.defaultColorSelector.getMoreColors",
              },
              "",
            );
          (0, n.G0)(i, () => (0, m.Yf)(C.colorStoreLink, !0, !0), !0, !0);
        }
        constructor(e, t, s, i) {
          var n, r, o;
          ((this.colorsContainer = e),
            (this.colorsGrid = t),
            (this.selectColorAction = s),
            (this.colorSelectorType = null == i ? 0 : 1),
            this.setState({
              activeColor:
                null != i
                  ? i
                  : null === (n = p._.userState) || void 0 === n
                    ? void 0
                    : n.preferredColor,
              availableColors:
                null !==
                  (o =
                    null === (r = p._.userState) || void 0 === r
                      ? void 0
                      : r.items.getAvailableColors()) && void 0 !== o
                  ? o
                  : [],
            }));
        }
      }
      C.colorStoreLink = "/store#colors";
      var P = (function (e) {
        return (
          (e[(e.Avatar = 0)] = "Avatar"),
          (e[(e.Color = 1)] = "Color"),
          e
        );
      })({});
      class _ extends i.y {
        setTab(e) {
          if (((this.tab = e), 0 == this.tab))
            return (
              this.toggleButtonAvatar.classList.add("active"),
              this.toggleButtonColor.classList.remove("active"),
              this.avatarSelectorContainer.classList.remove("hidden"),
              void this.colorSelectorContainer.classList.add("hidden")
            );
          (this.toggleButtonColor.classList.add("active"),
            this.toggleButtonAvatar.classList.remove("active"),
            this.avatarSelectorContainer.classList.add("hidden"),
            this.colorSelectorContainer.classList.remove("hidden"));
        }
        createUsernameController(e) {
          new e.usernameController(
            void 0,
            void 0,
            () =>
              new _({ ...e, tab: this.tab, selectedColor: this.selectedColor }),
          ).show();
        }
        createUsernameEditor(e) {
          var t, s;
          const i =
              null === (t = p._.userState) || void 0 === t ? void 0 : t.icon,
            r =
              null != e
                ? e
                : null === (s = p._.userState) || void 0 === s
                  ? void 0
                  : s.username;
          if (null == i) return;
          if (null == r) return;
          const o = (0, n.Le)(
              this.body,
              "edit-profile-user-information-container",
            ),
            a = (0, n.Le)(o, "edit-profile-icon-username-container");
          ((0, n.zO)(a, i, "edit-profile-user-icon"),
            (0, n.n8)(
              a,
              {
                key: "strings:colonistCommon.utils.#buffer",
                options: { value: r },
              },
              "edit-profile-username",
              void 0,
              "H2",
            ),
            (0, n.zO)(o, y.am.Pencil, "edit-profile-edit-icon"),
            (0, n.G0)(o, () => {
              (this.editUsernameAction(), this.removePopup());
            }));
        }
        createTabToggle() {
          ((this.toggleContainer = (0, n.Le)(
            this.body,
            "toggle-container small-margins",
          )),
            (this.toggleButtonAvatar = (0, n.Le)(
              this.toggleContainer,
              "toggle-tab",
            )),
            (0, n.Wr)(
              this.toggleButtonAvatar,
              {
                key: "strings:storePage.sections.avatar.title",
                options: { context: "one" },
              },
              "",
            ),
            (0, n.G0)(this.toggleButtonAvatar, () => this.setTab(0)),
            (this.toggleButtonColor = (0, n.Le)(
              this.toggleContainer,
              "toggle-tab",
            )),
            (0, n.Wr)(
              this.toggleButtonColor,
              {
                key: "strings:storePage.sections.color.title",
                options: { context: "one" },
              },
              "",
            ),
            (0, n.G0)(this.toggleButtonColor, () => this.setTab(1)));
        }
        createAvatarSelector() {
          this.avatarSelectorContainer = (0, n.Le)(
            this.body,
            "header-profile-selector-container hidden",
          );
          const e = (0, n.Le)(
            this.avatarSelectorContainer,
            "header-profile-selector-grid",
          );
          new f(this.avatarSelectorContainer, e, () => this.removePopup());
        }
        createColorSelector(e) {
          this.colorSelectorContainer = (0, n.Le)(
            this.body,
            "header-profile-selector-container hidden",
          );
          const t = (0, n.Le)(
            this.colorSelectorContainer,
            "header-profile-selector-grid",
          );
          new C(this.colorSelectorContainer, t, this.selectColorAction, e);
        }
        constructor(e, t) {
          var s;
          (super(
            null != t ? t : { key: "strings:homePage.header.editProfile" },
            void 0,
            () => {},
            () => {},
            !0,
            { showXonHeader: !0 },
          ),
            (this.tab = 0),
            (this.editUsernameAction = () => this.createUsernameController(e)),
            (this.selectColorAction = async (t) => {
              ((this.selectedColor = t),
                await e.selectColorAction(t),
                this.removePopup());
            }),
            (this.selectedColor = e.selectedColor),
            this.removeFooter(),
            this.createUsernameEditor(e.username),
            this.createTabToggle(),
            this.createAvatarSelector(),
            this.createColorSelector(e.selectedColor),
            this.setTab(null !== (s = e.tab) && void 0 !== s ? s : 0),
            this.contentContainer.classList.add("popup-edit-profile"),
            this.body.classList.add("popup-edit-profile-body"),
            this.show());
        }
      }
    },
    76092: (e, t, s) => {
      "use strict";
      s.d(t, {
        Jd: () => o,
        Td: () => m,
        d5: () => y,
        dN: () => f,
        e3: () => l,
        eX: () => r,
        k0: () => n,
        kd: () => a,
        lB: () => b,
        lb: () => d,
        pi: () => g,
        s8: () => h,
        sG: () => c,
        tV: () => p,
        x: () => u,
      });
      var i = s(78311);
      i.hx;
      var n = (function (e) {
          return (
            (e[(e.StartedGame = 0)] = "StartedGame"),
            (e[(e.ClickedStore = 1)] = "ClickedStore"),
            (e[(e.FinishedGame = 2)] = "FinishedGame"),
            (e[(e.QuitMatchmakingQueue = 3)] = "QuitMatchmakingQueue"),
            (e[(e.StoreClickedPurchaseItem = 4)] = "StoreClickedPurchaseItem"),
            (e[(e.LobbyClickedStoreAd = 5)] = "LobbyClickedStoreAd"),
            (e[(e.MatchmakingFoundGame = 6)] = "MatchmakingFoundGame"),
            (e[(e.MatchmakingDisconnected = 7)] = "MatchmakingDisconnected"),
            (e[(e.MatchmakingForceMatched = 8)] = "MatchmakingForceMatched"),
            (e[(e.MatchmakingRequestRate = 9)] = "MatchmakingRequestRate"),
            (e[(e.FirstSignIn = 10)] = "FirstSignIn"),
            (e[(e.LobbyCTADefault = 11)] = "LobbyCTADefault"),
            (e[(e.LobbyCTAType1 = 12)] = "LobbyCTAType1"),
            (e[(e.LobbyCTAType2 = 13)] = "LobbyCTAType2"),
            (e[(e.LobbyCTAType3 = 14)] = "LobbyCTAType3"),
            (e[(e.ABTestSubscriptionDefault = 15)] =
              "ABTestSubscriptionDefault"),
            (e[(e.ABTestSubscription5D1v1 = 16)] = "ABTestSubscription5D1v1"),
            (e[(e.ABTestSubscription5D4p = 17)] = "ABTestSubscription5D4p"),
            (e[(e.ABTestSubscription5DAds = 18)] = "ABTestSubscription5DAds"),
            (e[(e.ABTestSubscription5DAICoaching = 19)] =
              "ABTestSubscription5DAICoaching"),
            (e[(e.ABTestSubscription5DBlock = 20)] =
              "ABTestSubscription5DBlock"),
            (e[(e.ABTestSubscription5DCheat = 21)] =
              "ABTestSubscription5DCheat"),
            (e[(e.ABTestSubscription5DExport = 22)] =
              "ABTestSubscription5DExport"),
            (e[(e.ABTestSubscription5DHistory = 23)] =
              "ABTestSubscription5DHistory"),
            (e[(e.ABTestSubscription5DLink = 24)] = "ABTestSubscription5DLink"),
            (e[(e.ABTestSubscription5DLiveStats = 25)] =
              "ABTestSubscription5DLiveStats"),
            (e[(e.ABTestSubscription5DPause = 26)] =
              "ABTestSubscription5DPause"),
            (e[(e.ABTestSubscription5DReplay = 27)] =
              "ABTestSubscription5DReplay"),
            (e[(e.ABTestSubscription5DRewards = 28)] =
              "ABTestSubscription5DRewards"),
            (e[(e.ABTestSubscription5DTrolls = 29)] =
              "ABTestSubscription5DTrolls"),
            (e[(e.ABTestSubscription1D1v1 = 30)] = "ABTestSubscription1D1v1"),
            (e[(e.ABTestSubscription1D4p = 31)] = "ABTestSubscription1D4p"),
            (e[(e.ABTestSubscription1DAds = 32)] = "ABTestSubscription1DAds"),
            (e[(e.ABTestSubscription1DAICoaching = 33)] =
              "ABTestSubscription1DAICoaching"),
            (e[(e.ABTestSubscription1DBlock = 34)] =
              "ABTestSubscription1DBlock"),
            (e[(e.ABTestSubscription1DCheat = 35)] =
              "ABTestSubscription1DCheat"),
            (e[(e.ABTestSubscription1DExport = 36)] =
              "ABTestSubscription1DExport"),
            (e[(e.ABTestSubscription1DHistory = 37)] =
              "ABTestSubscription1DHistory"),
            (e[(e.ABTestSubscription1DLink = 38)] = "ABTestSubscription1DLink"),
            (e[(e.ABTestSubscription1DLiveStats = 39)] =
              "ABTestSubscription1DLiveStats"),
            (e[(e.ABTestSubscription1DPause = 40)] =
              "ABTestSubscription1DPause"),
            (e[(e.ABTestSubscription1DReplay = 41)] =
              "ABTestSubscription1DReplay"),
            (e[(e.ABTestSubscription1DRewards = 42)] =
              "ABTestSubscription1DRewards"),
            (e[(e.ABTestSubscription1DTrolls = 43)] =
              "ABTestSubscription1DTrolls"),
            (e[(e.ABTestSubscriptionPriceDefault = 44)] =
              "ABTestSubscriptionPriceDefault"),
            (e[(e.ABTestSubsAll5D = 45)] = "ABTestSubsAll5D"),
            (e[(e.ABTestSubsAll9D = 46)] = "ABTestSubsAll9D"),
            (e[(e.ABTestSubsAll19D = 47)] = "ABTestSubsAll19D"),
            (e[(e.ABTestSubsAll29D = 48)] = "ABTestSubsAll29D"),
            (e[(e.ABTestSubsExpansion5D = 49)] = "ABTestSubsExpansion5D"),
            (e[(e.ABTestSubsExpansion9D = 50)] = "ABTestSubsExpansion9D"),
            (e[(e.ABTestSubsExpansion19D = 51)] = "ABTestSubsExpansion19D"),
            (e[(e.ABTestSubsExpansion29D = 52)] = "ABTestSubsExpansion29D"),
            (e[(e.ABTestSubsMap5D = 53)] = "ABTestSubsMap5D"),
            (e[(e.ABTestSubsMap9D = 54)] = "ABTestSubsMap9D"),
            (e[(e.ABTestSubsMap19D = 55)] = "ABTestSubsMap19D"),
            (e[(e.ABTestSubsMap29D = 56)] = "ABTestSubsMap29D"),
            (e[(e.ABTestSubsRanked5D = 57)] = "ABTestSubsRanked5D"),
            (e[(e.ABTestSubsRanked9D = 58)] = "ABTestSubsRanked9D"),
            (e[(e.ABTestSubsRanked19D = 59)] = "ABTestSubsRanked19D"),
            (e[(e.ABTestSubsRanked29D = 60)] = "ABTestSubsRanked29D"),
            (e[(e.ABTestSubsExpMap5D = 61)] = "ABTestSubsExpMap5D"),
            (e[(e.ABTestSubsExpMap9D = 62)] = "ABTestSubsExpMap9D"),
            (e[(e.ABTestSubsExpMap19D = 63)] = "ABTestSubsExpMap19D"),
            (e[(e.ABTestSubsExpMap29D = 64)] = "ABTestSubsExpMap29D"),
            (e[(e.ABTestSubs2Ranked4D = 65)] = "ABTestSubs2Ranked4D"),
            (e[(e.ABTestSubs2Ranked8D = 66)] = "ABTestSubs2Ranked8D"),
            (e[(e.ABTestSubs2Ranked14D = 67)] = "ABTestSubs2Ranked14D"),
            (e[(e.ABTestSubs2Ranked19D = 68)] = "ABTestSubs2Ranked19D"),
            (e[(e.ABTestSubs2All8D = 69)] = "ABTestSubs2All8D"),
            (e[(e.ABTestSubs2All14D = 70)] = "ABTestSubs2All14D"),
            (e[(e.ABTestSubs2All19D = 71)] = "ABTestSubs2All19D"),
            (e[(e.ABTestSubs2All24D = 72)] = "ABTestSubs2All24D"),
            (e[(e.ABTestCTADefault = 73)] = "ABTestCTADefault"),
            (e[(e.ABTestCTA1 = 74)] = "ABTestCTA1"),
            (e[(e.ABTestCTA2 = 75)] = "ABTestCTA2"),
            (e[(e.ABTestCTA3 = 76)] = "ABTestCTA3"),
            (e[(e.ABTestCTA4 = 77)] = "ABTestCTA4"),
            (e[(e.ABTestCTA5 = 78)] = "ABTestCTA5"),
            (e[(e.ABTestCTA6 = 79)] = "ABTestCTA6"),
            (e[(e.ABTestCTA7 = 80)] = "ABTestCTA7"),
            (e[(e.ABTestCTA8 = 81)] = "ABTestCTA8"),
            (e[(e.ABTestCTA9 = 82)] = "ABTestCTA9"),
            (e[(e.ABTestCTA10 = 83)] = "ABTestCTA10"),
            (e[(e.ABTestCTA11 = 84)] = "ABTestCTA11"),
            (e[(e.ABTestSubs3Ranked699 = 86)] = "ABTestSubs3Ranked699"),
            (e[(e.ABTestSubs3Ranked899 = 87)] = "ABTestSubs3Ranked899"),
            (e[(e.ABTestSubs3Ranked1099 = 88)] = "ABTestSubs3Ranked1099"),
            (e[(e.ABTestSubs3Ranked1299 = 89)] = "ABTestSubs3Ranked1299"),
            (e[(e.ABTestSubs3Ranked1499 = 90)] = "ABTestSubs3Ranked1499"),
            (e[(e.ABTestSubs3All1899 = 91)] = "ABTestSubs3All1899"),
            (e[(e.ABTestSubs3All2099 = 92)] = "ABTestSubs3All2099"),
            (e[(e.ABTestSubs3All2299 = 93)] = "ABTestSubs3All2299"),
            (e[(e.ABTestSubs3All2499 = 94)] = "ABTestSubs3All2499"),
            (e[(e.ABTestSubs3All2699 = 95)] = "ABTestSubs3All2699"),
            (e[(e.MatchmakingSkillGapMax = 96)] = "MatchmakingSkillGapMax"),
            (e[(e.MatchmakingSkillStandardDeviation = 97)] =
              "MatchmakingSkillStandardDeviation"),
            (e[(e.MatchmakingPercentileGapMax = 98)] =
              "MatchmakingPercentileGapMax"),
            (e[(e.MatchmakingPercentileStandardDeviation = 99)] =
              "MatchmakingPercentileStandardDeviation"),
            (e[(e.ABTestDefaultYearly = 100)] = "ABTestDefaultYearly"),
            (e[(e.ABTestDefaultMonthly = 101)] = "ABTestDefaultMonthly"),
            (e[(e.ABTestCancelPurchaseActive = 102)] =
              "ABTestCancelPurchaseActive"),
            (e[(e.ABTestCancelPurcahseInactive = 103)] =
              "ABTestCancelPurcahseInactive"),
            (e[(e.ABTestCheckoutBackButtonActive = 104)] =
              "ABTestCheckoutBackButtonActive"),
            (e[(e.ABTestCheckoutBackButtonInactive = 105)] =
              "ABTestCheckoutBackButtonInactive"),
            (e[(e.ABTestClickAnalytics = 106)] = "ABTestClickAnalytics"),
            (e[(e.PageVisit = 107)] = "PageVisit"),
            (e[(e.ABTestImpressionAnalytics = 108)] =
              "ABTestImpressionAnalytics"),
            (e[(e.RankedDemotion = 109)] = "RankedDemotion"),
            (e[(e.RankedPromotion = 110)] = "RankedPromotion"),
            (e[(e.StartPreRollCalled = 111)] = "StartPreRollCalled"),
            (e[(e.VideoAdsCalled = 112)] = "VideoAdsCalled"),
            (e[(e.VideoAdsComplete = 113)] = "VideoAdsComplete"),
            (e[(e.VideoAdsError = 114)] = "VideoAdsError"),
            (e[(e.VideoAdsHidden = 115)] = "VideoAdsHidden"),
            (e[(e.H5AdsCalled = 116)] = "H5AdsCalled"),
            (e[(e.H5AdsViewed = 117)] = "H5AdsViewed"),
            (e[(e.H5AdsDismissed = 118)] = "H5AdsDismissed"),
            (e[(e.H5AdsError = 119)] = "H5AdsError"),
            (e[(e.MatchmakingEnteredQueue = 120)] = "MatchmakingEnteredQueue"),
            (e[(e.MatchmakingFailedToWatchVideoAd = 121)] =
              "MatchmakingFailedToWatchVideoAd"),
            (e[(e.MatchmakingServerRequestToStartGame = 122)] =
              "MatchmakingServerRequestToStartGame"),
            (e[(e.MatchmakingServerFailedToStartGame = 123)] =
              "MatchmakingServerFailedToStartGame"),
            (e[(e.DiscordActivityAuthError = 124)] =
              "DiscordActivityAuthError"),
            (e[(e.ChannelListLength = 125)] = "ChannelListLength"),
            (e[(e.UserChannelLength = 126)] = "UserChannelLength"),
            (e[(e.PremiumRoomEnabled = 127)] = "PremiumRoomEnabled"),
            (e[(e.PremiumRoomStarted = 128)] = "PremiumRoomStarted"),
            (e[(e.GameCreateTrade = 129)] = "GameCreateTrade"),
            (e[(e.GamePassedTurn = 130)] = "GamePassedTurn"),
            (e[(e.GameClickedDice = 131)] = "GameClickedDice"),
            (e[(e.GameBuiltCity = 132)] = "GameBuiltCity"),
            (e[(e.InitialPipCount = 133)] = "InitialPipCount"),
            (e[(e.CopiedRoomLink = 134)] = "CopiedRoomLink"),
            (e[(e.GameBoughtDevCard = 135)] = "GameBoughtDevCard"),
            (e[(e.GameUsedHoverActions = 136)] = "GameUsedHoverActions"),
            (e[(e.ClickedChangeMobileOrientation = 137)] =
              "ClickedChangeMobileOrientation"),
            (e[(e.InteractedWithLandingPageHowToPlaySection = 138)] =
              "InteractedWithLandingPageHowToPlaySection"),
            (e[(e.LostWebGLContext = 139)] = "LostWebGLContext"),
            (e[(e.VLIAdFailedToLoad = 140)] = "VLIAdFailedToLoad"),
            (e[(e.UserAccessedLog = 141)] = "UserAccessedLog"),
            (e[(e.UserAccessedChat = 142)] = "UserAccessedChat"),
            (e[(e.UserNavigationPlay = 143)] = "UserNavigationPlay"),
            (e[(e.UserNavigationLobby = 144)] = "UserNavigationLobby"),
            (e[(e.UserSceneChange = 145)] = "UserSceneChange"),
            (e[(e.UserCopiedLink = 146)] = "UserCopiedLink"),
            (e[(e.BeginnerPlacedRoad = 147)] = "BeginnerPlacedRoad"),
            (e[(e.BeginnerPlacedSettlement = 148)] =
              "BeginnerPlacedSettlement"),
            (e[(e.BeginnerModeFirstRoadUnlocked = 149)] =
              "BeginnerModeFirstRoadUnlocked"),
            (e[(e.BeginnerModeDiceUnlocked = 151)] =
              "BeginnerModeDiceUnlocked"),
            (e[(e.BeginnerModeSecondRoadUnlocked = 152)] =
              "BeginnerModeSecondRoadUnlocked"),
            (e[(e.BeginnerModeTradeUnlocked = 153)] =
              "BeginnerModeTradeUnlocked"),
            (e[(e.BeginnerModeSettlementUnlocked = 154)] =
              "BeginnerModeSettlementUnlocked"),
            (e[(e.BeginnerModeCityUnlocked = 155)] =
              "BeginnerModeCityUnlocked"),
            (e[(e.BeginnerModeSecondCityUnlocked = 156)] =
              "BeginnerModeSecondCityUnlocked"),
            (e[(e.BeginnerModeClickedNextLevel = 157)] =
              "BeginnerModeClickedNextLevel"),
            (e[(e.BeginnerModeLevel1 = 158)] = "BeginnerModeLevel1"),
            (e[(e.BeginnerModeLevel2 = 159)] = "BeginnerModeLevel2"),
            (e[(e.MobileGameStarted = 160)] = "MobileGameStarted"),
            (e[(e.MobileGameUserInteractedWithFeedView = 161)] =
              "MobileGameUserInteractedWithFeedView"),
            (e[(e.MobileGameUserPausedGame = 162)] =
              "MobileGameUserPausedGame"),
            (e[(e.MobileGameUserEnteredSettings = 163)] =
              "MobileGameUserEnteredSettings"),
            (e[(e.MobileGameUserCompletedGame = 164)] =
              "MobileGameUserCompletedGame"),
            (e[(e.MobileGameUserOpenedRulebook = 165)] =
              "MobileGameUserOpenedRulebook"),
            (e[(e.MobileGameUserLeftGame = 166)] = "MobileGameUserLeftGame"),
            (e[(e.BeginnerModeSuggestedOnMultiplayerClick = 167)] =
              "BeginnerModeSuggestedOnMultiplayerClick"),
            (e[(e.BeginnerModeStartedThroughSuggestion = 168)] =
              "BeginnerModeStartedThroughSuggestion"),
            (e[(e.EndGameReturnToMapButton = 191)] =
              "EndGameReturnToMapButton"),
            (e[(e.Replay = 180)] = "Replay"),
            (e[(e.EndGameShareButton = 169)] = "EndGameShareButton"),
            (e[(e.VideoAdsEmpty = 170)] = "VideoAdsEmpty"),
            (e[(e.VideoAdsBlocked = 171)] = "VideoAdsBlocked"),
            (e[(e.VideoAdsNeverLoaded = 172)] = "VideoAdsNeverLoaded"),
            (e[(e.VideoAdsSkipped = 173)] = "VideoAdsSkipped"),
            (e[(e.ClickedJoinColonistDiscordCTA = 174)] =
              "ClickedJoinColonistDiscordCTA"),
            (e[(e.ClickedOfficialDiscordServerLink = 175)] =
              "ClickedOfficialDiscordServerLink"),
            (e[(e.AcceptedJoinOurDiscordPopup = 176)] =
              "AcceptedJoinOurDiscordPopup"),
            (e[(e.EndGameShareTitle = 177)] = "EndGameShareTitle"),
            (e[(e.MobileUserSwitchedApp = 178)] = "MobileUserSwitchedApp"),
            (e[(e.UserSentSuspiciousMessage = 179)] =
              "UserSentSuspiciousMessage"),
            (e[(e.ReplayClickedViewFromProfileGameHistory = 185)] =
              "ReplayClickedViewFromProfileGameHistory"),
            (e[(e.ReplayClickedChangePerspective = 186)] =
              "ReplayClickedChangePerspective"),
            (e[(e.ReplayClickedCreateShareableLink = 187)] =
              "ReplayClickedCreateShareableLink"),
            (e[(e.ReplayClickedOpenStats = 192)] = "ReplayClickedOpenStats"),
            (e[(e.ReplayControlsFirstInteraction = 193)] =
              "ReplayControlsFirstInteraction"),
            (e[(e.JoinedRoom = 181)] = "JoinedRoom"),
            (e[(e.BeginnerModeClickedRetry = 182)] =
              "BeginnerModeClickedRetry"),
            (e[(e.RespondToFriendRoomInvite = 183)] =
              "RespondToFriendRoomInvite"),
            (e[(e.CreateFriendRoomInvite = 184)] = "CreateFriendRoomInvite"),
            (e[(e.ClickedInviteFriendButton = 201)] =
              "ClickedInviteFriendButton"),
            (e[(e.ProfilePageVisitSection = 188)] = "ProfilePageVisitSection"),
            (e[(e.ABTestVeteranAgreedOnDiscount = 189)] =
              "ABTestVeteranAgreedOnDiscount"),
            (e[(e.ABTestVeteranRejectedDiscount = 190)] =
              "ABTestVeteranRejectedDiscount"),
            (e[(e.DiscordPopupKeepPlayingOnWeb = 194)] =
              "DiscordPopupKeepPlayingOnWeb"),
            (e[(e.EndGameReplayAPIDelay = 195)] = "EndGameReplayAPIDelay"),
            (e[(e.GiftingFlowAnalytic = 196)] = "GiftingFlowAnalytic"),
            (e[(e.SelectedGiftTier = 197)] = "SelectedGiftTier"),
            (e[(e.CatanMasterpieceAdClicks = 198)] =
              "CatanMasterpieceAdClicks"),
            (e[(e.SocialMediaFooterLink = 199)] = "SocialMediaFooterLink"),
            (e[(e.SocketStatsAfterGame = 200)] = "SocketStatsAfterGame"),
            (e[(e.ABTestRoomLifecycleData = 202)] = "ABTestRoomLifecycleData"),
            (e[(e.ReferralAnalytics = 203)] = "ReferralAnalytics"),
            (e[(e.ABTestBeginnerMode = 204)] = "ABTestBeginnerMode"),
            (e[(e.ReactivationAnalytics = 205)] = "ReactivationAnalytics"),
            (e[(e.Friends = 206)] = "Friends"),
            (e[(e.RateChatExperience = 207)] = "RateChatExperience"),
            (e[(e.EndGameWasDiceUnfair = 208)] = "EndGameWasDiceUnfair"),
            (e[(e.SocketSequenceError = 209)] = "SocketSequenceError"),
            (e[(e.MatchmakingPlayButtonClicked = 210)] =
              "MatchmakingPlayButtonClicked"),
            (e[(e.MatchmakingPlayButtonTimeToFirstClick = 211)] =
              "MatchmakingPlayButtonTimeToFirstClick"),
            (e[(e.MatchmakingUITimeToFirstQueueStart = 212)] =
              "MatchmakingUITimeToFirstQueueStart"),
            (e[(e.MatchmakingUIPageView = 213)] = "MatchmakingUIPageView"),
            (e[(e.NotificationAnalytics = 214)] = "NotificationAnalytics"),
            (e[(e.ClickedLandingPagePlayWithFriends = 215)] =
              "ClickedLandingPagePlayWithFriends"),
            (e[(e.ClickedLandingPageExploreModes = 216)] =
              "ClickedLandingPageExploreModes"),
            (e[(e.ClickedLandingPageOpenApp = 217)] =
              "ClickedLandingPageOpenApp"),
            (e[(e.ClickedLandingPagePlayOnMobileWeb = 218)] =
              "ClickedLandingPagePlayOnMobileWeb"),
            (e[(e.ClickedHeaderLogin = 219)] = "ClickedHeaderLogin"),
            (e[(e.ClickedLandingPageLanguageSelector = 220)] =
              "ClickedLandingPageLanguageSelector"),
            (e[(e.ClickedLandingPageFooterRules = 221)] =
              "ClickedLandingPageFooterRules"),
            (e[(e.ClickedLandingPageFooterPrivacy = 222)] =
              "ClickedLandingPageFooterPrivacy"),
            (e[(e.UserLoggedIn = 223)] = "UserLoggedIn"),
            (e[(e.GetReplayDataFromGameId = 224)] = "GetReplayDataFromGameId"),
            e
          );
        })({}),
        r = (function (e) {
          return (
            (e[(e.Game = 0)] = "Game"),
            (e[(e.Store = 1)] = "Store"),
            (e[(e.Matchmaking = 2)] = "Matchmaking"),
            (e[(e.Lobby = 3)] = "Lobby"),
            (e[(e.MatchmakingUnrankedClassic4P = 4)] =
              "MatchmakingUnrankedClassic4P"),
            (e[(e.MatchmakingUnrankedClassic1v1 = 5)] =
              "MatchmakingUnrankedClassic1v1"),
            (e[(e.MatchmakingUnrankedClassicFreeMapRotation = 6)] =
              "MatchmakingUnrankedClassicFreeMapRotation"),
            (e[(e.MainFunnel = 7)] = "MainFunnel"),
            (e[(e.LobbyCTA = 8)] = "LobbyCTA"),
            (e[(e.ABTestSubscription = 9)] = "ABTestSubscription"),
            (e[(e.ABTestSubscriptionPrice = 10)] = "ABTestSubscriptionPrice"),
            (e[(e.MatchmakingRankedClassic1v1 = 11)] =
              "MatchmakingRankedClassic1v1"),
            (e[(e.ABTestSubscriptionPrice2 = 12)] = "ABTestSubscriptionPrice2"),
            (e[(e.ABTestCTA = 13)] = "ABTestCTA"),
            (e[(e.MatchmakingRankedClassic4P = 14)] =
              "MatchmakingRankedClassic4P"),
            (e[(e.ABTestSubscriptionPrice3 = 16)] = "ABTestSubscriptionPrice3"),
            (e[(e.ABTestDefaultYearly = 17)] = "ABTestDefaultYearly"),
            (e[(e.AdblockActivity = 18)] = "AdblockActivity"),
            (e[(e.ABTestCancelPurchase = 19)] = "ABTestCancelPurchase"),
            (e[(e.ABTestCheckoutBackButton = 20)] = "ABTestCheckoutBackButton"),
            (e[(e.ABTestClickAnalytics = 21)] = "ABTestClickAnalytics"),
            (e[(e.PageVisit = 22)] = "PageVisit"),
            (e[(e.ABTestImpressionAnalytics = 23)] =
              "ABTestImpressionAnalytics"),
            (e[(e.Ranked = 24)] = "Ranked"),
            (e[(e.MatchmakingRankedCitiesAndKnights4P = 25)] =
              "MatchmakingRankedCitiesAndKnights4P"),
            (e[(e.AdsPerformance = 26)] = "AdsPerformance"),
            (e[(e.AuthError = 27)] = "AuthError"),
            (e[(e.Channel = 28)] = "Channel"),
            (e[(e.PremiumRoom = 29)] = "PremiumRoom"),
            (e[(e.WebGL = 30)] = "WebGL"),
            (e[(e.MobileAnalytics = 31)] = "MobileAnalytics"),
            (e[(e.Virality = 32)] = "Virality"),
            (e[(e.DiscordServer = 33)] = "DiscordServer"),
            (e[(e.Chat = 34)] = "Chat"),
            (e[(e.Room = 35)] = "Room"),
            (e[(e.Replay = 36)] = "Replay"),
            (e[(e.Profile = 37)] = "Profile"),
            (e[(e.DiscordConvertToWeb = 38)] = "DiscordConvertToWeb"),
            (e[(e.GiftMembershipOverlay = 39)] = "GiftMembershipOverlay"),
            (e[(e.ABTestNoTrollsOption = 40)] = "ABTestNoTrollsOption"),
            (e[(e.Socket = 41)] = "Socket"),
            (e[(e.ABTestHighKarmaName = 42)] = "ABTestHighKarmaName"),
            (e[(e.Footer = 43)] = "Footer"),
            (e[(e.ABTestPushNotificationsPopup = 44)] =
              "ABTestPushNotificationsPopup"),
            (e[(e.ShareActivityLink = 45)] = "ShareActivityLink"),
            (e[(e.ABTestBeginnerMode = 46)] = "ABTestBeginnerMode"),
            (e[(e.ABTestReferralProgram = 47)] = "ABTestReferralProgram"),
            (e[(e.ABTestDiscordMainCTA = 48)] = "ABTestDiscordMainCTA"),
            (e[(e.BotShareActivityLink = 49)] = "BotShareActivityLink"),
            (e[(e.UserActionAgainstDiscordBot = 50)] =
              "UserActionAgainstDiscordBot"),
            (e[(e.BotShareActivityLinkSent = 51)] = "BotShareActivityLinkSent"),
            (e[(e.ABTestRedeemFreeAvatar = 52)] = "ABTestRedeemFreeAvatar"),
            (e[(e.ABTestShareActivityLinkText = 53)] =
              "ABTestShareActivityLinkText"),
            (e[(e.ABTestShareGameResults = 54)] = "ABTestShareGameResults"),
            (e[(e.ABTestBotEndGameRankedCTA = 55)] =
              "ABTestBotEndGameRankedCTA"),
            (e[(e.ABTestPushReferrersToInviteMorePlayers = 56)] =
              "ABTestPushReferrersToInviteMorePlayers"),
            (e[(e.MatchmakingUnrankedShuffle = 57)] =
              "MatchmakingUnrankedShuffle"),
            (e[(e.NotificationPanel = 58)] = "NotificationPanel"),
            (e[(e.LandingPage = 59)] = "LandingPage"),
            (e[(e.Header = 60)] = "Header"),
            (e[(e.Auth = 61)] = "Auth"),
            (e[(e.MobilePushNotificationSent = 62)] =
              "MobilePushNotificationSent"),
            (e[(e.MobilePushNotificationOpened = 63)] =
              "MobilePushNotificationOpened"),
            (e[(e.WebStoreReferralProgramReferFriends = 64)] =
              "WebStoreReferralProgramReferFriends"),
            (e[(e.MobileStoreReferralProgramReferFriends = 65)] =
              "MobileStoreReferralProgramReferFriends"),
            (e[(e.ABTestReferralProgramWebMobile = 66)] =
              "ABTestReferralProgramWebMobile"),
            e
          );
        })({}),
        o = (function (e) {
          return (
            (e[(e.AdblockPopupDisableAction = 1)] =
              "AdblockPopupDisableAction"),
            (e[(e.AdblockPopupBecomeMemberAction = 2)] =
              "AdblockPopupBecomeMemberAction"),
            (e[(e.AdblockPopupContinueAction = 3)] =
              "AdblockPopupContinueAction"),
            (e[(e.InGameRemoveAdButtonLeft = 4)] = "InGameRemoveAdButtonLeft"),
            (e[(e.InGameRemoveAdButtonRight = 5)] =
              "InGameRemoveAdButtonRight"),
            (e[(e.PopupMembershipIncentiveSubscription = 6)] =
              "PopupMembershipIncentiveSubscription"),
            (e[(e.PopupMembershipIncentiveAvatars = 7)] =
              "PopupMembershipIncentiveAvatars"),
            (e[(e.PopupMembershipIncentiveMaps = 8)] =
              "PopupMembershipIncentiveMaps"),
            (e[(e.PopupMembershipIncentiveAllItems = 9)] =
              "PopupMembershipIncentiveAllItems"),
            (e[(e.PopupMembershipIncentiveSubscriptionRoom = 10)] =
              "PopupMembershipIncentiveSubscriptionRoom"),
            (e[(e.PopupMembershipIncentiveAvatarsRoom = 11)] =
              "PopupMembershipIncentiveAvatarsRoom"),
            (e[(e.PopupMembershipIncentiveMapsRoom = 12)] =
              "PopupMembershipIncentiveMapsRoom"),
            (e[(e.PopupMembershipIncentiveAllItemsRoom = 13)] =
              "PopupMembershipIncentiveAllItemsRoom"),
            (e[(e.PopupMembershipIncentiveExpansions = 14)] =
              "PopupMembershipIncentiveExpansions"),
            (e[(e.PopupMembershipIncentiveExpansionsRoom = 15)] =
              "PopupMembershipIncentiveExpansionsRoom"),
            (e[(e.PopupMembershipIncentiveEndgame = 16)] =
              "PopupMembershipIncentiveEndgame"),
            (e[(e.ItemBoxMembershipEndgame = 18)] = "ItemBoxMembershipEndgame"),
            (e[(e.StoreMembershipPlusMonthly = 19)] =
              "StoreMembershipPlusMonthly"),
            (e[(e.StoreMembershipPremiumMonthly = 20)] =
              "StoreMembershipPremiumMonthly"),
            (e[(e.StoreMembershipEliteMonthly = 21)] =
              "StoreMembershipEliteMonthly"),
            (e[(e.StoreMembershipPlusYearly = 22)] =
              "StoreMembershipPlusYearly"),
            (e[(e.StoreMembershipPremiumYearly = 23)] =
              "StoreMembershipPremiumYearly"),
            (e[(e.StoreMembershipEliteYearly = 24)] =
              "StoreMembershipEliteYearly"),
            (e[(e.PopupMembershipIncentiveVisitStoreMonthly = 25)] =
              "PopupMembershipIncentiveVisitStoreMonthly"),
            (e[(e.PopupMembershipIncentiveVisitStoreYearly = 26)] =
              "PopupMembershipIncentiveVisitStoreYearly"),
            (e[(e.PopupMembershipIncentiveVisitCheckoutYearly = 27)] =
              "PopupMembershipIncentiveVisitCheckoutYearly"),
            (e[(e.PopupMembershipIncentiveVisitCheckoutMonthly = 28)] =
              "PopupMembershipIncentiveVisitCheckoutMonthly"),
            (e[(e.LobbyAdViewMemberships = 29)] = "LobbyAdViewMemberships"),
            (e[(e.LobbyAdViewLeaderboards = 30)] = "LobbyAdViewLeaderboards"),
            (e[(e.ABTestImplementGifLeaderboards = 31)] =
              "ABTestImplementGifLeaderboards"),
            (e[(e.ABTestImplementGifMemberships = 32)] =
              "ABTestImplementGifMemberships"),
            (e[(e.LobbyAdViewCatanCommunityCashTournament = 33)] =
              "LobbyAdViewCatanCommunityCashTournament"),
            (e[(e.LobbyAdViewSignIn = 34)] = "LobbyAdViewSignIn"),
            (e[(e.LobbyAdDownloadMobile = 35)] = "LobbyAdDownloadMobile"),
            (e[(e.LobbyAdDiscordLogin = 36)] = "LobbyAdDiscordLogin"),
            (e[(e.PopupMembershipIncentiveFullScreen = 37)] =
              "PopupMembershipIncentiveFullScreen"),
            (e[(e.LobbyAdHire = 38)] = "LobbyAdHire"),
            (e[(e.RoomKarmaFilterIcon = 39)] = "RoomKarmaFilterIcon"),
            (e[(e.RoomBecomeAMemberButton = 40)] = "RoomBecomeAMemberButton"),
            (e[(e.RoomPremiumItemPopupBecomeAMemberButton = 41)] =
              "RoomPremiumItemPopupBecomeAMemberButton"),
            (e[(e.RoomPremiumItemInfoMessageBecomeAMemberText = 42)] =
              "RoomPremiumItemInfoMessageBecomeAMemberText"),
            (e[(e.StoreMembershipHoliday2023AllAccessPass = 43)] =
              "StoreMembershipHoliday2023AllAccessPass"),
            (e[(e.PopupMatchmakingHolidaySale = 44)] =
              "PopupMatchmakingHolidaySale"),
            (e[(e.RoomHolidaySale = 45)] = "RoomHolidaySale"),
            (e[(e.LobbyAdFreeColor = 46)] = "LobbyAdFreeColor"),
            (e[(e.LobbyAdPlayCitiesAndKnights = 47)] =
              "LobbyAdPlayCitiesAndKnights"),
            (e[(e.LobbyAdPlay1v1 = 48)] = "LobbyAdPlay1v1"),
            (e[(e.EndGameShareButton = 49)] = "EndGameShareButton"),
            (e[(e.InviteFriendButtonCenter = 50)] = "InviteFriendButtonCenter"),
            (e[(e.InviteFriendButtonLeft = 51)] = "InviteFriendButtonLeft"),
            (e[(e.EndGameShareButtonHover = 52)] = "EndGameShareButtonHover"),
            (e[(e.EndGameShareCopyButton = 53)] = "EndGameShareCopyButton"),
            (e[(e.EndGameShareDownloadButton = 54)] =
              "EndGameShareDownloadButton"),
            (e[(e.EndGameShareDiscordButton = 55)] =
              "EndGameShareDiscordButton"),
            (e[(e.EndGameReplayEndgameButton = 56)] =
              "EndGameReplayEndgameButton"),
            (e[(e.MainPageRankedSubscribeCTA = 57)] =
              "MainPageRankedSubscribeCTA"),
            (e[(e.HeaderCoinPlusButton = 58)] = "HeaderCoinPlusButton"),
            (e[(e.PopupMembershipIncentiveDiscordGeneral = 59)] =
              "PopupMembershipIncentiveDiscordGeneral"),
            (e[(e.PopupMembershipIncentivesRankedCitiesAndKnights = 60)] =
              "PopupMembershipIncentivesRankedCitiesAndKnights"),
            (e[(e.LeaderboardYoutubeSubscribe = 61)] =
              "LeaderboardYoutubeSubscribe"),
            (e[(e.InviteFriendButtonLeftAnimated = 62)] =
              "InviteFriendButtonLeftAnimated"),
            (e[(e.StartedBeginnerModeGame = 63)] = "StartedBeginnerModeGame"),
            (e[(e.Started1v1EasyBotGame = 64)] = "Started1v1EasyBotGame"),
            (e[(e.TShirtSurvey = 65)] = "TShirtSurvey"),
            (e[(e.RoomAddFriendAction = 66)] = "RoomAddFriendAction"),
            (e[(e.LobbyAdRewardsProgram = 67)] = "LobbyAdRewardsProgram"),
            (e[(e.HomepageRankedInfoIcon = 68)] = "HomepageRankedInfoIcon"),
            (e[(e.MatchmakingPopupRankedCitiesAndKnightsSubscribeCTA = 69)] =
              "MatchmakingPopupRankedCitiesAndKnightsSubscribeCTA"),
            (e[(e.LandingPageBecomeAMemberButton = 70)] =
              "LandingPageBecomeAMemberButton"),
            (e[(e.MobileLandingPageBecomeAMemberBanner = 71)] =
              "MobileLandingPageBecomeAMemberBanner"),
            (e[(e.MobileProfilePageBecomeAMemberBanner = 72)] =
              "MobileProfilePageBecomeAMemberBanner"),
            (e[(e.MobileLeaderboardPageBannerQualifier = 73)] =
              "MobileLeaderboardPageBannerQualifier"),
            (e[(e.LobbyAdChampionship25 = 74)] = "LobbyAdChampionship25"),
            (e[(e.PopupMembershipIncentivesShuffleQueue = 75)] =
              "PopupMembershipIncentivesShuffleQueue"),
            (e[(e.LobbyAdShuffle = 76)] = "LobbyAdShuffle"),
            (e[(e.MobileLeaderboardPageBannerShuffle = 77)] =
              "MobileLeaderboardPageBannerShuffle"),
            (e[(e.MobileLandingPageShuffleBanner = 78)] =
              "MobileLandingPageShuffleBanner"),
            (e[(e.MobileProfilePageShuffleBanner = 79)] =
              "MobileProfilePageShuffleBanner"),
            (e[(e.NotificationPanelShuffleClickPlayNow = 80)] =
              "NotificationPanelShuffleClickPlayNow"),
            e
          );
        })({}),
        a = (function (e) {
          return (
            (e[(e.AdblockPopupFormal = 1)] = "AdblockPopupFormal"),
            (e[(e.AdblockPopupSupportive = 2)] = "AdblockPopupSupportive"),
            (e[(e.AdblockPopupHumorous = 3)] = "AdblockPopupHumorous"),
            (e[(e.AdblockPopupDramatic = 4)] = "AdblockPopupDramatic"),
            (e[(e.AdblockPopupTypeHard = 5)] = "AdblockPopupTypeHard"),
            (e[(e.AdblockPopupTypeSoft = 6)] = "AdblockPopupTypeSoft"),
            (e[(e.ABTestShowLeaderboardPointBleedPopup = 7)] =
              "ABTestShowLeaderboardPointBleedPopup"),
            e
          );
        })({}),
        c = (function (e) {
          return (
            (e[(e.Google = 1)] = "Google"),
            (e[(e.Discord = 2)] = "Discord"),
            (e[(e.Apple = 3)] = "Apple"),
            e
          );
        })({}),
        l = (function (e) {
          return (
            (e[(e.EndGame = 1)] = "EndGame"),
            (e[(e.Homepage = 2)] = "Homepage"),
            (e[(e.QuitGame = 3)] = "QuitGame"),
            (e[(e.BeginnerModeEnd = 4)] = "BeginnerModeEnd"),
            e
          );
        })({}),
        d = (function (e) {
          return (
            (e[(e.ClickedCreateRoom = 1)] = "ClickedCreateRoom"),
            (e[(e.ClickedLobbyRoom = 2)] = "ClickedLobbyRoom"),
            (e[(e.EnteredRoomLink = 3)] = "EnteredRoomLink"),
            e
          );
        })({}),
        u = (function (e) {
          return (
            (e[(e.EndGame = 0)] = "EndGame"),
            (e[(e.DirectLink = 1)] = "DirectLink"),
            (e[(e.ShareableLink = 2)] = "ShareableLink"),
            e
          );
        })({}),
        h = (function (e) {
          return (
            (e[(e.Store = 0)] = "Store"),
            (e[(e.PlayerProfile = 1)] = "PlayerProfile"),
            (e[(e.ProfileFriendsTab = 2)] = "ProfileFriendsTab"),
            (e[(e.InGame = 3)] = "InGame"),
            (e[(e.LobbyAd = 4)] = "LobbyAd"),
            (e[(e.Room = 5)] = "Room"),
            (e[(e.GifterAvatar = 6)] = "GifterAvatar"),
            (e[(e.InGameAd = 7)] = "InGameAd"),
            e
          );
        })({}),
        p = (function (e) {
          return (
            (e[(e.SuccessfulPageCompletion = 0)] = "SuccessfulPageCompletion"),
            (e[(e.SuccessfulCheckoutClick = 1)] = "SuccessfulCheckoutClick"),
            e
          );
        })({}),
        m = (function (e) {
          return (
            (e[(e.DiscordRoomInvitation = 0)] = "DiscordRoomInvitation"),
            (e[(e.ShareActivityReturnToHomeAfterGameEnd = 1)] =
              "ShareActivityReturnToHomeAfterGameEnd"),
            (e[(e.RoomInvitationInviteFriendsButtonAnimated = 2)] =
              "RoomInvitationInviteFriendsButtonAnimated"),
            (e[(e.RoomInvitationMainCTAInverted = 3)] =
              "RoomInvitationMainCTAInverted"),
            (e[(e.DiscordShareActivityReferralProgramStore = 4)] =
              "DiscordShareActivityReferralProgramStore"),
            (e[(e.DiscordShareActivityReturnToHomeAfterGameEndPopup = 5)] =
              "DiscordShareActivityReturnToHomeAfterGameEndPopup"),
            (e[(e.DiscordRoomInvitationUsingShareActivityLink = 6)] =
              "DiscordRoomInvitationUsingShareActivityLink"),
            (e[(e.WebRoomInvitation = 7)] = "WebRoomInvitation"),
            (e[(e.MobileRoomInvitation = 8)] = "MobileRoomInvitation"),
            (e[(e.WebShareReferralProgramStore = 9)] =
              "WebShareReferralProgramStore"),
            (e[(e.MobileShareReferralProgramStore = 10)] =
              "MobileShareReferralProgramStore"),
            e
          );
        })({}),
        g = (function (e) {
          return (
            (e[(e.Reactivation24HoursAfterLastActivityLaunch = 0)] =
              "Reactivation24HoursAfterLastActivityLaunch"),
            (e[(e.Reactivation1WeekAfterLastActivityLaunch = 1)] =
              "Reactivation1WeekAfterLastActivityLaunch"),
            (e[(e.Reactivation1MonthAfterLastActivityLaunch = 2)] =
              "Reactivation1MonthAfterLastActivityLaunch"),
            (e[(e.Reactivation3MonthsAfterLastActivityLaunch = 3)] =
              "Reactivation3MonthsAfterLastActivityLaunch"),
            (e[(e.Reactivation6MonthsAfterLastActivityLaunch = 4)] =
              "Reactivation6MonthsAfterLastActivityLaunch"),
            (e[(e.Reactivation1YearAfterLastActivityLaunch = 5)] =
              "Reactivation1YearAfterLastActivityLaunch"),
            (e[(e.Reactivation2YearsAfterLastActivityLaunch = 6)] =
              "Reactivation2YearsAfterLastActivityLaunch"),
            (e[(e.ABTestStart = 7)] = "ABTestStart"),
            (e[(e.ABTestNow = 8)] = "ABTestNow"),
            (e[(e.ABTest2D = 9)] = "ABTest2D"),
            (e[(e.ABTest4D = 10)] = "ABTest4D"),
            (e[(e.ABTest7D = 11)] = "ABTest7D"),
            (e[(e.ABTest15D = 12)] = "ABTest15D"),
            (e[(e.ABTestPushReferrersToInviteMorePlayers = 13)] =
              "ABTestPushReferrersToInviteMorePlayers"),
            e
          );
        })({}),
        f = (function (e) {
          return (
            (e[(e.ReturnToHomeAfterGameEndPopupTriggered = 0)] =
              "ReturnToHomeAfterGameEndPopupTriggered"),
            (e[(e.ReturnToHomeAfterGameEndSuccessfullyShared = 1)] =
              "ReturnToHomeAfterGameEndSuccessfullyShared"),
            (e[(e.ReturnToHomeAfterGameEndPrePopupTriggered = 2)] =
              "ReturnToHomeAfterGameEndPrePopupTriggered"),
            (e[(e.ReferralProgramStorePopupTriggeredLevel1 = 3)] =
              "ReferralProgramStorePopupTriggeredLevel1"),
            (e[(e.ReferralProgramStoreSuccessfullySharedLevel1 = 4)] =
              "ReferralProgramStoreSuccessfullySharedLevel1"),
            (e[(e.ReferralProgramStorePopupTriggeredLevel2 = 5)] =
              "ReferralProgramStorePopupTriggeredLevel2"),
            (e[(e.ReferralProgramStoreSuccessfullySharedLevel2 = 6)] =
              "ReferralProgramStoreSuccessfullySharedLevel2"),
            (e[(e.ReferralProgramStorePopupTriggeredLevel3 = 7)] =
              "ReferralProgramStorePopupTriggeredLevel3"),
            (e[(e.ReferralProgramStoreSuccessfullySharedLevel3 = 8)] =
              "ReferralProgramStoreSuccessfullySharedLevel3"),
            (e[(e.ReferralProgramStorePopupTriggeredLevel4 = 9)] =
              "ReferralProgramStorePopupTriggeredLevel4"),
            (e[(e.ReferralProgramStoreSuccessfullySharedLevel4 = 10)] =
              "ReferralProgramStoreSuccessfullySharedLevel4"),
            (e[
              (e.ReturnToHomeAfterGameEndReferralProgramPrePopupTriggered = 11)
            ] = "ReturnToHomeAfterGameEndReferralProgramPrePopupTriggered"),
            (e[(e.ReturnToHomeAfterGameEndReferralProgramPopupTriggered = 12)] =
              "ReturnToHomeAfterGameEndReferralProgramPopupTriggered"),
            (e[
              (e.ReturnToHomeAfterGameEndReferralProgramSuccessfullyShared = 13)
            ] = "ReturnToHomeAfterGameEndReferralProgramSuccessfullyShared"),
            (e[(e.RoomInvitationUsingShareActivityLinkPopupTriggered = 14)] =
              "RoomInvitationUsingShareActivityLinkPopupTriggered"),
            (e[
              (e.RoomInvitationUsingShareActivityLinkSuccessfullyShared = 15)
            ] = "RoomInvitationUsingShareActivityLinkSuccessfullyShared"),
            (e[
              (e.ABTestReactivateUserBaseReferralProgramPrePopupTriggered = 16)
            ] = "ABTestReactivateUserBaseReferralProgramPrePopupTriggered"),
            (e[(e.ABTestReactivateUserBaseReferralProgramPopupTriggered = 17)] =
              "ABTestReactivateUserBaseReferralProgramPopupTriggered"),
            (e[
              (e.ABTestReactivateUserBaseReferralProgramSuccessfullyShared = 18)
            ] = "ABTestReactivateUserBaseReferralProgramSuccessfullyShared"),
            (e[(e.ReferralProgramStorePopupTriggeredLevel5 = 19)] =
              "ReferralProgramStorePopupTriggeredLevel5"),
            (e[(e.ReferralProgramStoreSuccessfullySharedLevel5 = 20)] =
              "ReferralProgramStoreSuccessfullySharedLevel5"),
            (e[
              (e.ABTestPushReferrersToInviteMorePlayersGroupAPopupTriggered = 21)
            ] = "ABTestPushReferrersToInviteMorePlayersGroupAPopupTriggered"),
            (e[
              (e.ABTestPushReferrersToInviteMorePlayersGroupASuccessfullyShared = 22)
            ] =
              "ABTestPushReferrersToInviteMorePlayersGroupASuccessfullyShared"),
            (e[
              (e.ABTestPushReferrersToInviteMorePlayersGroupBPrePopupTriggered = 23)
            ] =
              "ABTestPushReferrersToInviteMorePlayersGroupBPrePopupTriggered"),
            (e[
              (e.ABTestPushReferrersToInviteMorePlayersGroupBPopupTriggered = 24)
            ] = "ABTestPushReferrersToInviteMorePlayersGroupBPopupTriggered"),
            (e[
              (e.ABTestPushReferrersToInviteMorePlayersGroupBSuccessfullyShared = 25)
            ] =
              "ABTestPushReferrersToInviteMorePlayersGroupBSuccessfullyShared"),
            (e[
              (e.ABTestPushReferrersToInviteMorePlayersGroupCPrePopupTriggered = 26)
            ] =
              "ABTestPushReferrersToInviteMorePlayersGroupCPrePopupTriggered"),
            (e[
              (e.ABTestPushReferrersToInviteMorePlayersGroupCPopupTriggered = 27)
            ] = "ABTestPushReferrersToInviteMorePlayersGroupCPopupTriggered"),
            (e[
              (e.ABTestPushReferrersToInviteMorePlayersGroupCSuccessfullyShared = 28)
            ] =
              "ABTestPushReferrersToInviteMorePlayersGroupCSuccessfullyShared"),
            (e[(e.PushReferrersToInviteMorePlayersPopupTriggered = 29)] =
              "PushReferrersToInviteMorePlayersPopupTriggered"),
            (e[(e.PushReferrersToInviteMorePlayersSuccessfullyShared = 30)] =
              "PushReferrersToInviteMorePlayersSuccessfullyShared"),
            e
          );
        })({}),
        y = (function (e) {
          return (
            (e[(e.Reactivation24HoursAfterLastActivityLaunch = 0)] =
              "Reactivation24HoursAfterLastActivityLaunch"),
            (e[(e.Reactivation1WeekAfterLastActivityLaunch = 1)] =
              "Reactivation1WeekAfterLastActivityLaunch"),
            (e[(e.Reactivation1MonthAfterLastActivityLaunch = 2)] =
              "Reactivation1MonthAfterLastActivityLaunch"),
            (e[(e.Reactivation3MonthsAfterLastActivityLaunch = 3)] =
              "Reactivation3MonthsAfterLastActivityLaunch"),
            (e[(e.Reactivation6MonthsAfterLastActivityLaunch = 4)] =
              "Reactivation6MonthsAfterLastActivityLaunch"),
            (e[(e.Reactivation1YearAfterLastActivityLaunch = 5)] =
              "Reactivation1YearAfterLastActivityLaunch"),
            (e[(e.Reactivation2YearsAfterLastActivityLaunch = 6)] =
              "Reactivation2YearsAfterLastActivityLaunch"),
            (e[(e.ABTestGroupAStart = 7)] = "ABTestGroupAStart"),
            (e[(e.ABTestGroupANow = 8)] = "ABTestGroupANow"),
            (e[(e.ABTestGroupA2D = 9)] = "ABTestGroupA2D"),
            (e[(e.ABTestGroupA4D = 10)] = "ABTestGroupA4D"),
            (e[(e.ABTestGroupA7D = 11)] = "ABTestGroupA7D"),
            (e[(e.ABTestGroupA15D = 12)] = "ABTestGroupA15D"),
            (e[(e.ABTestGroupBStart = 13)] = "ABTestGroupBStart"),
            (e[(e.ABTestGroupBNow = 14)] = "ABTestGroupBNow"),
            (e[(e.ABTestGroupB2D = 15)] = "ABTestGroupB2D"),
            (e[(e.ABTestGroupB4D = 16)] = "ABTestGroupB4D"),
            (e[(e.ABTestGroupB7D = 17)] = "ABTestGroupB7D"),
            (e[(e.ABTestGroupB15D = 18)] = "ABTestGroupB15D"),
            (e[(e.ABTestGroupCStart = 19)] = "ABTestGroupCStart"),
            (e[(e.ABTestGroupCNow = 20)] = "ABTestGroupCNow"),
            (e[(e.ABTestGroupC2D = 21)] = "ABTestGroupC2D"),
            (e[(e.ABTestGroupC4D = 22)] = "ABTestGroupC4D"),
            (e[(e.ABTestGroupC7D = 23)] = "ABTestGroupC7D"),
            (e[(e.ABTestGroupC15D = 24)] = "ABTestGroupC15D"),
            e
          );
        })({}),
        b = (function (e) {
          return (
            (e[(e.Unhandled = -1)] = "Unhandled"),
            (e[(e.Dm = 1)] = "Dm"),
            (e[(e.GroupDm = 3)] = "GroupDm"),
            (e[(e.GuildText = 0)] = "GuildText"),
            (e[(e.GuildVoice = 2)] = "GuildVoice"),
            (e[(e.GuildCategory = 4)] = "GuildCategory"),
            (e[(e.GuildAnnouncement = 5)] = "GuildAnnouncement"),
            (e[(e.GuildStore = 6)] = "GuildStore"),
            (e[(e.AnnouncementThread = 10)] = "AnnouncementThread"),
            (e[(e.PublicThread = 11)] = "PublicThread"),
            (e[(e.PrivateThread = 12)] = "PrivateThread"),
            (e[(e.GuildStageVoice = 13)] = "GuildStageVoice"),
            (e[(e.GuildDirectory = 14)] = "GuildDirectory"),
            (e[(e.GuildForum = 15)] = "GuildForum"),
            e
          );
        })({});
    },
    76273: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/player_highlight_left.00d0d74ea1d4a1441dfb.svg";
    },
    76389: (e, t, s) => {
      "use strict";
      s.d(t, { N: () => P });
      var i = s(655),
        n = s(32398),
        r = s(19966),
        o = s(9029),
        a = s(5603);
      class c {
        createDropdownContent(e) {
          (this.dropdownView.replaceChildren(),
            e.forEach((e) => {
              this.createDropdownContentElement(e);
            }));
        }
        createDropdownContentElement(e) {
          const t = (0, o.Le)(this.dropdownView, "", e.id);
          (null != e.icon && (0, o.zO)(t, e.icon),
            (0, o.Wr)(t, e.text, e.class),
            (0, o.G0)(
              t,
              () => {
                e.class.includes("component-dropdown-disabled") ||
                  (null != e.action && e.action(),
                  this.hideDropdownMenuIfShown());
              },
              !0,
            ));
        }
        dropdownButtonAction() {
          (a.A.play(a.h.Click),
            r.CA.sendGoogleAnalyticsEvent(
              r.CA.Category.Profile,
              r.CA.Label.ClickedProfileDropdown,
            ),
            this.dropdownView.classList.toggle("show"));
        }
        hideDropdownMenuIfShown() {
          this.dropdownView.classList.contains("show") &&
            this.dropdownView.classList.toggle("show");
        }
        updateDropdownState(e) {
          var t;
          null !=
            (null === (t = this.dropdownView) || void 0 === t
              ? void 0
              : t.replaceChildren) &&
            (this.dropdownView.replaceChildren(),
            this.createDropdownContent(e));
        }
        constructor(e, t, s, i) {
          const n = document.getElementsByClassName(
            "component-dropdown-container",
          );
          for (const e of n) {
            e.parentElement.id == t &&
              ((this.dropdownContainer = e),
              (this.dropdownButton = i),
              (this.dropdownView = this.dropdownContainer.children[1]));
          }
          s
            ? (this.dropdownContainer.style.display = "none")
            : ((this.dropdownContainer.style.display = "inline-block"),
              null != this.dropdownButton &&
                null != this.dropdownView &&
                (this.createDropdownContent(e),
                (0, o.G0)(this.dropdownButton, (e) => {
                  const t = e.target;
                  this.dropdownView.contains(t) || this.dropdownButtonAction();
                }),
                document.addEventListener("pointerdown", (e) => {
                  const t = e.target,
                    s = this.dropdownContainer.contains(t),
                    n = i.contains(t);
                  s || n || this.hideDropdownMenuIfShown();
                })));
        }
      }
      var l = s(26406),
        d = (function (e) {
          return (
            (e.PlayingCitiesAndKnights4P = "Playing Cities & Knights 4P"),
            (e.PlayingCitiesAndKnights56P = "Playing Cities & Knights 5-6P"),
            (e.PlayingCitiesAndKnightsSeafarers4P = "Playing SF + C&K 4P"),
            (e.PlayingCitiesAndKnightsSeafarers56P = "Playing SF + C&K 5-6P"),
            (e.PlayingClassic4P = "Playing Base Game 4P"),
            (e.PlayingClassic5678P = "Playing Base Game 5-6P"),
            (e.PlayingSeafarers4P = "Playing Seafarers 4P"),
            (e.PlayingSeafarers56P = "Playing Seafarers 5-6P"),
            (e.InPrivateRoom = "In Private Room"),
            (e.InPublicRoom = "In Public Room"),
            (e.IsOnlineAndIdle = "Idle"),
            e
          );
        })({});
      var u = s(19720),
        h = s(78311),
        p = s(76092),
        m = s(84445),
        g = s(81888),
        f = s(30506);
      class y {
        updateCountInTabHeader(e) {
          (y.setCountInTabHeader(e.friends.length, this.friendsTab),
            y.setCountInTabHeader(
              e.friendRequestsReceived.length,
              this.friendRequestsTab,
            ),
            y.setCountInTabHeader(
              e.friendRequestsSent.length,
              this.requestsSentTab,
            ));
        }
        static setCountInTabHeader(e, t) {
          ((0, o.RH)(t, this.getHeaderText(t)),
            e > 0 &&
              (0, o.i5)(t, "", {
                key: "strings:colonistCommon.utils.#buffer",
                options: { value: ` (${e})` },
              }));
        }
        highlightTab(e) {
          for (const t of this.horizontalTabsContainer.children) {
            t.id === e
              ? t.classList.add("active")
              : t.classList.remove("active");
          }
        }
        static getHeaderText(e) {
          switch (e.id) {
            case "friendspage_friends_tab":
              return { key: "strings:profilePage.friends.title" };
            case "friendspage_friendrequests_tab":
              return { key: "strings:profilePage.friends.tabs.requests.title" };
            case "friendspage_requestssent_tab":
              return {
                key: "strings:profilePage.friends.tabs.requestsSent.title",
              };
            default:
              return { key: "strings:colonistCommon.utils.emptyString" };
          }
        }
        constructor(e) {
          ((this.horizontalTabsContainer = document.querySelector(
            ".friendspage_friends_tabs_horizontal",
          )),
            (this.friendsTab = document.getElementById(
              "friendspage_friends_tab",
            )),
            (this.friendRequestsTab = document.getElementById(
              "friendspage_friendrequests_tab",
            )),
            (this.requestsSentTab = document.getElementById(
              "friendspage_requestssent_tab",
            )));
          const t = document.getElementById(
              "friendspage_friends_table_wrapper",
            ),
            s = document.getElementById(
              "friendspage_friendrequests_table_wrapper",
            ),
            i = document.getElementById(
              "friendspage_requestssent_table_wrapper",
            );
          ((0, o.G0)(this.friendsTab, () => {
            (this.highlightTab(this.friendsTab.id),
              s.classList.add("hidden"),
              i.classList.add("hidden"),
              t.classList.remove("hidden"));
          }),
            (0, o.G0)(this.friendRequestsTab, () => {
              (this.highlightTab(this.friendRequestsTab.id),
                t.classList.add("hidden"),
                i.classList.add("hidden"),
                s.classList.remove("hidden"));
            }),
            (0, o.G0)(this.requestsSentTab, () => {
              (this.highlightTab(this.requestsSentTab.id),
                t.classList.add("hidden"),
                s.classList.add("hidden"),
                i.classList.remove("hidden"));
            }),
            this.updateCountInTabHeader(e));
        }
      }
      var b = s(13618),
        v = s(34617),
        S = s(18587),
        k = s(23355);
      class C {
        async updateSuggestedFriendsVisibility() {
          if (this.userFriendsData.friends.length > 0)
            return (
              this.noFriendsDisplay.classList.add("hidden"),
              void this.friendsTableBodyWrapper.classList.remove("hidden")
            );
          (this.noFriendsDisplay.classList.remove("hidden"),
            this.friendsTableBodyWrapper.classList.add("hidden"));
        }
        updateFriendRequestTableVisibility() {
          if (this.userFriendsData.friendRequestsReceived.length > 0)
            return (
              this.noFriendRequestsDisplay.classList.add("hidden"),
              void this.friendRequestsTableBodyWrapper.classList.remove(
                "hidden",
              )
            );
          (this.noFriendRequestsDisplay.classList.remove("hidden"),
            this.friendRequestsTableBodyWrapper.classList.add("hidden"));
        }
        updateSentRequestTableVisibility() {
          if (this.userFriendsData.friendRequestsSent.length > 0)
            return (
              this.noRequestsSentDisplay.classList.add("hidden"),
              void this.requestsSentTableBodyWrapper.classList.remove("hidden")
            );
          (this.noRequestsSentDisplay.classList.remove("hidden"),
            this.requestsSentTableBodyWrapper.classList.add("hidden"));
        }
        static getFriendLastOnlineTime(e) {
          return e.isOnline
            ? new Date().getTime()
            : void 0 === e.lastOnlineDate
              ? 0
              : new Date(e.lastOnlineDate).getTime();
        }
        createFriendsTable() {
          this.userFriendsData.friends
            .sort((e, t) => {
              const s = C.getFriendLastOnlineTime(e.onlineStatus);
              return C.getFriendLastOnlineTime(t.onlineStatus) > s ? 1 : -1;
            })
            .forEach((e) => {
              this.createFriendTableRow(e);
            });
        }
        createFriendRequestTable() {
          this.userFriendsData.friendRequestsReceived.forEach((e) => {
            this.createFriendRequestTableRow(e);
          });
        }
        createRequestsSentTable() {
          this.userFriendsData.friendRequestsSent.forEach((e) => {
            this.createRequestSentTableRow(e);
          });
        }
        async deleteFriendRequestTableRow(e, t) {
          const s = this.userFriendsData.friendRequestsReceived.findIndex(
            (t) => t == e,
          );
          if (
            (this.friendRequestsTableBody.deleteRow(s),
            this.userFriendsData.friendRequestsReceived.splice(s, 1),
            t)
          ) {
            const t = { username: e, onlineStatus: { isOnline: !1 } };
            (this.createFriendTableRow(t),
              this.userFriendsData.friends.push(t));
          }
          (this.updateFriendRequestTableVisibility(),
            await this.updateSuggestedFriendsVisibility(),
            this.horizontalTabsController.updateCountInTabHeader(
              this.userFriendsData,
            ));
        }
        async cancelFriendRequestAction(e) {
          const t = { username: e };
          if (
            null ==
            (await i.m.postRequestHandler(
              n.l.apiUserProfileRemoveFriend(),
              void 0,
              t,
              "application/json",
            ))
          )
            return;
          const s = this.userFriendsData.friendRequestsSent.findIndex(
            (t) => t == e,
          );
          (this.requestsSentTableBody.deleteRow(s),
            this.userFriendsData.friendRequestsSent.splice(s, 1),
            this.updateSentRequestTableVisibility(),
            this.horizontalTabsController.updateCountInTabHeader(
              this.userFriendsData,
            ));
        }
        createFriendTableRow(e) {
          const t = e.onlineStatus,
            s = (0, o.u_)(this.friendsTableBody, "");
          (0, o.G0)(s, () => k.xp.init(e.username));
          ((0, o.Cr)(s, "underline_on_hover ellipsis", {
            key: "strings:colonistCommon.utils.#buffer",
            options: { value: e.username },
          }),
            (0, o.Cr)(s, void 0, C.getStatusText(t)),
            (0, o.Cr)(
              s,
              void 0,
              (function (e) {
                if (null == e)
                  return { key: "strings:colonistCommon.utils.emptyString" };
                switch (e) {
                  case "Playing Cities & Knights 4P":
                    return {
                      key: "strings:profilePage.statusActivity.playingCitiesAndKnights4P",
                    };
                  case "Playing Cities & Knights 5-6P":
                    return {
                      key: "strings:profilePage.statusActivity.playingCitiesAndKnights56P",
                    };
                  case "Playing SF + C&K 4P":
                    return {
                      key: "strings:profilePage.statusActivity.playingCitiesAndKnightsSeafarers4P",
                    };
                  case "Playing SF + C&K 5-6P":
                    return {
                      key: "strings:profilePage.statusActivity.playingCitiesAndKnightsSeafarers56P",
                    };
                  case "Playing Base Game 4P":
                    return {
                      key: "strings:profilePage.statusActivity.playingClassic4P",
                    };
                  case "Playing Base Game 5-6P":
                    return {
                      key: "strings:profilePage.statusActivity.playingClassic5678P",
                    };
                  case "Playing Seafarers 4P":
                    return {
                      key: "strings:profilePage.statusActivity.playingSeafarers4P",
                    };
                  case "Playing Seafarers 5-6P":
                    return {
                      key: "strings:profilePage.statusActivity.playingSeafarers56P",
                    };
                  case "In Private Room":
                    return {
                      key: "strings:profilePage.statusActivity.inPrivateRoom",
                    };
                  case "In Public Room":
                    return {
                      key: "strings:profilePage.statusActivity.inPublicRoom",
                    };
                  case "Idle":
                    return {
                      key: "strings:profilePage.statusActivity.isOnlineAndIdle",
                    };
                }
              })(t.activity),
            ));
          const i = (0, o.Cr)(s);
          (S.r.isUserOnDiscordMobile || C.createGiftButtonIn(i, e.username),
            C.setActionHTML(t, i));
        }
        static createGiftButtonIn(e, t) {
          const s = (0, o.Le)(e, "btn-general-icon");
          (0, o.zO)(s, h.am.StoreGiftMembership);
          const i = {
            type: p.k0.ABTestClickAnalytics,
            category: p.eX.GiftMembershipOverlay,
            floatValue: p.s8.ProfileFriendsTab,
          };
          (0, o.G0)(
            s,
            () => {
              (r.CA.sendAnalyticEvent(i),
                (0, m.b4)(() => (0, b.Yf)(`/store?username=${t}#gift`, !0), t));
            },
            !1,
            !0,
          );
        }
        createFriendRequestTableRow(e) {
          const t = (0, o.u_)(this.friendRequestsTableBody, e.toLowerCase());
          (0, o.G0)(t, () => k.xp.init(e));
          (0, o.Cr)(t, "underline_on_hover", {
            key: "strings:colonistCommon.utils.#buffer",
            options: { value: e },
          });
          const s = (0, o.Cr)(t),
            i = (0, o.Le)(s, "friendspage_friends_action_buttons_container"),
            n = (0, o.Ey)(i, "friendspage_friends_accept_btn", {
              key: "strings:colonistCommon.buttons.accept",
            });
          (0, o.G0)(
            n,
            () => {
              v.v.friendRequestResponded(e, !0);
            },
            !1,
            !0,
          );
          const r = (0, o.Ey)(i, "friendspage_friends_decline_btn", {
            key: "strings:colonistCommon.buttons.decline",
          });
          (0, o.G0)(
            r,
            () => {
              v.v.friendRequestResponded(e, !1);
            },
            !1,
            !0,
          );
        }
        createRequestSentTableRow(e) {
          const t = (0, o.u_)(this.requestsSentTableBody, "");
          ((0, o.G0)(t, () => k.xp.init(e)),
            (0, o.Cr)(t, "underline_on_hover", {
              key: "strings:colonistCommon.utils.#buffer",
              options: { value: e },
            }));
          const s = (0, o.Cr)(t),
            i = (0, o.Le)(s, "friendspage_friends_action_buttons_container"),
            n = (0, o.Ey)(i, "friendspage_friends_decline_btn", {
              key: "strings:colonistCommon.buttons.cancel",
            });
          (0, o.G0)(
            n,
            () => {
              this.cancelFriendRequestAction(e);
            },
            !1,
            !0,
          );
        }
        static getStatusText(e) {
          if (e.isOnline)
            return { key: "strings:profilePage.friends.status.online" };
          if (!e.lastOnlineDate)
            return { key: "strings:profilePage.friends.status.offline" };
          const t = f.Re.getDaysHoursMinutesBetweenDates(
            new Date(),
            new Date(e.lastOnlineDate),
          );
          if (t.days > 4 * f.Re.DAYS_IN_MONTH)
            return {
              key: "strings:profilePage.friends.status.lastOnlineMoreThan3Months",
            };
          if (t.days > f.Re.DAYS_IN_MONTH) {
            const e = Math.floor(t.days / f.Re.DAYS_IN_MONTH);
            return C.getLastOnlineText(e, "month");
          }
          return t.days > 0
            ? C.getLastOnlineText(t.days, "day")
            : t.hours > 0
              ? C.getLastOnlineText(t.hours, "hour")
              : C.getLastOnlineText(t.minutes, "minute");
        }
        static setActionHTML(e, t) {
          if (0 != e.isOnline)
            switch (e.activity) {
              case d.InPublicRoom:
                C.createJoinButton(e, t);
                break;
              case d.PlayingCitiesAndKnights4P:
              case d.PlayingCitiesAndKnights56P:
              case d.PlayingCitiesAndKnightsSeafarers4P:
              case d.PlayingCitiesAndKnightsSeafarers56P:
              case d.PlayingClassic4P:
              case d.PlayingClassic5678P:
              case d.PlayingSeafarers4P:
              case d.PlayingSeafarers56P:
                C.createSpectateButton(e, t);
                break;
              case d.InPrivateRoom:
              case d.IsOnlineAndIdle:
              default:
                return;
            }
        }
        static createSpectateButton(e, t) {
          const s = (0, o.Ey)(t, "btn_general", {
            key: "strings:homePage.ctas.spectate",
          });
          (0, o.G0)(s, () => C.joinFriendGameAction(e));
        }
        static createJoinButton(e, t) {
          const s = (0, o.Ey)(t, "btn_general", {
            key: "strings:homePage.ctas.joinGame",
          });
          (0, o.G0)(s, () => C.joinFriendGameAction(e));
        }
        static joinFriendGameAction(e) {
          null != e.roomId && (0, b.Yf)(`/#${e.roomId}`);
        }
        static getLastOnlineText(e, t) {
          return {
            key: "strings:profilePage.friends.status.lastOnline",
            options: { context: t, count: -e },
          };
        }
        constructor(e) {
          var t, s;
          ((this.userFriendsData = e),
            (this.friendsTableBody = document.getElementById(
              "friendspage_friends_table_body",
            )),
            (this.friendRequestsTableBody = document.getElementById(
              "friendspage_friendrequests_table_body",
            )),
            (this.requestsSentTableBody = document.getElementById(
              "friendspage_requestssent_table_body",
            )),
            (this.friendsTableBodyWrapper = document.getElementById(
              "friendspage_friends_table_body_wrapper",
            )),
            (this.friendRequestsTableBodyWrapper = document.getElementById(
              "friendspage_friendrequests_table_body_wrapper",
            )),
            (this.requestsSentTableBodyWrapper = document.getElementById(
              "friendspage_requestssent_table_body_wrapper",
            )),
            (this.noFriendsDisplay =
              document.getElementById("no_friends_display")),
            (null === (t = g._.userState) || void 0 === t
              ? void 0
              : t.isLoggedIn) ||
              ((s = this.noFriendsDisplay),
              ((0, o.cE)(
                s,
                "",
                { key: "strings:profilePage.friends.loginToAddFriends" },
                "",
              ).onpointerdown = (e) => {
                (e.preventDefault(), new u.L());
              })),
            (this.noFriendRequestsDisplay = document.getElementById(
              "no_friendspage_friendrequests_display",
            )),
            (this.noRequestsSentDisplay = document.getElementById(
              "no_friendspage_requestssent_display",
            )),
            (this.horizontalTabsController = new y(this.userFriendsData)),
            this.createFriendsTable(),
            this.createFriendRequestTable(),
            this.createRequestsSentTable(),
            this.updateSuggestedFriendsVisibility(),
            this.updateFriendRequestTableVisibility(),
            this.updateSentRequestTableVisibility(),
            v.v.setCallbackFriendRequestResponded((e, t) =>
              this.deleteFriendRequestTableRow(e, t),
            ));
        }
      }
      class P {
        async init() {
          ((this.profileIsCurrentUser = this.isProfileCurrentUser()),
            this.profileIsCurrentUser ||
              (this.hideFriendsTab(), this.redirectIfFriendSectionIsActive()),
            (this.userFriendsData = await v.v.getFriends(g._.userState)),
            null != this.profileLinkController.friendsSectionLink &&
              (this.profileLinkController.friendsSectionLink.hasMadeAPICall =
                !0),
            await this.createDropdown(),
            this.isPopup || new C(this.userFriendsData));
        }
        setUsername(e) {
          this.username = e;
        }
        hideFriendsTab() {
          null != this.profileLinkController.friendsSectionLink &&
            (this.profileLinkController.friendsSectionLink.style.display =
              "none");
        }
        showFriendsTab() {
          null != this.profileLinkController.friendsSectionLink &&
            (this.profileLinkController.friendsSectionLink.style.display =
              "flex");
        }
        redirectIfFriendSectionIsActive() {
          null != this.profileLinkController.friendsSectionLink &&
            this.profileLinkController.activeLink ==
              this.profileLinkController.friendsSectionLink &&
            (0, b.Yf)(`/profile/${this.username}`);
        }
        isProfileCurrentUser() {
          var e;
          return (
            (null === (e = g._.userState) || void 0 === e
              ? void 0
              : e.username.toLowerCase()) ==
            decodeURIComponent(this.username.toLowerCase())
          );
        }
        async createDropdown() {
          const e = this.getInitialDropdownContentForUserFriendsData();
          if (
            ((this.profileDropdownContent = this.getDropdownContent(e)),
            null == this.toggleVisibilityComponent)
          )
            return;
          const t = (0, k.F9)(
            "sticky_player_info_text_container",
            this.isPopup,
          );
          ((this.dropdownController = new c(
            this.profileDropdownContent,
            t,
            this.profileIsCurrentUser,
            this.toggleVisibilityComponent,
          )),
            (this.dropdownController.dropdownView.style.left = "0"));
        }
        getDropdownContent(e) {
          const t = [];
          return (
            S.r.isUserOnDiscordMobile ||
              t.push({
                id: (0, k.F9)("profile_dropdown_gift_membership", this.isPopup),
                class: "",
                text: { key: "strings:storePage.sendGift" },
                action: () => this.sendGiftDropdownAction(),
                icon: h.am.StoreGiftMembershipDark,
              }),
            t.push({
              id: (0, k.F9)("profile_dropdown_report", this.isPopup),
              class: "component-dropdown-red",
              text: { key: "strings:game.endGame.report" },
              action: () => {
                this.reportProfileDropdownAction();
              },
            }),
            g._.hasUser()
              ? (this.isFriendOrPending ? t.push(e) : t.unshift(e), t)
              : t
          );
        }
        getInitialDropdownContentForUserFriendsData() {
          return null == this.userFriendsData
            ? this.friendStateDropdownContent.notFriend
            : this.userFriendsData.friends.some(
                  (e) => e.username == this.username,
                )
              ? ((this.isFriendOrPending = !0),
                this.friendStateDropdownContent.friend)
              : this.userFriendsData.friendRequestsSent.includes(this.username)
                ? ((this.isFriendOrPending = !0),
                  this.friendStateDropdownContent.pending)
                : this.friendStateDropdownContent.notFriend;
        }
        sendGiftDropdownAction() {
          const e = {
            type: p.k0.ABTestClickAnalytics,
            category: p.eX.GiftMembershipOverlay,
            floatValue: p.s8.PlayerProfile,
          };
          r.CA.sendAnalyticEvent(e);
          const t =
            (S.r.isUserOnDiscord && this.isPopup ? "https://colonist.io" : "") +
            `/store?username=${this.username}#gift`;
          (0, m.b4)(() => (0, b.Yf)(t, !0), this.username);
        }
        async addFriendDropdownAction() {
          v.v.addFriendAction(decodeURIComponent(this.username), (e) => {
            const t = document.getElementById(
              (0, k.F9)("profile_dropdown_add_friend", this.isPopup),
            );
            if (null == t) return;
            t.remove();
            const s = e
              ? this.friendStateDropdownContent.friend
              : this.friendStateDropdownContent.pending;
            this.dropdownController.createDropdownContentElement(s);
          });
        }
        showRemoveFriendPopup() {
          v.v.showRemoveFriendPopup(this.username, () => {
            v.v.removeFriendAction(this.username, () => {
              const e = document.getElementById(
                (0, k.F9)("profile_dropdown_removeFriend", this.isPopup),
              );
              null != e &&
                (e.remove(),
                this.dropdownController.createDropdownContentElement(
                  this.friendStateDropdownContent.notFriend,
                ));
            });
          });
        }
        async reportProfileDropdownAction() {
          var e;
          if (
            !(null === (e = g._.userState) || void 0 === e
              ? void 0
              : e.isLoggedIn)
          )
            return void new u.L();
          l.S.createReportPopup(
            this.username,
            (e, t) => {
              const s = { reason: t };
              i.m.postRequestHandler(
                n.l.apiReportPlayer(e),
                void 0,
                s,
                "application/json",
              );
            },
            { key: "strings:popups.reportPopup.success" },
          );
        }
        constructor(e, t, s, i = !1) {
          ((this.profileDropdownContent = []),
            (this.isFriendOrPending = !1),
            (this.username = e),
            (this.profileLinkController = t),
            (this.toggleVisibilityComponent = s),
            (this.isPopup = i),
            (this.friendStateDropdownContent = {
              friend: {
                id: (0, k.F9)("profile_dropdown_removeFriend", this.isPopup),
                class: "component-dropdown-red",
                text: { key: "strings:profilePage.friends.removeFriend.title" },
                action: () => {
                  this.showRemoveFriendPopup();
                },
              },
              notFriend: {
                id: (0, k.F9)("profile_dropdown_add_friend", this.isPopup),
                class: "",
                text: { key: "strings:game.playerOptionsPopup.addFriend" },
                action: () => {
                  this.addFriendDropdownAction();
                },
              },
              pending: {
                id: (0, k.F9)("profile_dropdown_pending", this.isPopup),
                class: "component-dropdown-disabled",
                text: { key: "strings:profilePage.friends.friendRequestSent" },
              },
            }),
            this.init());
        }
      }
    },
    76714: (e, t, s) => {
      "use strict";
      s.d(t, { c: () => n });
      var i = s(30506);
      class n {
        getCurrentSeasonTiming(e) {
          const t = this.endDate.getTime() - e.getTime(),
            s = this.endDate.getTime() - this.startDate.getTime();
          return {
            monthsLeft: Math.floor(t / i.R$.monthsAsMilliseconds(1)),
            weeksLeft: Math.floor(
              (t / i.R$.weeksAsMilliseconds(1)) % i.Re.WEEKS_IN_MONTH,
            ),
            daysLeft: Math.floor(
              ((t / i.R$.daysAsMilliseconds(1)) % i.Re.DAYS_IN_MONTH) %
                i.Re.DAYS_IN_WEEK,
            ),
            hoursLeft: Math.floor(
              (t / i.R$.hoursAsMilliseconds(1)) % i.Re.HOURS_IN_DAY,
            ),
            minutesLeft: Math.floor(
              (t / i.R$.minutesAsMilliseconds(1)) % i.Re.MINUTES_IN_HOUR,
            ),
            progress: (s - t) / s,
          };
        }
        static getShowingTimeLeftUntilSeasonEndText(e) {
          const t = 0 == e.monthsLeft && 0 == e.weeksLeft && e.daysLeft < 2,
            s = e.daysLeft + 7 * e.weeksLeft,
            n = s * i.Re.HOURS_IN_DAY + e.hoursLeft;
          return t
            ? `${n}H ${e.minutesLeft}M`
            : e.monthsLeft > 0
              ? `${e.monthsLeft}M ${s}D`
              : `${s}D`;
        }
        static deserialize(e) {
          ((e.startDate = new Date(e.startDate)),
            (e.endDate = new Date(e.endDate)));
          return Object.assign(new n(), e);
        }
        constructor(e, t, s, i) {
          ((this.rankedSeasonType = e),
            (this.name = t),
            (this.startDate = s),
            (this.endDate = i));
        }
      }
    },
    76749: (e, t, s) => {
      "use strict";
      s.d(t, { H: () => m });
      var i = s(9029),
        n = s(66681),
        r = s(19733),
        o = s(19966),
        a = s(41931),
        c = s(18514),
        l = s(98487);
      const d = s.p + "assets/room_game_speeds.e04220589b15435d367a.png";
      var u = s(83633);
      class h {
        initGameSpeedSettings() {
          ((this.speedInput = this.container.querySelector(
            "#room_center_gamespeed_settings_input",
          )),
            (this.speedRightArrow = this.container.querySelector(
              "#gamespeed_settings_right_arrow",
            )),
            (this.speedLeftArrow = this.container.querySelector(
              "#gamespeed_settings_left_arrow",
            )),
            (this.speedDivBody = this.container.querySelector(
              "#gamespeed_settings_body",
            )),
            (this.speedInfo = this.container.querySelector(
              "#gamespeed_settings_speed_info",
            )),
            (this.speedSettings = l.ro),
            (this.speedDefaultSetting = l.Zt.DEFAULT_GAME_SPEED_SETTING));
          ((this.speedSocketCommand = (e) => {
            (a.p.setRoomGameSpeedSetting(e), n.sZ.roomClient.setGameSpeed(e));
          }),
            (0, i.G0)(this.speedInfo, () => h.clickedSpeedInfo()));
        }
        static clickedSpeedInfo() {
          o.CA.sendGoogleAnalyticsEvent(
            o.CA.Category.Room,
            o.CA.Label.ClickedRoomGameSpeedInfo,
          );
          const e = c.a7.t("strings:roomPage.turnTimers"),
            t = {
              key: "strings:colonistCommon.utils.#buffer",
              options: {
                value: `<div class='room-map-preview-grid'><center><img src='${d}' alt='${e}' style='width: 70%'></center>`,
                interpolation: { escapeValue: !1 },
              },
            };
          r.r.createSimplePopup({ key: "strings:roomPage.turnTimers" }, t);
        }
        updateOptions(e) {
          const t = u.qq.getModeDataForMode(e.gameSetting.modeSetting);
          var s;
          this.speedOptions =
            null !== (s = null == t ? void 0 : t.allowedGameTimers) &&
            void 0 !== s
              ? s
              : [];
        }
        constructor(e) {
          ((this.container = e),
            this.initGameSpeedSettings(),
            (this.speedOptions = []));
        }
      }
      var p = s(67908);
      class m {
        get currentSetting() {
          return this._currentSetting;
        }
        set currentSetting(e) {
          this._currentSetting = e;
          const t = this.view.speedOptions.find((t) => t === e),
            s =
              null != t
                ? p.mt.getSpeedSettingText(t).key
                : "strings:colonistCommon.utils.bug";
          (0, i.RH)(this.view.speedInput, { key: s });
        }
        update(e) {
          (this.view.updateOptions(e),
            (this.currentSetting = e.gameSetting.gameSpeed),
            this.view.container.classList.toggle(
              "selected",
              this.currentSetting != this.view.speedDefaultSetting,
            ));
        }
        load(e) {
          this.initSpeedSettings(e);
        }
        initSpeedSettings(e) {
          const {
            speedDivBody: t,
            speedRightArrow: s,
            speedLeftArrow: n,
            speedSocketCommand: r,
          } = this.view;
          if (m.isGuest(e))
            return (
              (t.className = "option_body guest"),
              s.classList.toggle("hidden", !0),
              n.classList.toggle("hidden", !0),
              (0, i.G0)(s, () => {}),
              void (0, i.G0)(n, () => {})
            );
          ((t.className = "option_body"),
            n.classList.toggle("hidden", !1),
            s.classList.toggle("hidden", !1),
            (0, i.G0)(n, () => {
              const e = this.view.speedOptions;
              let t = e.findIndex((e) => e === this.currentSetting) - 1;
              (t < 0 && (t = e.length - 1),
                (this.currentSetting = e[t]),
                r(this.currentSetting));
            }),
            (0, i.G0)(s, () => {
              const e = this.view.speedOptions;
              let t = e.findIndex((e) => e === this.currentSetting) + 1;
              (t >= e.length && (t = 0),
                (this.currentSetting = e[t]),
                r(this.currentSetting));
            }));
        }
        updateInteractabilityOfElements(e) {
          this.load(e);
        }
        static isGuest(e) {
          return n.sZ.controller.session.id != e.hostSession.userSessionId;
        }
        constructor(e) {
          ((this.view = new h(e)),
            (this.currentSetting = this.view.speedDefaultSetting));
        }
      }
    },
    76812: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/prob_10.d145f244ff011dd7a427.svg";
    },
    76861: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/sfx_join_room.5961c5707bc03a482185.mp3";
    },
    77110: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/prob_3.94270f97a8b15ab8d3ec.svg";
    },
    77183: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/sfx_knight_equip.b4884adc22ad2f5ac252.mp3";
    },
    77247: (e, t, s) => {
      "use strict";
      e.exports =
        s.p +
        "assets/dang-fix-pixelated-fullscreen-popup-image-after.ff8b0de1fadee79c2fde.png";
    },
    77422: (e, t, s) => {
      "use strict";
      e.exports =
        s.p +
        "assets/dang-increase-end-game-size-before.813acdf85452c8f84501.png";
    },
    77434: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/knight_move_silver.a940ecbc949dcbb9f18c.svg";
    },
    77691: (e, t, s) => {
      "use strict";
      e.exports =
        s.p +
        "assets/card_progress_science_irrigation.b23fe6d17a81c586d85f.svg";
    },
    77885: (e, t, s) => {
      "use strict";
      s.d(t, { d: () => u });
      var i = s(31166),
        n = s(9029),
        r = s(18587),
        o = s(19966),
        a = s(76092),
        c = s(18514),
        l = s(13618),
        d = s(81888);
      class u {
        setCoins(e) {
          (0, n.RH)(this.userCoinsDiv, {
            key: "strings:colonistCommon.utils.#buffer",
            options: { value: e },
          });
        }
        initCoinClick() {
          (0, n.G0)(this.headerCoinsContainer, () => {
            (i.WC.play(i.hc.Click), this.sendCoinClickAnalytic());
            const e = (0, c.nJ)("/store", r.r.language);
            (0, l.Yf)(e);
          });
        }
        sendCoinClickAnalytic() {
          const e = {
            type: a.k0.ABTestClickAnalytics,
            category: a.eX.ABTestClickAnalytics,
            floatValue: a.Jd.HeaderCoinPlusButton,
          };
          o.CA.sendAnalyticEvent(e);
        }
        constructor() {
          ((this.userCoinsDiv = document.getElementById("header_coins")),
            (this.headerCoinsContainer = document.getElementById(
              "header_coins_container",
            )),
            d._.registerChangeListener((e) => {
              null != e && this.setCoins(e.items.colonistCoins);
            }),
            this.initCoinClick());
        }
      }
    },
    77950: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/card_progress_science_back.2590ba5db92b95ab8bcb.svg";
    },
    77954: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/sfx_vote_reminder.7373523cf3465ee3fd99.mp3";
    },
    77999: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/knight_level1_inactive_purple.cd740a2f10ca8a51d274.svg";
    },
    78018: (e, t, s) => {
      "use strict";
      s.d(t, { c: () => h });
      var i = s(73264),
        n = s(50482),
        r = s(9029),
        o = s(5603),
        a = s(19966),
        c = s(95176),
        l = s(30506),
        d = s(30911),
        u = s(18514);
      class h extends i.O {
        addBestValueHint() {}
        constructor(e, t, s, i, h) {
          const m = n.Zt.getMembershipProduct(s.membershipType);
          (super(e, t, m, void 0, h),
            (0, r.RH)(this.priceDiv, {
              key: p(m.billedAnnually),
              options: { count: s.periods },
            }));
          const g = l.Re.addYears(l.Re.toDate(s.giftedAt), d.Z),
            f = l.Re.formatDateDistance(new Date(), g),
            y = u.a7.t(f.key, f.options);
          ((0, r.RH)(this.disclaimerText, {
            key: "strings:storePage.sections.membership.giftWithExpiry",
            options: { expiry: y },
          }),
            (0, r.RH)(this.subscribeButtonText, {
              key: "strings:storePage.sections.membership.action.activate",
            }),
            (0, r.G0)(this.productDiv, () => {
              (o.A.play(o.h.Click),
                a.CA.sendGoogleAnalyticsEvent(
                  a.CA.Category.Store,
                  a.CA.Label.StoreClickedActivate,
                  m.type,
                ));
              new c.y(
                {
                  key: "strings:storePage.sections.membership.activateConfirmation.title",
                },
                {
                  key: "strings:storePage.sections.membership.activateConfirmation.body",
                },
                () => i(s.id),
                () => {},
                !0,
              ).show();
            }));
        }
      }
      function p(e) {
        return e
          ? "strings:colonistCommon.dates.year"
          : "strings:colonistCommon.dates.month";
      }
    },
    78311: (e, t, s) => {
      "use strict";
      s.d(t, {
        lc: () => D,
        hx: () => I,
        K4: () => R,
        GV: () => M,
        $m: () => y.$,
        lo: () => d,
        Qb: () => n,
        IM: () => r,
        Ej: () => B,
        bq: () => L,
        ZP: () => w,
        um: () => P,
        Ly: () => _,
        vm: () => G,
        Vd: () => a,
        ro: () => C,
        Cz: () => b,
        am: () => i,
        Qy: () => S,
        p9: () => v,
        kK: () => E,
        ZC: () => l,
        ZS: () => h,
        p5: () => u,
        FL: () => g,
        gu: () => f,
        SB: () => m,
        kv: () => p,
        Lj: () => c,
        ec: () => A,
        gq: () => T,
        $y: () => o,
        sP: () => k,
      });
      var i = (function (e) {
          return (
            (e[(e.Pencil = 0)] = "Pencil"),
            (e[(e.Bot = 1)] = "Bot"),
            (e[(e.CheckMark = 2)] = "CheckMark"),
            (e[(e.XMark = 3)] = "XMark"),
            (e[(e.Logo = 4)] = "Logo"),
            (e[(e.Lightning = 5)] = "Lightning"),
            (e[(e.Plus = 6)] = "Plus"),
            (e[(e.PlusStore = 7)] = "PlusStore"),
            (e[(e.Mail = 8)] = "Mail"),
            (e[(e.Admin = 9)] = "Admin"),
            (e[(e.Moderator = 10)] = "Moderator"),
            (e[(e.User = 11)] = "User"),
            (e[(e.Guest = 12)] = "Guest"),
            (e[(e.Star = 13)] = "Star"),
            (e[(e.Players = 14)] = "Players"),
            (e[(e.ReplayIcon = 15)] = "ReplayIcon"),
            (e[(e.QuestionMark = 16)] = "QuestionMark"),
            (e[(e.InfoIcon = 17)] = "InfoIcon"),
            (e[(e.DangerIcon = 18)] = "DangerIcon"),
            (e[(e.KarmaWhite = 19)] = "KarmaWhite"),
            (e[(e.KarmaRed = 20)] = "KarmaRed"),
            (e[(e.KarmaOrange = 21)] = "KarmaOrange"),
            (e[(e.KarmaGreen = 22)] = "KarmaGreen"),
            (e[(e.DisableAdBlock = 23)] = "DisableAdBlock"),
            (e[(e.ColonistCoin = 24)] = "ColonistCoin"),
            (e[(e.Rulebook = 25)] = "Rulebook"),
            (e[(e.BankIcon = 26)] = "BankIcon"),
            (e[(e.FullScreenExpand = 27)] = "FullScreenExpand"),
            (e[(e.FullScreenContract = 28)] = "FullScreenContract"),
            (e[(e.FullScreenGif = 29)] = "FullScreenGif"),
            (e[(e.LeftArrow = 30)] = "LeftArrow"),
            (e[(e.Audio = 31)] = "Audio"),
            (e[(e.Eye = 32)] = "Eye"),
            (e[(e.SendArrow = 33)] = "SendArrow"),
            (e[(e.Settings = 34)] = "Settings"),
            (e[(e.Chat = 35)] = "Chat"),
            (e[(e.Log = 36)] = "Log"),
            (e[(e.MatchmakingSearch = 37)] = "MatchmakingSearch"),
            (e[(e.Lock = 38)] = "Lock"),
            (e[(e.LockOutlined = 39)] = "LockOutlined"),
            (e[(e.LockSlanted = 40)] = "LockSlanted"),
            (e[(e.Share = 41)] = "Share"),
            (e[(e.NoAds = 246)] = "NoAds"),
            (e[(e.Colors = 247)] = "Colors"),
            (e[(e.Avatars = 261)] = "Avatars"),
            (e[(e.Maps = 262)] = "Maps"),
            (e[(e.Expansions = 263)] = "Expansions"),
            (e[(e.AllColors = 264)] = "AllColors"),
            (e[(e.Memberships = 267)] = "Memberships"),
            (e[(e.RoadBronze = 42)] = "RoadBronze"),
            (e[(e.SettlementBronze = 43)] = "SettlementBronze"),
            (e[(e.CityBronze = 44)] = "CityBronze"),
            (e[(e.MapDiamondPreview = 45)] = "MapDiamondPreview"),
            (e[(e.MapLakesPreview = 46)] = "MapLakesPreview"),
            (e[(e.MapPondPreview = 47)] = "MapPondPreview"),
            (e[(e.MapGearPreview = 48)] = "MapGearPreview"),
            (e[(e.MapUSAPreview = 49)] = "MapUSAPreview"),
            (e[(e.MapTwirlPreview = 50)] = "MapTwirlPreview"),
            (e[(e.MapEarthPreview = 51)] = "MapEarthPreview"),
            (e[(e.MapUKPreview = 52)] = "MapUKPreview"),
            (e[(e.MapCyclopsPreview = 53)] = "MapCyclopsPreview"),
            (e[(e.MapClassic4PPreview = 54)] = "MapClassic4PPreview"),
            (e[(e.MapClassic56PPreview = 55)] = "MapClassic56PPreview"),
            (e[(e.MapClassic78PPreview = 56)] = "MapClassic78PPreview"),
            (e[(e.MapPangaeaPreview = 57)] = "MapPangaeaPreview"),
            (e[(e.MapSpinnerPreview = 58)] = "MapSpinnerPreview"),
            (e[(e.MapRandomBasePreview = 59)] = "MapRandomBasePreview"),
            (e[(e.MapRomaniaPreview = 60)] = "MapRomaniaPreview"),
            (e[(e.MapHourglassPreview = 61)] = "MapHourglassPreview"),
            (e[(e.MapHourglassXLPreview = 62)] = "MapHourglassXLPreview"),
            (e[(e.MapSnowflakePreview = 63)] = "MapSnowflakePreview"),
            (e[(e.MapShuffleBoardPreview = 64)] = "MapShuffleBoardPreview"),
            (e[(e.MapMiniBasePreview = 65)] = "MapMiniBasePreview"),
            (e[(e.MapAustraliaPreview = 66)] = "MapAustraliaPreview"),
            (e[(e.MapDuelPreview = 67)] = "MapDuelPreview"),
            (e[(e.MapMonopolyPreview = 68)] = "MapMonopolyPreview"),
            (e[(e.MapKingOfTheHillPreview = 69)] = "MapKingOfTheHillPreview"),
            (e[(e.MapMountainOfRichesPreview = 70)] =
              "MapMountainOfRichesPreview"),
            (e[(e.MapDoggoPreview = 71)] = "MapDoggoPreview"),
            (e[(e.MapTradeIslandsPreview = 72)] = "MapTradeIslandsPreview"),
            (e[(e.MapTurningTidesPreview = 73)] = "MapTurningTidesPreview"),
            (e[(e.MapBlackForestPreview = 74)] = "MapBlackForestPreview"),
            (e[(e.MapVolcanoPreview = 75)] = "MapVolcanoPreview"),
            (e[(e.MapCirclePreview = 76)] = "MapCirclePreview"),
            (e[(e.MapKitePreview = 77)] = "MapKitePreview"),
            (e[(e.MapVietnamPreview = 78)] = "MapVietnamPreview"),
            (e[(e.MapTwoIslesPreview = 79)] = "MapTwoIslesPreview"),
            (e[(e.MapJellyFishPreview = 80)] = "MapJellyFishPreview"),
            (e[(e.MapGoldRushPreview = 81)] = "MapGoldRushPreview"),
            (e[(e.MapIstanbulPreview = 82)] = "MapIstanbulPreview"),
            (e[(e.MapEuropePreview = 83)] = "MapEuropePreview"),
            (e[(e.MapStripesPreview = 84)] = "MapStripesPreview"),
            (e[(e.MapMonopolyIslandsPreview = 85)] =
              "MapMonopolyIslandsPreview"),
            (e[(e.MapSS1HeadingForNewShores3PPreview = 86)] =
              "MapSS1HeadingForNewShores3PPreview"),
            (e[(e.MapSS1HeadingForNewShores4PPreview = 87)] =
              "MapSS1HeadingForNewShores4PPreview"),
            (e[(e.MapSS1HeadingForNewShores56PPreview = 88)] =
              "MapSS1HeadingForNewShores56PPreview"),
            (e[(e.MapSS2FourIslands3PPreview = 89)] =
              "MapSS2FourIslands3PPreview"),
            (e[(e.MapSS2FourIslands4PPreview = 90)] =
              "MapSS2FourIslands4PPreview"),
            (e[(e.MapSS2SixIslands56PPreview = 91)] =
              "MapSS2SixIslands56PPreview"),
            (e[(e.MapSS3FogIslands3PPreview = 92)] =
              "MapSS3FogIslands3PPreview"),
            (e[(e.MapSS3FogIslands4PPreview = 93)] =
              "MapSS3FogIslands4PPreview"),
            (e[(e.MapSS3FogIslands56PPreview = 94)] =
              "MapSS3FogIslands56PPreview"),
            (e[(e.MapSS4ThroughTheDesert3PPreview = 95)] =
              "MapSS4ThroughTheDesert3PPreview"),
            (e[(e.MapSS4ThroughTheDesert4PPreview = 96)] =
              "MapSS4ThroughTheDesert4PPreview"),
            (e[(e.MapSS4ThroughTheDesert56PPreview = 97)] =
              "MapSS4ThroughTheDesert56PPreview"),
            (e[(e.GameMode1v1 = 98)] = "GameMode1v1"),
            (e[(e.GameModeBase = 99)] = "GameModeBase"),
            (e[(e.GameModeBase56P = 250)] = "GameModeBase56P"),
            (e[(e.GameModeBase78P = 251)] = "GameModeBase78P"),
            (e[(e.GameModeSeafarers = 252)] = "GameModeSeafarers"),
            (e[(e.GameModeSeafarers56P = 253)] = "GameModeSeafarers56P"),
            (e[(e.GameModeCnK = 100)] = "GameModeCnK"),
            (e[(e.GameModeCitiesAndKnights56P = 254)] =
              "GameModeCitiesAndKnights56P"),
            (e[(e.GameModeCnKSeafarers = 248)] = "GameModeCnKSeafarers"),
            (e[(e.GameModeSeafarersCitiesAndKnights56P = 255)] =
              "GameModeSeafarersCitiesAndKnights56P"),
            (e[(e.GameModeColonistRush = 270)] = "GameModeColonistRush"),
            (e[(e.GameModeBasePreview = 101)] = "GameModeBasePreview"),
            (e[(e.StoreMembershipPlus = 102)] = "StoreMembershipPlus"),
            (e[(e.StoreMembershipPremium = 103)] = "StoreMembershipPremium"),
            (e[(e.StoreMembershipElite = 104)] = "StoreMembershipElite"),
            (e[(e.StoreMembershipHoliday2023 = 105)] =
              "StoreMembershipHoliday2023"),
            (e[(e.StoreMembershipPerkAllMaps = 106)] =
              "StoreMembershipPerkAllMaps"),
            (e[(e.StoreMembershipPerkAllExpansions = 107)] =
              "StoreMembershipPerkAllExpansions"),
            (e[(e.StoreMembershipPerkRankedGames = 108)] =
              "StoreMembershipPerkRankedGames"),
            (e[(e.StoreMembershipPerkCustomLinks = 109)] =
              "StoreMembershipPerkCustomLinks"),
            (e[(e.StoreMembershipPerkColonistCoins = 110)] =
              "StoreMembershipPerkColonistCoins"),
            (e[(e.StoreMembershipPerkNoAds = 111)] =
              "StoreMembershipPerkNoAds"),
            (e[(e.StoreMembershipPerkNoAdsGifDesertBox = 112)] =
              "StoreMembershipPerkNoAdsGifDesertBox"),
            (e[(e.StoreMembershipPerkNoAdsGifGoldBox = 113)] =
              "StoreMembershipPerkNoAdsGifGoldBox"),
            (e[(e.StoreMembershipPerkNoAdsGifDesertHex = 114)] =
              "StoreMembershipPerkNoAdsGifDesertHex"),
            (e[(e.StoreMembershipPerkNoAdsGifGoldHex = 115)] =
              "StoreMembershipPerkNoAdsGifGoldHex"),
            (e[(e.StoreMembershipPerkAllColors = 116)] =
              "StoreMembershipPerkAllColors"),
            (e[(e.StoreItemExpansionClassic56P = 117)] =
              "StoreItemExpansionClassic56P"),
            (e[(e.StoreItemExpansionClassic78P = 118)] =
              "StoreItemExpansionClassic78P"),
            (e[(e.StoreItemSeafarers4P = 119)] = "StoreItemSeafarers4P"),
            (e[(e.StoreItemSeafarers56P = 120)] = "StoreItemSeafarers56P"),
            (e[(e.StoreItemCitiesAndKnights4P = 121)] =
              "StoreItemCitiesAndKnights4P"),
            (e[(e.StoreItemCitiesAndKnights56P = 122)] =
              "StoreItemCitiesAndKnights56P"),
            (e[(e.StoreItemCitiesAndKnightsSeafarers4P = 123)] =
              "StoreItemCitiesAndKnightsSeafarers4P"),
            (e[(e.StoreItemCitiesAndKnightsSeafarers56P = 124)] =
              "StoreItemCitiesAndKnightsSeafarers56P"),
            (e[(e.StoreColorBlack = 125)] = "StoreColorBlack"),
            (e[(e.StoreColorPurple = 126)] = "StoreColorPurple"),
            (e[(e.StoreColorMysticBlue = 127)] = "StoreColorMysticBlue"),
            (e[(e.StoreColorWhite = 128)] = "StoreColorWhite"),
            (e[(e.StoreColorBronze = 129)] = "StoreColorBronze"),
            (e[(e.StoreColorSilver = 130)] = "StoreColorSilver"),
            (e[(e.StoreColorGold = 131)] = "StoreColorGold"),
            (e[(e.StoreColorPink = 132)] = "StoreColorPink"),
            (e[(e.IconElephant = 133)] = "IconElephant"),
            (e[(e.IconSombrero = 134)] = "IconSombrero"),
            (e[(e.IconFarmer = 135)] = "IconFarmer"),
            (e[(e.IconAvocado = 136)] = "IconAvocado"),
            (e[(e.IconCactus = 137)] = "IconCactus"),
            (e[(e.IconCrown = 138)] = "IconCrown"),
            (e[(e.IconSwords = 139)] = "IconSwords"),
            (e[(e.IconHelmet = 140)] = "IconHelmet"),
            (e[(e.IconSnorkel = 141)] = "IconSnorkel"),
            (e[(e.IconScarf = 142)] = "IconScarf"),
            (e[(e.IconTie = 143)] = "IconTie"),
            (e[(e.IconWorker = 144)] = "IconWorker"),
            (e[(e.IconMummy = 145)] = "IconMummy"),
            (e[(e.IconSettlerHat = 146)] = "IconSettlerHat"),
            (e[(e.IconColonistHat = 147)] = "IconColonistHat"),
            (e[(e.IconFounderHat = 148)] = "IconFounderHat"),
            (e[(e.IconChristmasHat = 149)] = "IconChristmasHat"),
            (e[(e.IconPirateShip = 150)] = "IconPirateShip"),
            (e[(e.IconMedalGold = 151)] = "IconMedalGold"),
            (e[(e.IconMedalSilver = 152)] = "IconMedalSilver"),
            (e[(e.IconMedalBronze = 153)] = "IconMedalBronze"),
            (e[(e.IconRobberSanta = 154)] = "IconRobberSanta"),
            (e[(e.IconRobberLunar = 155)] = "IconRobberLunar"),
            (e[(e.IconRobberCupid = 156)] = "IconRobberCupid"),
            (e[(e.IconGifter = 256)] = "IconGifter"),
            (e[(e.IconNoTroll = 258)] = "IconNoTroll"),
            (e[(e.SettlerPack = 157)] = "SettlerPack"),
            (e[(e.ColonistPack = 158)] = "ColonistPack"),
            (e[(e.FounderPack = 159)] = "FounderPack"),
            (e[(e.Bank = 160)] = "Bank"),
            (e[(e.Robber = 161)] = "Robber"),
            (e[(e.Dice6 = 162)] = "Dice6"),
            (e[(e.PrivateGame = 163)] = "PrivateGame"),
            (e[(e.HideBankCards = 164)] = "HideBankCards"),
            (e[(e.RoadRed = 165)] = "RoadRed"),
            (e[(e.RoadBlue = 166)] = "RoadBlue"),
            (e[(e.RoadGreen = 167)] = "RoadGreen"),
            (e[(e.RoadOrange = 168)] = "RoadOrange"),
            (e[(e.RoadBlack = 169)] = "RoadBlack"),
            (e[(e.RoadSilver = 170)] = "RoadSilver"),
            (e[(e.RoadGold = 171)] = "RoadGold"),
            (e[(e.RoadWhite = 172)] = "RoadWhite"),
            (e[(e.RoadPurple = 173)] = "RoadPurple"),
            (e[(e.RoadMysticBlue = 174)] = "RoadMysticBlue"),
            (e[(e.RoadPink = 175)] = "RoadPink"),
            (e[(e.SettlementRed = 176)] = "SettlementRed"),
            (e[(e.SettlementBlue = 177)] = "SettlementBlue"),
            (e[(e.SettlementGreen = 178)] = "SettlementGreen"),
            (e[(e.SettlementOrange = 179)] = "SettlementOrange"),
            (e[(e.SettlementBlack = 180)] = "SettlementBlack"),
            (e[(e.SettlementSilver = 181)] = "SettlementSilver"),
            (e[(e.SettlementGold = 182)] = "SettlementGold"),
            (e[(e.SettlementWhite = 183)] = "SettlementWhite"),
            (e[(e.SettlementPurple = 184)] = "SettlementPurple"),
            (e[(e.SettlementMysticBlue = 185)] = "SettlementMysticBlue"),
            (e[(e.SettlementPink = 186)] = "SettlementPink"),
            (e[(e.CityRed = 187)] = "CityRed"),
            (e[(e.CityBlue = 188)] = "CityBlue"),
            (e[(e.CityGreen = 189)] = "CityGreen"),
            (e[(e.CityOrange = 190)] = "CityOrange"),
            (e[(e.CityBlack = 191)] = "CityBlack"),
            (e[(e.CitySilver = 192)] = "CitySilver"),
            (e[(e.CityGold = 193)] = "CityGold"),
            (e[(e.CityWhite = 194)] = "CityWhite"),
            (e[(e.CityPurple = 195)] = "CityPurple"),
            (e[(e.CityMysticBlue = 196)] = "CityMysticBlue"),
            (e[(e.CityPink = 197)] = "CityPink"),
            (e[(e.CoinStack1 = 198)] = "CoinStack1"),
            (e[(e.CoinStack2 = 199)] = "CoinStack2"),
            (e[(e.CoinStack3 = 200)] = "CoinStack3"),
            (e[(e.CoinStack4 = 201)] = "CoinStack4"),
            (e[(e.CoinStack5 = 202)] = "CoinStack5"),
            (e[(e.CoinStack6 = 203)] = "CoinStack6"),
            (e[(e.Friends = 204)] = "Friends"),
            (e[(e.AddFriend = 266)] = "AddFriend"),
            (e[(e.GoogleIcon = 205)] = "GoogleIcon"),
            (e[(e.AppleIcon = 206)] = "AppleIcon"),
            (e[(e.DiscordIcon = 207)] = "DiscordIcon"),
            (e[(e.FacebookIcon = 208)] = "FacebookIcon"),
            (e[(e.RankBronze = 209)] = "RankBronze"),
            (e[(e.RankSilver = 210)] = "RankSilver"),
            (e[(e.RankGold = 211)] = "RankGold"),
            (e[(e.RankPlatinum = 212)] = "RankPlatinum"),
            (e[(e.RankDiamond = 213)] = "RankDiamond"),
            (e[(e.RankMaster = 214)] = "RankMaster"),
            (e[(e.RankGrandmaster = 215)] = "RankGrandmaster"),
            (e[(e.RankSubdivisionI = 216)] = "RankSubdivisionI"),
            (e[(e.RankSubdivisionII = 217)] = "RankSubdivisionII"),
            (e[(e.RankSubdivisionIII = 218)] = "RankSubdivisionIII"),
            (e[(e.RankSubdivisionIV = 219)] = "RankSubdivisionIV"),
            (e[(e.RankSubdivisionV = 220)] = "RankSubdivisionV"),
            (e[(e.LandscapeIcon = 221)] = "LandscapeIcon"),
            (e[(e.PortraitIcon = 222)] = "PortraitIcon"),
            (e[(e.RewindToStart = 223)] = "RewindToStart"),
            (e[(e.Rewind = 224)] = "Rewind"),
            (e[(e.Play = 225)] = "Play"),
            (e[(e.Pause = 226)] = "Pause"),
            (e[(e.FastForward = 227)] = "FastForward"),
            (e[(e.FastForwardToEnd = 228)] = "FastForwardToEnd"),
            (e[(e.X05 = 229)] = "X05"),
            (e[(e.X1 = 230)] = "X1"),
            (e[(e.X2 = 231)] = "X2"),
            (e[(e.X4 = 232)] = "X4"),
            (e[(e.X8 = 233)] = "X8"),
            (e[(e.DownArrowBlack = 265)] = "DownArrowBlack"),
            (e[(e.DownArrow = 234)] = "DownArrow"),
            (e[(e.UpArrow = 235)] = "UpArrow"),
            (e[(e.LongestRoad = 236)] = "LongestRoad"),
            (e[(e.LargestArmy = 237)] = "LargestArmy"),
            (e[(e.CardMonopoly = 238)] = "CardMonopoly"),
            (e[(e.CardVictoryPoint = 239)] = "CardVictoryPoint"),
            (e[(e.ProfileOverview = 240)] = "ProfileOverview"),
            (e[(e.ProfileRanked = 241)] = "ProfileRanked"),
            (e[(e.ProfileHistory = 242)] = "ProfileHistory"),
            (e[(e.ProfileItems = 243)] = "ProfileItems"),
            (e[(e.ProfileMemberships = 269)] = "ProfileMemberships"),
            (e[(e.ProfileSettings = 244)] = "ProfileSettings"),
            (e[(e.StoreGiftMembership = 245)] = "StoreGiftMembership"),
            (e[(e.StoreGiftMembershipDark = 249)] = "StoreGiftMembershipDark"),
            (e[(e.TournamentCC25 = 283)] = "TournamentCC25"),
            (e[(e.TournamentS11First = 257)] = "TournamentS11First"),
            (e[(e.Tournament4P = 260)] = "Tournament4P"),
            (e[(e.BannerMember = 259)] = "BannerMember"),
            (e[(e.BannerShuffle = 282)] = "BannerShuffle"),
            (e[(e.LandscapeDeprecationWarning = 268)] =
              "LandscapeDeprecationWarning"),
            (e[(e.IconRotation = 271)] = "IconRotation"),
            (e[(e.IconTimeBomb = 272)] = "IconTimeBomb"),
            (e[(e.GameModeShuffle = 273)] = "GameModeShuffle"),
            (e[(e.IconBeta = 275)] = "IconBeta"),
            (e[(e.BotBeginner = 276)] = "BotBeginner"),
            (e[(e.BotEasy = 277)] = "BotEasy"),
            (e[(e.BotMedium = 278)] = "BotMedium"),
            (e[(e.BotHard = 279)] = "BotHard"),
            (e[(e.GameModeRanked1v1 = 280)] = "GameModeRanked1v1"),
            (e[(e.GameModeRanked4P = 281)] = "GameModeRanked4P"),
            e
          );
        })({}),
        n = (function (e) {
          return (
            (e[(e.PlusMonthly = 0)] = "PlusMonthly"),
            (e[(e.PremiumMonthly = 1)] = "PremiumMonthly"),
            (e[(e.EliteMonthly = 2)] = "EliteMonthly"),
            (e[(e.PlusYearly = 3)] = "PlusYearly"),
            (e[(e.PremiumYearly = 4)] = "PremiumYearly"),
            (e[(e.EliteYearly = 5)] = "EliteYearly"),
            (e[(e.Holiday2023AllAccessPass = 6)] = "Holiday2023AllAccessPass"),
            e
          );
        })({});
      var r = (function (e) {
          return (
            (e[(e.Holiday2023AllAccessPass = 0)] = "Holiday2023AllAccessPass"),
            (e[(e.GiftPlusMonthly = 1)] = "GiftPlusMonthly"),
            (e[(e.GiftPremiumMonthly = 2)] = "GiftPremiumMonthly"),
            (e[(e.GiftEliteMonthly = 3)] = "GiftEliteMonthly"),
            (e[(e.GiftPlusYearly = 4)] = "GiftPlusYearly"),
            (e[(e.GiftPremiumYearly = 5)] = "GiftPremiumYearly"),
            (e[(e.GiftEliteYearly = 6)] = "GiftEliteYearly"),
            e
          );
        })({}),
        o = (function (e) {
          return (
            (e[(e.Seafarers4P = 0)] = "Seafarers4P"),
            (e[(e.CitiesAndKnights4P = 1)] = "CitiesAndKnights4P"),
            (e[(e.TradersAndBarbarians = 2)] = "TradersAndBarbarians"),
            (e[(e.ExplorersAndPirates = 3)] = "ExplorersAndPirates"),
            (e[(e.Classic56P = 4)] = "Classic56P"),
            (e[(e.Classic78P = 5)] = "Classic78P"),
            (e[(e.Seafarers56P = 6)] = "Seafarers56P"),
            (e[(e.CitiesAndKnights56P = 7)] = "CitiesAndKnights56P"),
            (e[(e.CitiesAndKnightsSeafarers4P = 8)] =
              "CitiesAndKnightsSeafarers4P"),
            (e[(e.CitiesAndKnightsSeafarers56P = 9)] =
              "CitiesAndKnightsSeafarers56P"),
            e
          );
        })({});
      const a = 130,
        c = 137,
        l = "2";
      var d = (function (e) {
        return (
          (e[(e.GameAction = 1)] = "GameAction"),
          (e[(e.LobbyAction = 2)] = "LobbyAction"),
          (e[(e.RoomAction = 3)] = "RoomAction"),
          (e[(e.MatchmakingAction = 4)] = "MatchmakingAction"),
          (e[(e.ChannelAction = 5)] = "ChannelAction"),
          (e[(e.Noop = 6)] = "Noop"),
          (e[(e.GeneralAction = 7)] = "GeneralAction"),
          (e[(e.Echo = 8)] = "Echo"),
          (e[(e.CloseSocket = 9)] = "CloseSocket"),
          (e[(e.RoomCommand = 10)] = "RoomCommand"),
          (e[(e.ShuffleAction = 11)] = "ShuffleAction"),
          e
        );
      })({});
      const u = 4007,
        h = 4012,
        p = 4015,
        m = 4017,
        g = 4018,
        f = 4019;
      if (517 != s.j) var y = s(13047);
      var b = (function (e) {
          return (
            (e[(e.Unknown = 0)] = "Unknown"),
            (e[(e.Tutorial = 1)] = "Tutorial"),
            (e[(e.BotGame = 2)] = "BotGame"),
            (e[(e.CreatedRoomGame = 3)] = "CreatedRoomGame"),
            (e[(e.MatchmakingGame = 5)] = "MatchmakingGame"),
            (e[(e.MatchmakingGameRanked = 6)] = "MatchmakingGameRanked"),
            (e[(e.BeginnerMode = 7)] = "BeginnerMode"),
            (e[(e.CreatedTournamentRoom = 8)] = "CreatedTournamentRoom"),
            e
          );
        })({}),
        v = (function (e) {
          return (
            (e[(e.Classic4P = 0)] = "Classic4P"),
            (e[(e.TutorialClassic4P = 1)] = "TutorialClassic4P"),
            (e[(e.Classic56P = 2)] = "Classic56P"),
            (e[(e.Classic78P = 3)] = "Classic78P"),
            (e[(e.Seafarers4P = 4)] = "Seafarers4P"),
            (e[(e.Seafarers56P = 5)] = "Seafarers56P"),
            (e[(e.CitiesAndKnights4P = 6)] = "CitiesAndKnights4P"),
            (e[(e.CitiesAndKnights56P = 7)] = "CitiesAndKnights56P"),
            (e[(e.CitiesAndKnightsSeafarers4P = 8)] =
              "CitiesAndKnightsSeafarers4P"),
            (e[(e.CitiesAndKnightsSeafarers56P = 9)] =
              "CitiesAndKnightsSeafarers56P"),
            (e[(e.ServerStressTestClassic4P = 10)] =
              "ServerStressTestClassic4P"),
            (e[(e.BeginnerModeClassic4P = 11)] = "BeginnerModeClassic4P"),
            (e[(e.ColonistRush4P = 12)] = "ColonistRush4P"),
            e
          );
        })({}),
        S = (function (e) {
          return (
            (e[(e.Classic4P = 0)] = "Classic4P"),
            (e[(e.TutorialClassic4P = 1)] = "TutorialClassic4P"),
            (e[(e.Classic4PRandom = 2)] = "Classic4PRandom"),
            (e[(e.Classic56P = 3)] = "Classic56P"),
            (e[(e.Classic78P = 4)] = "Classic78P"),
            (e[(e.SS1HeadingForNewShores3P = 5)] = "SS1HeadingForNewShores3P"),
            (e[(e.SS1HeadingForNewShores4P = 6)] = "SS1HeadingForNewShores4P"),
            (e[(e.SS1HeadingForNewShores56P = 7)] =
              "SS1HeadingForNewShores56P"),
            (e[(e.TutorialSS1HeadingForNewShores4P = 8)] =
              "TutorialSS1HeadingForNewShores4P"),
            (e[(e.SS2FourIslands3P = 9)] = "SS2FourIslands3P"),
            (e[(e.SS2FourIslands4P = 10)] = "SS2FourIslands4P"),
            (e[(e.SS2SixIslands56P = 11)] = "SS2SixIslands56P"),
            (e[(e.TutorialSS2FourIslands4P = 12)] = "TutorialSS2FourIslands4P"),
            (e[(e.SS3FogIslands3P = 13)] = "SS3FogIslands3P"),
            (e[(e.SS3FogIslands4P = 14)] = "SS3FogIslands4P"),
            (e[(e.SS3FogIslands56P = 15)] = "SS3FogIslands56P"),
            (e[(e.TutorialSS3FogIsland4P = 16)] = "TutorialSS3FogIsland4P"),
            (e[(e.SS4ThroughTheDesert3P = 17)] = "SS4ThroughTheDesert3P"),
            (e[(e.SS4ThroughTheDesert4P = 18)] = "SS4ThroughTheDesert4P"),
            (e[(e.SS4ThroughTheDesert56P = 19)] = "SS4ThroughTheDesert56P"),
            (e[(e.TutorialSS4ThroughTheDesert4P = 20)] =
              "TutorialSS4ThroughTheDesert4P"),
            (e[(e.KingOfTheHill = 21)] = "KingOfTheHill"),
            (e[(e.Earth = 22)] = "Earth"),
            (e[(e.EarthSeafarers = 23)] = "EarthSeafarers"),
            (e[(e.USA = 24)] = "USA"),
            (e[(e.UK = 25)] = "UK"),
            (e[(e.UKSeafarers = 26)] = "UKSeafarers"),
            (e[(e.Diamond = 27)] = "Diamond"),
            (e[(e.Gear = 28)] = "Gear"),
            (e[(e.Lakes = 29)] = "Lakes"),
            (e[(e.Pond = 30)] = "Pond"),
            (e[(e.Twirl = 31)] = "Twirl"),
            (e[(e.ShuffleBoard = 32)] = "ShuffleBoard"),
            (e[(e.BlackForest = 33)] = "BlackForest"),
            (e[(e.Volcano = 34)] = "Volcano"),
            (e[(e.Circle = 35)] = "Circle"),
            (e[(e.Kite = 36)] = "Kite"),
            (e[(e.Romania = 37)] = "Romania"),
            (e[(e.MiniBase = 38)] = "MiniBase"),
            (e[(e.Monopoly = 39)] = "Monopoly"),
            (e[(e.MountainOfRiches = 40)] = "MountainOfRiches"),
            (e[(e.Doggo = 41)] = "Doggo"),
            (e[(e.Duel = 42)] = "Duel"),
            (e[(e.TradeIslands = 43)] = "TradeIslands"),
            (e[(e.TradeIslandsSeafarers = 44)] = "TradeIslandsSeafarers"),
            (e[(e.Vietnam = 45)] = "Vietnam"),
            (e[(e.TurningTidesSeafarers = 46)] = "TurningTidesSeafarers"),
            (e[(e.TurningTidesClassic = 47)] = "TurningTidesClassic"),
            (e[(e.TwoIsles = 48)] = "TwoIsles"),
            (e[(e.JellyFish = 49)] = "JellyFish"),
            (e[(e.GoldRush = 50)] = "GoldRush"),
            (e[(e.Istanbul = 51)] = "Istanbul"),
            (e[(e.IstanbulSeafarers = 52)] = "IstanbulSeafarers"),
            (e[(e.Europe = 53)] = "Europe"),
            (e[(e.EuropeSeafarers = 54)] = "EuropeSeafarers"),
            (e[(e.Stripes = 55)] = "Stripes"),
            (e[(e.MonopolyIslands = 56)] = "MonopolyIslands"),
            (e[(e.MonopolyIslandsSeafarers = 57)] = "MonopolyIslandsSeafarers"),
            (e[(e.CampaignLevel1 = 58)] = "CampaignLevel1"),
            (e[(e.CampaignLevel2 = 59)] = "CampaignLevel2"),
            (e[(e.CampaignRoadRace = 60)] = "CampaignRoadRace"),
            (e[(e.CampaignRoadRace2 = 61)] = "CampaignRoadRace2"),
            e
          );
        })({});
      function k(e) {
        switch (e) {
          case 0:
          case 6:
          default:
            return 0;
          case 1:
          case 10:
            return 1;
          case 11:
            return 58;
          case 2:
          case 7:
            return 3;
          case 3:
            return 4;
          case 4:
          case 8:
            return 6;
          case 5:
          case 9:
            return 7;
        }
      }
      var C = (function (e) {
          return (
            (e[(e.Base30s = 0)] = "Base30s"),
            (e[(e.Base60s = 1)] = "Base60s"),
            (e[(e.Base120s = 2)] = "Base120s"),
            (e[(e.Base240s = 3)] = "Base240s"),
            (e[(e.Base12000s = 4)] = "Base12000s"),
            (e[(e.Rush5s = 5)] = "Rush5s"),
            (e[(e.Rush8s = 6)] = "Rush8s"),
            (e[(e.Rush10s = 7)] = "Rush10s"),
            (e[(e.Rush15s = 8)] = "Rush15s"),
            (e[(e.Rush20s = 9)] = "Rush20s"),
            (e[(e.Base15s = 10)] = "Base15s"),
            e
          );
        })({}),
        P = (function (e) {
          return (
            (e[(e.Inactive = 0)] = "Inactive"),
            (e[(e.HiddenUnranked1v1 = 1)] = "HiddenUnranked1v1"),
            (e[(e.HiddenUnranked4PClassic = 2)] = "HiddenUnranked4PClassic"),
            (e[(e.VisibleRanked1v1 = 3)] = "VisibleRanked1v1"),
            (e[(e.VisibleRanked4PClassic = 4)] = "VisibleRanked4PClassic"),
            (e[(e.VisibleRankedCitiesAndKnights4P = 5)] =
              "VisibleRankedCitiesAndKnights4P"),
            (e[(e.HiddenUnrankedShuffle = 6)] = "HiddenUnrankedShuffle"),
            e
          );
        })({}),
        _ = (function (e) {
          return (
            (e[(e.Players4 = 0)] = "Players4"),
            (e[(e.Players56 = 1)] = "Players56"),
            (e[(e.Players78 = 2)] = "Players78"),
            e
          );
        })({}),
        A = (function (e) {
          return (
            (e[(e.None = 0)] = "None"),
            (e[(e.SS1HeadingForNewShores = 1)] = "SS1HeadingForNewShores"),
            (e[(e.SS2TheFourIslands = 2)] = "SS2TheFourIslands"),
            (e[(e.SS3TheFogIslands = 3)] = "SS3TheFogIslands"),
            (e[(e.SS4ThroughTheDesert = 4)] = "SS4ThroughTheDesert"),
            e
          );
        })({}),
        w = (function (e) {
          return (
            (e[(e.Random = 0)] = "Random"),
            (e[(e.Balanced = 1)] = "Balanced"),
            (e[(e.StressTestSequence = 2)] = "StressTestSequence"),
            (e[(e.PredefinedDiceSequenceDeleted = 3)] =
              "PredefinedDiceSequenceDeleted"),
            e
          );
        })({}),
        R = (function (e) {
          return (
            (e[(e.Fast = 0)] = "Fast"),
            (e[(e.Normal = 1)] = "Normal"),
            (e[(e.Slow = 2)] = "Slow"),
            e
          );
        })({});
      class T {}
      ((T.SUPPORT_EMAIL = "help@colonist.io"),
        (T.DISCORD_CHANNEL = "https://discord.gg/colonist"),
        (T.DISCORD_SERVER_ID = "605233308577562643"),
        (T.BLOG_URL = "https://blog.colonist.io"),
        (T.FEATURE_UPVOTE_URL = "https://colonist.featureupvote.com"),
        (T.APP_STORE_URL =
          "https://apps.apple.com/us/app/colonist-io/id6444831129"),
        (T.PLAY_STORE_URL =
          "https://play.google.com/store/apps/details?id=com.colonist.colonist"));
      var I = (function (e) {
        return (
          (e[(e.Administrator = 0)] = "Administrator"),
          (e[(e.User = 1)] = "User"),
          (e[(e.Manager = 4)] = "Manager"),
          (e[(e.Moderator = 5)] = "Moderator"),
          e
        );
      })({});
      const M = 200;
      var L = (function (e) {
        return (
          (e[(e.Unknown = 0)] = "Unknown"),
          (e[(e.Web = 1)] = "Web"),
          (e[(e.Discord = 2)] = "Discord"),
          (e[(e.AppleWeb = 3)] = "AppleWeb"),
          (e[(e.AppleApp = 4)] = "AppleApp"),
          (e[(e.AndroidWeb = 5)] = "AndroidWeb"),
          (e[(e.AndroidApp = 6)] = "AndroidApp"),
          (e[(e.MobileUnknown = 7)] = "MobileUnknown"),
          (e[(e.DiscordMobile = 8)] = "DiscordMobile"),
          e
        );
      })({});
      const B = /^(51|83)7$/.test(s.j) ? null : [2, 8];
      class D extends Error {
        constructor() {
          super("AbortError");
        }
      }
      const E = /^(51|83)7$/.test(s.j) ? null : 2810,
        G = 4;
    },
    78347: (e, t, s) => {
      "use strict";
      s.d(t, { H: () => r });
      var i = s(9029),
        n = s(95176);
      class r extends n.y {
        createLoadingSpinner() {
          ((this.loadingContainer = (0, i.Le)(
            this.body,
            "popup-patch-note-image-loading",
            "",
          )),
            this.loadingContainer.setAttribute("role", "status"),
            this.loadingContainer.setAttribute("aria-live", "polite"),
            this.loadingContainer.setAttribute("aria-label", "Loading image"));
          const e = (0, i.Le)(this.loadingContainer, "loading-spinner", "");
          (e.setAttribute("role", "img"),
            e.setAttribute("aria-label", "Loading spinner"));
        }
        async loadImage(e) {
          try {
            let t;
            if (e.startsWith("http")) t = e;
            else {
              const i = await s(88341)(`./patch_notes${e}`);
              t = i.default;
            }
            const n = r.getAltText(e),
              o = document.createElement("IMG");
            o.alt = n;
            let a = !1,
              c = !1;
            if (
              (await new Promise((e) => {
                const s = () => {
                  c || ((c = !0), e());
                };
                ((o.onload = () => {
                  ((a = !0), s());
                }),
                  (o.onerror = () => {
                    s();
                  }),
                  (o.src = t),
                  setTimeout(() => {
                    !c && o.complete && o.naturalWidth > 0 && ((a = !0), s());
                  }, 0));
              }),
              this.loadingContainer &&
                (this.body.removeChild(this.loadingContainer),
                (this.loadingContainer = null)),
              !a)
            ) {
              const e = (0, i.i5)(this.body, "popup-patch-note-image-error", {
                key: "strings:popups.patchNote.imageFailedToLoad",
              });
              return (
                e.setAttribute("role", "alert"),
                void e.setAttribute("aria-live", "assertive")
              );
            }
            this.body.appendChild(o);
          } catch (e) {
            this.loadingContainer &&
              (this.body.removeChild(this.loadingContainer),
              (this.loadingContainer = null));
            const t = (0, i.i5)(this.body, "popup-patch-note-image-error", {
              key: "strings:popups.patchNote.imageFailedToLoad",
            });
            (t.setAttribute("role", "alert"),
              t.setAttribute("aria-live", "assertive"));
          }
        }
        static getAltText(e) {
          return e
            .replace(/\.[^.]+$/, "")
            .replace(/[_-]/g, " ")
            .replace(/\b\w/g, (e) => e.toUpperCase());
        }
        constructor(e, t) {
          (super(
            e,
            void 0,
            () => {},
            () => {},
            !0,
            { showXButton: !1 },
          ),
            (this.loadingContainer = null),
            this.container.classList.add("popup-patch-note-image"),
            this.createLoadingSpinner(),
            this.show(),
            this.loadImage(t));
        }
      }
    },
    78491: (e, t, s) => {
      "use strict";
      s.d(t, { V: () => r });
      var i = s(9029),
        n = s(35742);
      class r extends n.u {
        constructor(e) {
          const t = e ? document.getElementById(e) : document,
            s = t.querySelector(".content_singleton_page"),
            n = t.querySelector(".singleton_page_sidebar");
          (super(s, n),
            null == s ||
              s.addEventListener("scroll", () => this.onContentScroll()),
            (0, i.G0)(n, (e) => this.onSidebarClick(e)));
        }
      }
    },
    78524: (e, t, s) => {
      "use strict";
      s.d(t, { Z: () => r });
      var i = s(78311),
        n = s(50482);
      class r extends n.Zt {
        static getAllMembershipProducts() {
          return Array.from(this.products.values());
        }
        static initProducts(e) {
          const t = new n.Zt({
            type: i.Qb.PlusMonthly,
            price: 899,
            discordSKUId: e.giftMembershipPlus,
            membershipTitle: { key: "strings:storePage.membership.title.plus" },
            membershipColor: "membership_type1",
            lobbyImage: i.am.StoreMembershipPlus,
            perks: [new n.vN(), new n.WM(), new n.Io()],
            billedAnnually: !1,
            bestValue: !1,
            mobileIAPSKUId: n.a8.PlusMonthly,
            discount: 0,
            isActive: () => !0,
          });
          ((t.oneTimePurchaseType = i.IM.GiftPlusMonthly),
            this.products.set(i.Qb.PlusMonthly, t));
          const s = new n.Zt({
            type: i.Qb.PremiumMonthly,
            price: 1899,
            discordSKUId: e.giftMembershipPremium,
            mobileIAPSKUId: n.a8.PremiumMonthly,
            membershipTitle: {
              key: "strings:storePage.membership.title.premium",
            },
            membershipColor: "membership_type2",
            lobbyImage: i.am.StoreMembershipPremium,
            perks: [new n.vN(), new n.WM(), new n.FN(), new n.ky(), new n.Z5()],
            billedAnnually: !1,
            bestValue: !0,
            discount: 0,
            isActive: () => !0,
          });
          ((s.oneTimePurchaseType = i.IM.GiftPremiumMonthly),
            this.products.set(i.Qb.PremiumMonthly, s));
          const r = new n.Zt({
            type: i.Qb.EliteMonthly,
            price: 2499,
            discordSKUId: e.giftMembershipElite,
            mobileIAPSKUId: n.a8.EliteMonthly,
            membershipTitle: {
              key: "strings:storePage.membership.title.elite",
            },
            membershipColor: "membership_type3",
            lobbyImage: i.am.StoreMembershipElite,
            perks: [
              new n.vN(),
              new n.WM(),
              new n.FN(),
              new n.ky(),
              new n.Z5(),
              new n.s9(),
            ],
            billedAnnually: !1,
            bestValue: !1,
            discount: 0,
            isActive: () => !0,
          });
          ((r.oneTimePurchaseType = i.IM.GiftEliteMonthly),
            this.products.set(i.Qb.EliteMonthly, r));
          const o = new n.Zt({
            type: i.Qb.PlusYearly,
            price: 8388,
            discordSKUId: e.giftMembershipPlusYearly,
            mobileIAPSKUId: n.a8.PlusYearly,
            membershipTitle: { key: "strings:storePage.membership.title.plus" },
            membershipColor: "membership_type1",
            lobbyImage: i.am.StoreMembershipPlus,
            perks: [new n.vN(), new n.WM(), new n.Io()],
            billedAnnually: !1,
            bestValue: !1,
            discount: 24,
            isActive: () => !0,
          });
          ((o.oneTimePurchaseType = i.IM.GiftPlusYearly),
            this.products.set(i.Qb.PlusYearly, o));
          const a = new n.Zt({
            type: i.Qb.PremiumYearly,
            price: 17988,
            discordSKUId: e.giftMembershipPremiumYearly,
            mobileIAPSKUId: n.a8.PremiumYearly,
            membershipTitle: {
              key: "strings:storePage.membership.title.premium",
            },
            membershipColor: "membership_type2",
            lobbyImage: i.am.StoreMembershipPremium,
            perks: [new n.vN(), new n.WM(), new n.FN(), new n.ky(), new n.Z5()],
            billedAnnually: !1,
            bestValue: !0,
            discount: 48,
            isActive: () => !0,
          });
          ((a.oneTimePurchaseType = i.IM.GiftPremiumYearly),
            this.products.set(i.Qb.PremiumYearly, a));
          const c = new n.Zt({
            type: i.Qb.EliteYearly,
            price: 23988,
            discordSKUId: e.giftMembershipEliteYearly,
            mobileIAPSKUId: n.a8.EliteYearly,
            membershipTitle: {
              key: "strings:storePage.membership.title.elite",
            },
            membershipColor: "membership_type3",
            lobbyImage: i.am.StoreMembershipElite,
            perks: [
              new n.vN(),
              new n.WM(),
              new n.FN(),
              new n.ky(),
              new n.Z5(),
              new n.s9(),
            ],
            billedAnnually: !1,
            bestValue: !1,
            discount: 60,
            isActive: () => !0,
          });
          ((c.oneTimePurchaseType = i.IM.GiftEliteYearly),
            this.products.set(i.Qb.EliteYearly, c));
        }
      }
      r.products = new Map();
    },
    78537: (e, t, s) => {
      "use strict";
      s.d(t, { q: () => o });
      var i = s(45973),
        n = s(65015),
        r = s(9029);
      class o {
        scrollAction() {
          if (this.hasReachedDataEnd) return;
          const e = this.tableContainer.scrollTop,
            t = this.tableContainer.clientHeight,
            s = 0.1 * t;
          e > this.tablebody.clientHeight - t - s && this.fetchDataCallback();
        }
        updateStickyRowStyle() {
          const e = this.tableContainer.scrollTop,
            t = this.tableContainer.clientHeight,
            s = this.getMyRowIndex();
          this.stickyRowController.updateStickyRowStyle(t, e, s);
        }
        getRowCount() {
          return this.tableRowViews.length;
        }
        updateRankingData(e, t) {
          this.hasReachedDataEnd =
            e.length !== i.B.maximumLeaderboardAPIRankingRangeLimit;
          for (const s of e) {
            const e = new n.g(this.tablebody, s, this.getRowCount(), t);
            this.tableRowViews.push(e);
          }
        }
        getMyRowIndex() {
          for (const [e, t] of this.tableRowViews.entries())
            if (t.rowData.myData) return e;
        }
        scrollToTop() {
          this.tableContainer.scrollTop = 0;
        }
        clearData() {
          (this.tablebody.replaceChildren(),
            this.noFriendsDisplay.replaceChildren(),
            (this.tableRowViews = []));
        }
        displayNoContentMessage() {
          (0, r.RH)(this.noFriendsDisplay, {
            key: "strings:leaderboardPage.noRankedFriends",
          });
        }
        constructor(e, t) {
          ((this.hasReachedDataEnd = !1),
            (this.tableRowViews = []),
            (this.stickyRowController = t),
            (this.fetchDataCallback = e),
            (this.tableContainer = document.getElementById(
              "leaderboard_ranking_table_container",
            )),
            (this.tablebody = document.getElementById(
              "leaderboard_ranking_table",
            )),
            (this.noFriendsDisplay = document.getElementById(
              "leaderboard_no_friends_display",
            )),
            this.tableContainer.addEventListener("scroll", () => {
              (this.scrollAction(), this.updateStickyRowStyle());
            }),
            window.addEventListener("resize", () => {
              this.updateStickyRowStyle();
            }));
        }
      }
    },
    78876: (e, t, s) => {
      "use strict";
      s.d(t, { l: () => o });
      var i = s(83633),
        n = s(41931),
        r = s(66681);
      class o {
        static initRoomSettingFromLocalStorage(e) {
          const t = o.getLocalStorageDiceSettings();
          null != t && r.sZ.roomClient.setDiceType(t);
          const s = o.getLocalStorageFriendlyRobberSettings();
          null != s && r.sZ.roomClient.setFriendlyRobber(s);
          const i = o.getLocalStorageGameSpeedSettings();
          if (null != i) {
            const t = o.getSpeedSettingToUse(e, i);
            r.sZ.roomClient.setGameSpeed(t);
          }
        }
        static getLocalStorageDiceSettings() {
          const e = n.p.getRoomDiceSetting();
          if (null != e) return e;
        }
        static getLocalStorageFriendlyRobberSettings() {
          const e = n.p.getRoomFriendlyRobberActiveSetting();
          if (null != e) return e;
        }
        static getLocalStorageGameSpeedSettings() {
          const e = n.p.getRoomGameSpeedSetting();
          if (null != e) return e;
        }
        static getSpeedSettingToUse(e, t) {
          const s = i.qq.getModeDataForMode(e);
          if (null == s) return t;
          var n;
          const r =
            null !== (n = s.allowedGameTimers.find((e) => i.M1[e].isDefault)) &&
            void 0 !== n
              ? n
              : s.allowedGameTimers[0];
          return s.allowedGameTimers.some((e) => e === t) ? t : r;
        }
      }
    },
    79048: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/prob_5.17073f845fcfa2267dd9.svg";
    },
    79163: (e, t, s) => {
      "use strict";
      s.d(t, { I: () => x });
      var i = s(78311),
        n = s(9029),
        r = s(38910),
        o = s(17399),
        a = s(655),
        c = s(32398),
        l = s(18514),
        d = s(95176),
        u = s(89010);
      const h = s.p + "assets/icon_search.fceb750a9ceb1fa1e4e7.svg",
        p = s.p + "assets/icon_spinner.258e53ff32bddfc6ebbc.svg",
        m = s.p + "assets/icon_cross.c154a3a055cea8a22040.svg",
        g = s.p + "assets/icon_checkmark.549171a248a111715f22.svg";
      class f extends r.X {
        get isGiftLinkSelected() {
          return (
            this.giftLinkToggle.checked &&
            !this.selectExistingPlayerToggle.checked
          );
        }
        get recipientUsername() {
          return this._recipientUsername;
        }
        setRecipient(e) {
          (this.resetInputField(),
            (this.recipientUsernameInputField.value = e),
            this.queryUsernames());
        }
        createSidebarButton() {
          (super.createSidebarButton(),
            (0, n.RH)(this.selectionTitle, {
              key: "strings:storePage.sections.giftOverlay.recipientSelection.buttonTitle",
            }));
        }
        createPageContent() {
          (super.createPageContent(),
            (0, n.n8)(
              this.pageTitle,
              {
                key: "strings:storePage.sections.giftOverlay.recipientSelection.tabTitle",
              },
              "",
              "",
              "H2",
            ),
            this.createOptions(),
            (this.mainCTAButton = this.createNextButton()));
        }
        createOptions() {
          (this.createSelectExistingPlayer(),
            this.createGiftLink(),
            this.selectExistingPlayerToggle.click());
        }
        createSelectExistingPlayer() {
          const e = (0, n.Le)(
              this.pageContainer,
              "store-gift-overlay-recipient-selection-option-container",
            ),
            t = (0, n.Le)(e, "recipient-selection-toggle-and-label-container");
          ((this.inputFieldContainer = (0, n.Le)(
            e,
            "recipient-selection-input-field-container",
          )),
            (this.infoContainer = (0, n.Le)(
              e,
              "recipient-selection-info-container",
            )),
            (0, n.i5)(this.infoContainer, "recipient-selection-info-message", {
              key: "strings:storePage.sections.giftOverlay.recipientSelection.errorMessageRecipientInputField",
            }),
            this.infoContainer.classList.add("hidden"),
            (this.selectExistingPlayerToggle = (0, n.Z3)(t, "", "", (t) => {
              t.stopPropagation();
              const s = this.selectExistingPlayerToggle.checked;
              (this.resetInputField(),
                s
                  ? ((this.recipientUsernameInputField.value = ""),
                    e.classList.add("selected"),
                    this.inputFieldContainer.classList.remove("hidden"),
                    this.giftLinkToggle.checked && this.giftLinkToggle.click())
                  : (e.classList.remove("selected"),
                    this.inputFieldContainer.classList.add("hidden"),
                    this.disableNextButton()));
            })),
            e.addEventListener("click", () =>
              this.selectExistingPlayerToggle.click(),
            ),
            (0, n.n8)(
              t,
              {
                key: "strings:storePage.sections.giftOverlay.recipientSelection.giftToAnExistingUser",
              },
              "",
              "",
              "H3",
            ),
            this.initializeRecipientInputField(this.inputFieldContainer));
        }
        initializeRecipientInputField(e) {
          ((this.userIcon = (0, n.WL)(
            e,
            u,
            { key: "strings:colonistCommon.utils.emptyString" },
            "user-icon",
          )),
            (this.recipientUsernameInputField = (0, n.M3)(
              e,
              "recipient-selection-input",
            )),
            (this.searchIcon = (0, n.WL)(
              e,
              h,
              { key: "strings:colonistCommon.utils.emptyString" },
              "search-icon",
            )),
            (this.spinnerIcon = (0, n.WL)(
              e,
              p,
              { key: "strings:colonistCommon.utils.emptyString" },
              "spinner-icon",
            )),
            (this.crossIcon = (0, n.WL)(
              e,
              m,
              { key: "strings:colonistCommon.utils.emptyString" },
              "cross-icon",
            )),
            (this.checkMarkIcon = (0, n.WL)(
              e,
              g,
              { key: "strings:colonistCommon.utils.emptyString" },
              "checkmark-icon",
            )),
            this.spinnerIcon.classList.add("hidden"),
            this.crossIcon.classList.add("hidden"),
            this.userIcon.classList.add("hidden"),
            this.checkMarkIcon.classList.add("hidden"),
            (this.recipientUsernameInputField.placeholder = l.a7.t(
              "strings:storePage.sections.giftOverlay.recipientSelection.recipientPlaceholder",
            )),
            this.recipientUsernameInputField.addEventListener("click", (e) =>
              e.stopPropagation(),
            ),
            (0, n.G0)(this.searchIcon, () => {}, !1, !0),
            (0, n.G0)(this.spinnerIcon, () => {}, !1, !0),
            (0, n.G0)(this.checkMarkIcon, () => {}, !1, !0),
            (0, n.G0)(this.crossIcon, () => this.resetInputField(), !1, !0),
            this.recipientUsernameInputField.addEventListener("input", (e) => {
              (this.disableNextButton(),
                this.markAsCompleted(!1),
                this.showLoadingState(),
                this.resetSearchState(),
                null != this.timer && clearTimeout(this.timer),
                (this.timer = setTimeout(() => {
                  this.queryUsernames();
                }, 500)));
            }));
        }
        createGiftLink() {
          const e = (0, n.Le)(
              this.pageContainer,
              "store-gift-overlay-recipient-selection-option-container",
            ),
            t = (0, n.Le)(e, "recipient-selection-toggle-and-label-container");
          ((this.giftLinkToggle = (0, n.Z3)(t, "", "", (t) => {
            t.stopPropagation();
            this.giftLinkToggle.checked
              ? (e.classList.add("selected"),
                this.selectExistingPlayerToggle.checked &&
                  this.selectExistingPlayerToggle.click(),
                this.enableNextButton(),
                this.markAsCompleted(!0))
              : (e.classList.remove("selected"),
                this.disableNextButton(),
                this.markAsCompleted(!1));
          })),
            (0, n.n8)(
              t,
              {
                key: "strings:storePage.sections.giftOverlay.recipientSelection.giftLink.title",
              },
              "",
              "",
              "H3",
            ),
            e.addEventListener("click", () => this.giftLinkToggle.click()),
            f.createInformationButton(t));
        }
        static createInformationButton(e) {
          const t = (0, n.zO)(e, i.am.InfoIcon, "info-button");
          (0, n.G0)(
            t,
            () => {
              var e;
              const t = new d.y(
                {
                  key: "strings:storePage.sections.giftOverlay.recipientSelection.giftLink.information.title",
                },
                {
                  key: "strings:storePage.sections.giftOverlay.recipientSelection.giftLink.information.body",
                },
                () => {},
                () => {},
                !0,
                { showXButton: !1, showCheckButton: !0 },
              );
              (null === (e = t.contentContainer.parentElement) ||
                void 0 === e ||
                e.classList.add("store-gift-overlay-info-popup"),
                t.show());
            },
            !1,
            !0,
          );
        }
        showLoadingState() {
          (this.spinnerIcon.classList.remove("hidden"),
            this.searchIcon.classList.add("hidden"),
            this.crossIcon.classList.add("hidden"),
            this.checkMarkIcon.classList.add("hidden"),
            this.userIcon.classList.add("hidden"),
            this.infoContainer.classList.add("hidden"));
        }
        showReadyToSearchState() {
          (this.searchIcon.classList.remove("hidden"),
            this.spinnerIcon.classList.add("hidden"),
            this.crossIcon.classList.add("hidden"),
            this.checkMarkIcon.classList.add("hidden"),
            this.userIcon.classList.add("hidden"),
            this.infoContainer.classList.add("hidden"));
        }
        showErrorState() {
          (this.searchIcon.classList.add("hidden"),
            this.spinnerIcon.classList.add("hidden"),
            this.checkMarkIcon.classList.add("hidden"),
            this.crossIcon.classList.remove("hidden"),
            this.infoContainer.classList.remove("hidden"));
        }
        resetSearchState() {
          (this.userIcon.classList.add("hidden"),
            this.recipientUsernameInputField.classList.remove("success-search"),
            this.recipientUsernameInputField.classList.remove("error-search"));
        }
        async queryUsernames() {
          const e = this.recipientUsernameInputField.value;
          0 == e.length &&
            (this.spinnerIcon.classList.add("hidden"),
            this.searchIcon.classList.remove("hidden"));
          if (!(e.length >= 3)) return this.onIncorrectUsernameInput();
          const t = await a.m.getRequestHandler(
            c.l.apiUserProfile.stickyPlayerInfo(e),
            void 0,
            void 0,
            !1,
          );
          if (this.recipientUsernameInputField.value == e)
            if ((this.resetSearchState(), null != t)) {
              const e = t.json;
              if (!e.isLoggedIn) return this.onIncorrectUsernameInput();
              this.onCorrectUsernameInput();
              const s = null != e.iconImageId ? (0, o.tu)(e.iconImageId) : u;
              this.userIcon.setAttribute("src", s);
            } else this.onIncorrectUsernameInput();
        }
        resetInputField() {
          ((this.recipientUsernameInputField.value = ""),
            (this._recipientUsername = void 0),
            this.showReadyToSearchState(),
            this.resetSearchState(),
            this.markAsCompleted(!1));
        }
        onIncorrectUsernameInput() {
          (this.recipientUsernameInputField.classList.add("error-search"),
            (this._recipientUsername = void 0),
            this.disableNextButton(),
            this.showErrorState(),
            this.markAsCompleted(!1));
        }
        onCorrectUsernameInput() {
          (this.recipientUsernameInputField.classList.add("success-search"),
            (this._recipientUsername = this.recipientUsernameInputField.value),
            this.enableNextButton(),
            this.searchIcon.classList.add("hidden"),
            this.spinnerIcon.classList.add("hidden"),
            this.checkMarkIcon.classList.remove("hidden"),
            this.userIcon.classList.remove("hidden"),
            this.markAsCompleted(!0));
        }
        constructor(e, t, s, i, n) {
          (super(e, t, s, i), n && this.setRecipient(n));
        }
      }
      var y = s(78524),
        b = s(73264),
        v = s(81888),
        S = s(50482);
      class k extends b.O {
        select() {
          ((0, n.RH)(this.subscribeButtonText, {
            key: "strings:storePage.sections.giftOverlay.tierSelection.selected",
          }),
            this.productDiv.classList.add("selected"),
            this.subscribeButton.classList.add("selected"));
        }
        deselect() {
          ((0, n.RH)(this.subscribeButtonText, {
            key: "strings:storePage.sections.giftOverlay.tierSelection.select",
          }),
            this.productDiv.classList.remove("selected"),
            this.subscribeButton.classList.remove("selected"));
        }
        setPrice(e) {
          const t = this.localizedStoreProductData.find(
              (e) => e.productId == this.membershipProduct.mobileIAPSKUId,
            ),
            s = t ? `${t.currency}${t.price}` : void 0;
          ((0, n.RH)(this.priceDiv, {
            key: "strings:colonistCommon.utils.emptyString",
          }),
            (this.membershipPrice = (0, n.n8)(
              this.priceDiv,
              { key: "strings:colonistCommon.utils.emptyString" },
              "",
              "",
              "H1",
            )),
            (0, n.RH)(this.membershipPrice, {
              key: "strings:colonistCommon.utils.#buffer",
              options: { value: null != s ? s : `$${e}` },
            }),
            this.disclaimerText.replaceChildren());
        }
        isAnnualGiftMembership() {
          return 0 != this.membershipProduct.discount;
        }
        addBestValueHint() {
          if (!this.membershipProduct.bestValue) return;
          const e =
            "SHOW_MOST_POPULAR" == v._.abTests.GIFTING_CHANGE_BEST_VALUE_HINT
              ? { key: "strings:storePage.mostPopular" }
              : { key: "strings:storePage.bestValue" };
          this.productDiv.classList.add(
            "store_page_membership_best_value_border",
          );
          const t = (0, n.Le)(this.headerDiv, "badge-white badge-lg");
          (0, n.Wr)(t, e, "");
        }
        showStrikeThroughPrice() {
          const e = S.Zt.getMonthlyPriceOfAnnualMembership(
            this.getColonistMembershipType(),
          );
          if (null == e) return;
          const t = 12 * parseFloat(e),
            s = (0, n.Wr)(
              this.priceDiv,
              {
                key: "strings:colonistCommon.utils.#buffer",
                options: { value: `<s>$${t}</s>` },
              },
              "strikethrough-price",
              "",
            );
          this.priceDiv.insertBefore(s, this.priceDiv.firstChild);
        }
        constructor(e, t, s, i) {
          (super(e, t, s),
            (this.localizedStoreProductData = []),
            (this.localizedStoreProductData = i),
            (0, n.RH)(this.subscribeButtonText, {
              key: "strings:storePage.sections.giftOverlay.tierSelection.select",
            }),
            (this.subscribeButtonText.style.marginBottom = "0"),
            this.setPrice(s.getDefaultPrice()),
            this.subscribeButton.classList.add("button-select"),
            this.isAnnualGiftMembership() && this.showStrikeThroughPrice());
        }
      }
      var C = s(76092),
        P = s(19966),
        _ = s(74710),
        A = s(75589),
        w = s(18587),
        R = s(29962);
      class T extends r.X {
        get selectedTier() {
          return this.selectedGiftTier;
        }
        get giftDuration() {
          return this.selectedGiftDuration;
        }
        selectGiftTier(e, t) {
          for (const t of this.membershipProductViews) {
            t.deselect();
            const s = t.membershipProduct.oneTimePurchaseType;
            null != s && s == e && t.select();
          }
          const s = T.isSelectedTierAnnual(e);
          ((this.selectedGiftDuration = s ? 12 : 1),
            (this.selectedGiftTier = e),
            this.enableNextButton(),
            this.markAsCompleted(!0),
            this.setTabAnnual(s),
            this.updateSelectedTierInfoText(t));
          const i = {
            type: C.k0.SelectedGiftTier,
            category: C.eX.GiftMembershipOverlay,
            floatValue: e,
          };
          P.CA.sendAnalyticEvent(i);
        }
        deselectAllGiftTiers() {
          for (const e of this.membershipProductViews) e.deselect();
          ((this.selectedGiftTier = void 0),
            this.setTabAnnual(!0),
            this.disableNextButton(),
            this.markAsCompleted(!1),
            this.topNavigationButtonSelectedTierInfo.classList.add("hidden"));
        }
        createSidebarButton() {
          super.createSidebarButton();
          const e = (0, n.Le)(this.selectionTitle, "store-gift-sidebar-texts");
          ((0, n.Wr)(
            e,
            {
              key: "strings:storePage.sections.giftOverlay.tierSelection.buttonTitle",
            },
            "",
          ),
            (this.topNavigationButtonSelectedTierInfo = (0, n.Le)(
              e,
              "store-gift-sidebar-texts subtext hidden",
            )));
        }
        createPageContent() {
          (super.createPageContent(),
            (0, n.n8)(
              this.pageTitle,
              {
                key: "strings:storePage.sections.giftOverlay.tierSelection.tabTitle",
              },
              "",
              "",
              "H2",
            ));
          const e = (0, n.Le)(this.pageContainer, "toggle-container");
          ((this.toggleButtonMonthly = (0, n.Le)(e, "toggle-tab")),
            (0, n.Wr)(
              this.toggleButtonMonthly,
              { key: "strings:storePage.membership.frequency.oneMonth" },
              "",
            ),
            (0, n.G0)(this.toggleButtonMonthly, () => this.setTabAnnual(!1)),
            (this.toggleButtonAnnual = (0, n.Le)(e, "toggle-tab")));
          const t = T.getAnnualDiscount();
          ((0, n.Wr)(
            this.toggleButtonAnnual,
            {
              key: "strings:storePage.membership.frequency.oneYear",
              options: { context: "store", discount: t },
            },
            "",
          ),
            (0, n.G0)(this.toggleButtonAnnual, () => this.setTabAnnual(!0)));
        }
        createGiftMembershipProducts() {
          const e = (0, n.Le)(
              this.pageContainer,
              "store-gift-overlay-tiers-container",
            ),
            t = y.Z.getAllMembershipProducts();
          for (const s of t) {
            const t = new k(
              e,
              this.storeState,
              s,
              this.localizedStoreProductData,
            );
            T.setDiscordGiftPrice(t);
            const i = s.oneTimePurchaseType;
            null != i &&
              ((0, n.G0)(t.productDiv, () => this.selectGiftTier(i, s.type)),
              this.membershipProductViews.push(t));
          }
        }
        setTabAnnual(e) {
          this.setToggleButtonsActiveState(e);
          for (const t of this.membershipProductViews) {
            const s = t.isAnnualGiftMembership() != e;
            t.productDiv.classList.toggle("hidden", s);
          }
        }
        setToggleButtonsActiveState(e) {
          e
            ? (this.toggleButtonAnnual.classList.add("active"),
              this.toggleButtonMonthly.classList.remove("active"))
            : (this.toggleButtonMonthly.classList.add("active"),
              this.toggleButtonAnnual.classList.remove("active"));
        }
        static getAnnualDiscount() {
          if (!w.r.isUserOnDiscord) return 20;
          const e = 12 * S.Zt.getMembershipProduct(i.Qb.PremiumMonthly).price;
          return Math.round(100 * (1 - R.O.PREMIUM / e));
        }
        static isSelectedTierAnnual(e) {
          switch (e) {
            case i.IM.GiftEliteYearly:
            case i.IM.GiftPremiumYearly:
            case i.IM.GiftPlusYearly:
            case void 0:
              return !0;
            case i.IM.GiftEliteMonthly:
            case i.IM.GiftPremiumMonthly:
            case i.IM.GiftPlusMonthly:
              return !1;
            default:
              throw new Error("Invalid gift tier");
          }
        }
        updateSelectedTierInfoText(e) {
          ((0, n.RH)(
            this.topNavigationButtonSelectedTierInfo,
            this.getSelectedTierInfoText(e),
          ),
            this.topNavigationButtonSelectedTierInfo.classList.remove(
              "hidden",
            ));
        }
        getSelectedTierInfoText(e) {
          const t = this.selectedGiftTier,
            s = T.isSelectedTierAnnual(t)
              ? { key: "strings:storePage.membership.frequency.oneYear" }
              : { key: "strings:storePage.membership.frequency.oneMonth" },
            i = A.G.getMembershipTitleFromType(e);
          return (0, _.dN)(
            {
              key: "strings:storePage.sections.giftOverlay.tierSelection.selectedTier",
            },
            { frequency: s, tier: i },
          );
        }
        static setDiscordGiftPrice(e) {
          if (!w.r.isUserOnDiscord) return;
          const t = this.getDiscordGiftPrice(e.membershipProduct);
          if (null == t) return;
          const s = `${(t / 100).toFixed(2)}`;
          e.setPrice(s);
        }
        static getDiscordGiftPrice(e) {
          if (!w.r.isUserOnDiscord) return e.price;
          if (null != e.oneTimePurchaseType)
            switch (e.oneTimePurchaseType) {
              case i.IM.GiftPlusYearly:
                return R.O.PLUS;
              case i.IM.GiftPremiumYearly:
                return R.O.PREMIUM;
              case i.IM.GiftEliteYearly:
                return R.O.ELITE;
              default:
                return e.price;
            }
        }
        constructor(e, t, s, i, n, r, o) {
          (super(e, t, i, n),
            (this.membershipProductViews = []),
            (this.selectedGiftDuration = 1),
            (this.localizedStoreProductData = []),
            (this.storeState = s),
            (this.localizedStoreProductData = o),
            this.createGiftMembershipProducts(),
            (this.mainCTAButton = this.createNextButton()),
            this.disableNextButton(),
            this.mainCTAButton.classList.add("gift-tier-selection-next-button"),
            this.setTabAnnual(!0));
        }
      }
      class I extends r.X {
        get giftMessage() {
          return this.messageInput.value;
        }
        resetForm() {
          this.messageInput.value = "";
        }
        createSidebarButton() {
          (super.createSidebarButton(),
            (0, n.RH)(this.selectionTitle, {
              key: "strings:storePage.sections.giftOverlay.detailsSelection.title",
            }));
        }
        createPageContent() {
          (super.createPageContent(),
            (0, n.n8)(
              this.pageTitle,
              {
                key: "strings:storePage.sections.giftOverlay.detailsSelection.title",
              },
              "",
              "",
              "H2",
            ),
            this.createMessageInput(),
            (this.mainCTAButton = this.createCheckoutButton()));
        }
        createMessageInput() {
          const e = (0, n.Le)(
              this.pageContainer,
              "store-gift-overlay-details-input-container",
            ),
            t = (0, n.Le)(
              e,
              "store-gift-overlay-details-message-title-and-counter-container",
            );
          (0, n.n8)(
            t,
            {
              key: "strings:storePage.sections.giftOverlay.detailsSelection.message",
            },
            "",
            "",
            "H2",
          );
          const s = (0, n.i5)(t, "input-counter", {
            key: "strings:colonistCommon.utils.#buffer",
            options: { value: "0/150" },
          });
          ((this.messageInput = (0, n.aW)(
            e,
            "store-gift-overlay-message-input",
          )),
            (this.messageInput.placeholder = l.a7.t(
              "strings:storePage.sections.giftOverlay.detailsSelection.messagePlaceholder",
            )),
            (this.messageInput.maxLength = 150),
            this.messageInput.addEventListener(
              "input",
              () => (s.textContent = `${this.messageInput.value.length}/150`),
            ));
        }
        constructor(e, t, s, i) {
          super(e, t, i, s);
        }
      }
      var M = s(82535),
        L = (function (e) {
          return (
            (e[(e.GiftURL = 0)] = "GiftURL"),
            (e[(e.GiftToUser = 1)] = "GiftToUser"),
            e
          );
        })({}),
        B = s(13618),
        D = s(69508),
        E = s(66681),
        G = s(19720);
      class x {
        init() {
          const e = window.location.hash;
          let t;
          if ("#gift" == e) {
            var s;
            ((t =
              new URLSearchParams(window.location.search).get("username") ||
              void 0),
              (null === (s = v._.userState) || void 0 === s
                ? void 0
                : s.isLoggedIn) || new G.L(!0, "gift"));
          }
          (this.createHeaderSection(),
            this.createBodySection(t),
            "#gift" !== e && this.hide(),
            e.includes("#redeem") && x.redeemCode(e));
        }
        createHeaderSection() {
          const e = (0, n.Le)(
              this.mainContainer,
              "store-gift-overlay-header-container",
            ),
            t = (0, n.zO)(e, i.am.Logo);
          ((0, n.G0)(t, () => this.goToHomepage()),
            (0, n.n8)(
              e,
              { key: "strings:storePage.sections.giftOverlay.title" },
              "",
              "",
              "H2",
            ));
          const s = (0, n.zO)(e, i.am.XMark, "store-gift-overlay-close-button");
          (0, n.G0)(s, () => this.hide());
        }
        createBodySection(e) {
          const t = (0, n.Le)(
              this.mainContainer,
              "store-gift-overlay-body-container",
            ),
            s = (0, n.Le)(t, "store-gift-overlay-sidebar-container"),
            i = (0, n.Le)(t, "store-gift-overlay-tabs-container"),
            r = () => this.hide(),
            o = () => this.checkout(),
            a = null != e;
          ((this.tierSelectionController = new T(
            i,
            s,
            this.storeState,
            r,
            o,
            a,
            this.localizedStoreProductData,
          )),
            (this.recipientSelectionController = new f(i, s, r, o, e)),
            (this.detailsSelectionController = new I(i, s, o, r)),
            this.tierSelectionController.select(),
            a && this.reorderPages(!0));
        }
        reorderPages(e) {
          e
            ? (this.recipientSelectionController.makePageFirst(),
              this.recipientSelectionController.select())
            : (this.tierSelectionController.makePageFirst(),
              this.tierSelectionController.select());
        }
        checkout() {
          var e;
          const t = this.tierSelectionController.selectedTier,
            s = this.tierSelectionController.giftDuration,
            i = this.recipientSelectionController.isGiftLinkSelected,
            n = this.recipientSelectionController.recipientUsername;
          var r;
          const o =
            null !==
              (r =
                null === (e = this.detailsSelectionController) || void 0 === e
                  ? void 0
                  : e.giftMessage) && void 0 !== r
              ? r
              : "";
          if (null == t) return this.tierSelectionController.select();
          if (!i && null == n)
            return this.recipientSelectionController.select();
          const a = {
            giftPurchaseType: i ? L.GiftURL : L.GiftToUser,
            oneTimePurchaseType: t,
            receiverUsername: n,
            duration: s,
            giftMessage: o,
          };
          this.executeCheckout(t, a);
        }
        async executeCheckout(e, t) {
          (r.X.sendGiftFlowAnalytics(C.tV.SuccessfulCheckoutClick),
            M.B.executeStripeColonistGiftPurchaseSession(e, t));
        }
        goToHomepage() {
          (0, B.Yf)((0, B.mE)());
        }
        hide() {
          this.mainContainer.classList.add("hidden");
        }
        show() {
          (E.OV.removeDisconnectBanners(),
            this.tierSelectionController.select(),
            this.mainContainer.classList.remove("hidden"),
            this.resetForm());
        }
        resetForm() {
          var e;
          (this.recipientSelectionController.resetInputField(),
            this.recipientSelectionController.disableNextButton(),
            this.tierSelectionController.deselectAllGiftTiers(),
            null === (e = this.detailsSelectionController) ||
              void 0 === e ||
              e.resetForm(),
            this.recipientSelectionController.isGiftLinkSelected &&
              this.recipientSelectionController.selectExistingPlayerToggle.click());
        }
        selectGiftTier(e) {
          switch (e) {
            case i.Qb.EliteMonthly:
              this.tierSelectionController.selectGiftTier(
                i.IM.GiftEliteMonthly,
                e,
              );
              break;
            case i.Qb.EliteYearly:
              this.tierSelectionController.selectGiftTier(
                i.IM.GiftEliteYearly,
                e,
              );
              break;
            case i.Qb.PremiumMonthly:
              this.tierSelectionController.selectGiftTier(
                i.IM.GiftPremiumMonthly,
                e,
              );
              break;
            case i.Qb.PremiumYearly:
              this.tierSelectionController.selectGiftTier(
                i.IM.GiftPremiumYearly,
                e,
              );
              break;
            case i.Qb.PlusMonthly:
              this.tierSelectionController.selectGiftTier(
                i.IM.GiftPlusMonthly,
                e,
              );
              break;
            case i.Qb.PlusYearly:
              this.tierSelectionController.selectGiftTier(
                i.IM.GiftPlusYearly,
                e,
              );
              break;
            case i.Qb.Holiday2023AllAccessPass:
              throw new Error("Invalid membership type");
          }
        }
        static async redeemCode(e) {
          const t = e.split("=")[1],
            s = await a.m.getRequestHandler(
              c.l.apiGetGiftMembershipData(t),
              void 0,
            ),
            i = null == s ? void 0 : s.json.data;
          if (null == i) return;
          const n = A.G.getMembershipTitleFromType(i.membershipType),
            r = (0, _.dN)(
              {
                key: "strings:storePage.sections.giftOverlay.membershipReceived",
                options: {
                  count: i.lengthMonths,
                  gifter: `${i.senderName}`,
                  message: i.message,
                },
              },
              { giftTier: n },
            );
          return (
            new d.y(
              { key: "strings:imgAlts.StoreGiftMembership" },
              r,
              async () => {
                const e = await a.m.postRequestHandler(
                  c.l.apiRedeemGiftFromHash(),
                  void 0,
                  { hash: t },
                );
                (null == e ? void 0 : e.status) == D.R.Ok &&
                  (0, B.Yf)((0, B.mE)());
              },
              () => {},
              !1,
            ).show(),
            i
          );
        }
        updateRecipient(e) {
          (this.resetForm(),
            null != e && this.recipientSelectionController.setRecipient(e));
        }
        constructor(e, t, s = []) {
          ((this.localizedStoreProductData = []),
            (this.mainContainer = (0, n.Le)(e, "store-gift-overlay-container")),
            (this.storeState = t),
            (this.localizedStoreProductData = s),
            this.init());
        }
      }
    },
    79824: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_merchant_blue.34deea466de9ce537dce.svg";
    },
    80003: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/ab_hiring_ux.259e0c8c3b2b61e7e48f.png";
    },
    80232: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_sombrero.d7c22c72d814e22a3958.svg";
    },
    80420: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/knight_level1_active_purple.d67ba2cdd5372a43dfa0.svg";
    },
    80641: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/sfx_dice_roll_2.16053a8fd04ea7609f96.mp3";
    },
    80805: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_display.9378593b734c04850892.svg";
    },
    81145: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/card_monopoly.dfac189aaff62e271093.svg";
    },
    81665: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/sfx_robber_place.0636480d74972f958ca9.mp3";
    },
    81808: (e, t, s) => {
      "use strict";
      s.d(t, { k: () => c });
      var i = s(50482),
        n = s(29962),
        r = s(9029),
        o = s(56820),
        a = s(78311);
      class c extends o.M {
        setAnnualTabText() {
          const e = 12 * i.Zt.getMembershipProduct(a.Qb.PremiumMonthly).price,
            t = Math.round(100 * (1 - n.O.PREMIUM / e));
          (0, r.oB)(this.annualTab, {
            key: "strings:storePage.membership.frequency.annual",
            options: { context: "store", discount: t },
          });
        }
        constructor(e) {
          (super(e), this.setAnnualTabText());
        }
      }
    },
    81876: (e, t, s) => {
      "use strict";
      e.exports =
        s.p +
        "assets/card_progress_trade_master_merchant.ce137f115247a6cb678e.svg";
    },
    81888: (e, t, s) => {
      "use strict";
      s.d(t, { _: () => c });
      var i = s(61570),
        n = s(655),
        r = s(32398),
        o = s(30506),
        a = s(41931);
      class c {
        static isStale() {
          return this._stale;
        }
        static get userState() {
          return this._userState;
        }
        static get abTests() {
          var e;
          return null !== (e = this._abTests) && void 0 !== e ? e : {};
        }
        static get haveAbTestsLoaded() {
          return null != this._abTests;
        }
        static hasUser() {
          return void 0 !== this._userState;
        }
        static async _fetchUserState() {
          const e = await this.fetchUserStateFromServer();
          return (
            0 != e &&
            ((this._stale = !1),
            this.update(e),
            this.waitUntilFresh.resolve(),
            !0)
          );
        }
        static async fetchUserStateFromServer() {
          const e = await n.m.getRequestHandler(r.l.apiUserState(), void 0);
          if (((this._abTests = void 0), null == e)) return !1;
          const t = e.json;
          return (
            (this._abTests = t.abTests),
            (n.m.csrfToken = t.csrfToken),
            t.userState
          );
        }
        static async createUser() {
          if (null != this.createUserPromise) return this.createUserPromise;
          this.createUserPromise = (0, o.ph)();
          try {
            const e = await n.m.postRequestHandler(
                r.l.apiUserStateCreate(),
                void 0,
                void 0,
              ),
              t = null == e ? void 0 : e.json;
            return null == (null == t ? void 0 : t.userState)
              ? (this.createUserPromise.resolve(!1), this.createUserPromise)
              : ((this._abTests = null == t ? void 0 : t.abTests),
                this.createUserPromise.resolve(t.userState),
                this.createUserPromise);
          } finally {
            this.createUserPromise = void 0;
          }
        }
        static async requireUser() {
          if (null != this.userState) return;
          const e = await this.createUser();
          if (0 == e) throw new Error("Unable to create user");
          this.update(e);
        }
        static async refresh() {
          await this._fetchUserState();
        }
        static update(e) {
          (1 ==
            ((null == e ? void 0 : e.expiresAt) &&
              new Date(e.expiresAt) < new Date()) && (e = void 0),
            null != e
              ? (a.p.setUserState(e), (this._userState = new i.b(e)))
              : (a.p.clearUserState(), (this._userState = void 0)));
          for (const e of this.changeListeners) e(c._userState);
        }
        static registerChangeListener(e) {
          return (
            this.changeListeners.push(e),
            e(this._userState),
            () => {
              o.lv.removeElementFromArray(this.changeListeners, e);
            }
          );
        }
        static async init() {
          return this.loadInitialStateFromStorage()
            ? (this.initFetchLoop(), !0)
            : this.initFetchLoop();
        }
        static loadInitialStateFromStorage() {
          try {
            const e = a.p.getUserState();
            return null != e && (this.update(e), !0);
          } catch {
            return !1;
          }
        }
        static async initFetchLoop() {
          for (let e = 0; e < 10; e++) {
            if (await this._fetchUserState()) return !0;
            await (0, o.cb)(100);
          }
          return !1;
        }
      }
      ((c.changeListeners = []),
        (c._stale = !0),
        (c.waitUntilFresh = (0, o.ph)()));
    },
    81895: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/dice_red_6.57d310132e9d3493a140.svg";
    },
    81931: (e, t, s) => {
      "use strict";
      s.d(t, { b: () => a });
      var i = s(9029),
        n = s(78311),
        r = s(90676),
        o = s(23355);
      class a {
        setStats(e) {
          (null != this.username && (this.username.innerText = e.username),
            (this.pointsStat.innerText = String(
              e.gameData.pointsInLast100Games,
            )),
            (this.winRatioStat.innerText = e.gameData.winPercent),
            (this.pgStat.innerText = e.gameData.pointsPerGame),
            (this.karmaStat.innerText = e.karma),
            (this.totalGamesStat.innerText = String(e.gameData.totalGames)),
            this.setBadges(e.userId));
        }
        setBadges(e) {
          (0, i.RH)(this.badgesContainer, {
            key: "strings:colonistCommon.utils.emptyString",
          });
          ("7735637" == e &&
            a.createBadge(this.badgesContainer, n.am.TournamentCC25, {
              key: "strings:profilePage.overview.badges.tournamentCC25Tooltip",
            }),
            "19719305" == e &&
              a.createBadge(this.badgesContainer, n.am.TournamentS11First, {
                key: "strings:profilePage.overview.badges.season11TournamentFirstTooltip",
              }),
            [
              "3208020",
              "94451747",
              "56604020",
              "51304747",
              "96441641",
              "61890847",
              "55031713",
              "99019802",
              "52067869",
              "99218961",
              "99247781",
              "66028376",
              "98791974",
              "61751886",
              "99200482",
              "98719794",
              "96620362",
              "57772422",
              "23034368",
              "59201781",
              "29049792",
              "61557587",
              "69054281",
              "85708590",
              "90997704",
              "54219086",
              "92602114",
              "96622700",
              "8770469",
              "7735637",
              "100621319",
              "100939283",
              "29911838",
              "18910613",
              "99285407",
              "99822064",
              "101290199",
            ].includes(e) &&
              a.createBadge(this.badgesContainer, n.am.Tournament4P, {
                key: "strings:profilePage.overview.badges.tournament4pTooltip",
              }));
        }
        static createBadge(e, t, s) {
          const n = (0, i.zO)(e, t);
          (0, r.vy)(n, s, "right");
        }
        constructor(e = !1) {
          const t = (0, o.F9)("sticky_player_info_username", e),
            s = (0, o.F9)("points_stat", e),
            i = (0, o.F9)("win_ratio_stat", e),
            n = (0, o.F9)("pg_stat", e),
            r = (0, o.F9)("karma_stat", e),
            a = (0, o.F9)("total_games_stat", e),
            c = (0, o.F9)("user-badges-container", e);
          ((this.username = document.getElementById(t)),
            (this.pointsStat = document.getElementById(s)),
            (this.winRatioStat = document.getElementById(i)),
            (this.pgStat = document.getElementById(n)),
            (this.karmaStat = document.getElementById(r)),
            (this.totalGamesStat = document.getElementById(a)),
            (this.badgesContainer = document.getElementById(c)));
        }
      }
    },
    81966: (e, t, s) => {
      "use strict";
      s.d(t, { e: () => o });
      var i = s(5603),
        n = s(95176),
        r = s(9029);
      class o extends n.y {
        createCheckOpacity() {
          this.input.addEventListener("input", () => {
            this.updateCheckButtonState();
          });
        }
        updateCheckButtonState() {
          this.input.validity.valid
            ? ((this.checkButton.style.opacity = "1"),
              (this.checkButton.style.pointerEvents = "auto"))
            : ((this.checkButton.style.opacity = "0.5"),
              (this.checkButton.style.pointerEvents = "none"));
        }
        inputLengthIsInRange() {
          return (
            this.input.value.length >= this.input.minLength &&
            this.input.value.length <= this.input.maxLength
          );
        }
        checkAction() {
          (i.A.play(i.h.Click),
            this.input.validity.valid &&
              (this.inputCheckAction(this.input.value), this.removePopup()));
        }
        setDefaultValue(e) {
          this.input.value = e;
        }
        setPlaceholder(e) {
          this.input.placeholder = e;
        }
        setLengthLimits(e, t) {
          ((this.input.minLength = e), (this.input.maxLength = t));
        }
        setCharacterCounter() {
          if (null != this.characterCounter) return;
          const e = this.input.value.length,
            t = this.input.maxLength;
          ((this.characterCounter = (0, r.i5)(
            this.inputWrapper,
            "character-counter",
            {
              key: "strings:colonistCommon.utils.#buffer",
              options: { value: `${e}/${t}` },
            },
          )),
            this.input.addEventListener("input", () => {
              this.updateCharacterCounter();
            }));
        }
        updateCharacterCounter() {
          const e = this.input.value.length,
            t = this.input.minLength,
            s = this.input.maxLength;
          ((0, r.RH)(this.characterCounter, {
            key: "strings:colonistCommon.utils.#buffer",
            options: { value: `${e}/${s}` },
          }),
            e < t
              ? this.characterCounter.classList.add("invalid")
              : this.characterCounter.classList.remove("invalid"));
        }
        constructor(e, t, s, i, n) {
          (super(e, t, () => {}, i, n),
            (this.inputCheckAction = s),
            this.body.classList.add("popup-input"),
            (this.form = (0, r.gX)(this.body, "", "")),
            (this.inputWrapper = (0, r.Le)(this.form, "input-wrapper")),
            (this.input = (0, r.M3)(this.inputWrapper, "", "popupInput")),
            (this.input.type = "text"),
            (this.input.autocomplete = "off"),
            (this.input.autocapitalize = "off"),
            (this.form.onsubmit = (e) => {
              (e.preventDefault(), this.checkAction());
            }),
            (0, r.G0)(this.checkButton, () => this.checkAction()),
            this.createCheckOpacity());
        }
      }
    },
    82394: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/stat_trade_income.33fc8da8029b7618bb47.svg";
    },
    82535: (e, t, s) => {
      "use strict";
      s.d(t, { B: () => c });
      var i = s(92524),
        n = s(655),
        r = s(32398),
        o = s(19733),
        a = s(13618);
      class c {
        static async executeStripeColonistProductPurchaseSession(e, t, s = 1) {
          const i = `${r.l.apiPayGetStoreStripeSession()}/${e}/${t}/${s}`,
            o = await n.m.postRequestHandler(i, void 0, void 0);
          null != o && this.gotCheckoutSession(o.json);
        }
        static async executeStripeColonistGiftPurchaseSession(e, t) {
          const s = i.l6.OneTimePurchase,
            o = `${r.l.apiPayGetStoreStripeSession()}/${s}/${e}/${t.duration}`,
            a = await n.m.postRequestHandler(o, void 0, t);
          null != a && this.gotCheckoutSession(a.json);
        }
        static async gotCheckoutSession(e) {
          if (!e.status)
            return void o.r.createSimplePopup(
              { key: "strings:storePage.errors.fail" },
              e.message,
            );
          const t = {
            key: "strings:colonistCommon.utils.#buffer",
            options: {
              value: (
                await stripe.redirectToCheckout({ sessionId: e.session.id })
              ).error.message,
            },
          };
          o.r.createSimplePopup({ key: "strings:storePage.errors.fail" }, t);
        }
        static async executeXsollaColonistCoinPurchaseSession(e, t) {
          const s = `${r.l.apiPayGetStoreXsollaSession()}/${e}/${t}`,
            i = await n.m.postRequestHandler(s, void 0, void 0);
          null != i && (0, a.Yf)(i.json);
        }
        static async executeStripeCustomerPortalSession() {
          const e = await n.m.postRequestHandler(
            r.l.apiPayCreateCustomerPortalSession(),
            void 0,
            void 0,
          );
          null != e && (0, a.Yf)(e.json);
        }
      }
    },
    82671: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/sfx_clock_tick.c0b0debac3d7298788e7.mp3";
    },
    82814: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/game_spritesheet_wait_icon.e4f903225a52ff072cac.json";
    },
    82969: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_4x.909cc36dddf23f72376e.svg";
    },
    83078: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_founder.c5030be56a7e8b60a995.svg";
    },
    83082: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/dice_red_3.895fe5cb3cdd0567b824.svg";
    },
    83350: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/stat_trade_loss.0dc8caac3da287d8cd0c.svg";
    },
    83446: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/android_status_bar_before.566d98b4e4146f8e0ed5.png";
    },
    83476: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/sfx_message_notification.fe8a6a7ac76a97cc7ae4.mp3";
    },
    83633: (e, t, s) => {
      "use strict";
      s.d(t, { M1: () => n.M1, qq: () => i.q });
      (s(21514), s(30093));
      var i = s(48104),
        n = (s(69094), s(22067));
      s(33418);
    },
    83927: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/sfx_ship_place.bce9c3babbf749b26fb7.mp3";
    },
    84192: (e, t, s) => {
      "use strict";
      s.d(t, { z: () => g });
      var i = s(5603),
        n = s(35700),
        r = s(59712),
        o = s(9029),
        a = s(18514),
        c = s(66876);
      class l {
        createTextInPost(e) {
          (this.shouldColorAndBoldUsernames &&
            (this.text = c.S.colorAndBoldUsernames(this.text)),
            (this.text = c.S.replaceKeywordsWithImages(this.text)),
            this.prefixWithUsername());
          const t = this.italics ? " italics" : "",
            s = (0, o.i5)(e, t, {
              key: "strings:colonistCommon.utils.#buffer",
              options: { value: this.text, interpolation: { escapeValue: !1 } },
            });
          this.handleVPText(s);
        }
        prefixWithUsername() {
          null == this.username ||
            this.isLog ||
            (this.text =
              c.S.getHighlightedUsername(this.username) + ": " + this.text);
        }
        handleVPText(e) {
          const t = e.getElementsByClassName("vp-text")[0];
          null != t &&
            (t.style.color = c.S.getTextColor(
              "" + this.username,
              n.i.getColor(this.textColor),
            ));
        }
        constructor(e, t, s, i) {
          ((this.text = a.a7.t(t.text.key, t.text.options)),
            (this.username = t.username),
            (this.italics = 1 == t.italics),
            (this.shouldColorAndBoldUsernames = 1 == t.colorAndBoldUsernames),
            (this.textColor = s),
            (this.isLog = i),
            this.createTextInPost(e));
        }
      }
      var d = s(18587),
        u = s(66681),
        h = s(25720),
        p = s(52609);
      class m {
        createPostDiv() {
          const e = (0, o.Le)(this.container, "message-post", "");
          return (
            (d.r.isUserOnMobileAppOrWeb && d.r.shouldDisplayNewMobileGameUI) ||
              (e.style.color = this.isMessageSentInGame
                ? n.i.getColor(this.textColorInGame)
                : n.i.getColor(this.textColorInRoom)),
            (0, o.G0)(e, () => i.A.play(i.h.Click)),
            1 != this.chatData.isCentered ||
              (e.classList.add("victory-text"),
              (e.style.color = c.S.getTextColor(
                "" + this.chatData.username,
                n.i.getColor(this.textColorInGame),
              ))),
            e
          );
        }
        setEventHandlersForHelpLinks() {
          const e = this.post.getElementsByTagName("a");
          for (const t of e) {
            new URL(t.href).hash != c.S.OPEN_RULEBOOK_LINK_HASH ||
              (0, o.G0)(
                t,
                () => {
                  (u.IH.pauseController.pauseIfSinglePlayer(), (0, r.x)());
                },
                !0,
                !0,
              );
          }
        }
        setEventHandlerForOptionsPopup() {
          this.chatData.isSenderUser &&
            (0, o.G0)(this.post, () => {
              const e = this.chatData.username
                ? c.S.getPlayerColorFromText(this.chatData.username)
                : void 0;
              if (void 0 === e) return;
              const t = u.IH.gameState.players.find((t) => t.color === e);
              if (void 0 === t) return;
              const s = u.IH.canvasController,
                i =
                  this.post.getBoundingClientRect().y -
                  s.responsiveController.getCanvasY(),
                n =
                  this.post.getBoundingClientRect().x -
                  s.responsiveController.getCanvasX(),
                r = this.post.getBoundingClientRect().height,
                o = n / s.appW,
                a = (i + r) / s.appH,
                l = new p.ts.Point(o, a);
              new h.Y(u.IH, l, t).buildInGamePlayerOptionsPopup();
            });
        }
        constructor(e, t) {
          if (
            ((this.textColorInGame = n.i.Color.Gray0),
            (this.textColorInRoom = n.i.Color.White),
            (this.iconSize = 20),
            (this.container = e),
            (this.chatData = t),
            (this.isMessageSentInGame = e.className.includes("game_chat")),
            (this.post = this.createPostDiv()),
            t.profilePictureUrl)
          ) {
            const e = (0, o.WL)(this.post, t.profilePictureUrl, {
              key: "strings:colonistCommon.utils.emptyString",
            });
            ((e.style.borderRadius = "50%"),
              (e.width = this.iconSize),
              (e.height = this.iconSize));
          } else if (null != t.icon) {
            const e = (0, o.zO)(this.post, t.icon);
            ((e.width = this.iconSize), (e.height = this.iconSize));
          }
          const s = "game-log-text" == this.container.id;
          (new l(this.post, this.chatData, this.textColorInGame, s),
            this.setEventHandlersForHelpLinks(),
            this.setEventHandlerForOptionsPopup());
        }
      }
      class g {
        static post(e, t, s = !1, n = !0) {
          const r = new m(e, t);
          return (
            n && i.A.play(i.h.MessageNotification),
            s || (e.scrollTop = e.scrollHeight),
            r.post
          );
        }
      }
    },
    84240: (e, t, s) => {
      "use strict";
      s.d(t, { S: () => i });
      class i {
        constructor() {
          this.serverUpdated = !1;
        }
      }
    },
    84317: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/metropolis_politics.019fa9b62312f8d45314.svg";
    },
    84324: (e, t, s) => {
      "use strict";
      s.d(t, { i: () => i });
      var i,
        n,
        r = s(30506);
      (!(function (e) {
        ((e.MILLISECONDS = 1e3),
          (e.SECONDS_IN_MINUTE = 60),
          (e.SECONDS_IN_HOUR = 3600),
          (e.MINUTES_IN_HOUR = 60),
          (e.HOURS_IN_DAY = 24),
          (e.DAYS_IN_WEEK = 7),
          (e.DAYS_IN_MONTH = 30),
          (e.MONTHS_IN_YEAR = 12),
          (e.isDatePassed = function (e) {
            return r.Re.isDatePassed(e);
          }),
          (e.millisecondsLeftInUTCDay = function (e) {
            return r.Re.millisecondsLeftInUTCDay(e);
          }),
          (e.getDate = function (e) {
            return r.Re.getDate(e);
          }),
          (e.getDateTime = function (e) {
            return r.Re.getDateTime(e);
          }),
          (e.getHoursAgoInTimestampFormat = function (e) {
            return r.Re.getHoursAgoInTimestampFormat(e);
          }),
          (e.convertTimestampToDateTimeText = function (e) {
            return r.Re.convertTimestampToDateTimeText(e);
          }),
          (e.timeToString = function (e) {
            return r.Re.timeToString(e);
          }),
          (e.timePadding = function (e) {
            return r.Re.timePadding(e);
          }),
          (e.getUTCTimeString = function (e) {
            return r.Re.getUTCTimeString(e);
          }),
          (e.minutesPassedSince = function (e) {
            return r.Re.minutesPassedSince(e);
          }),
          (e.millisecondsPassedSince = function (e) {
            return r.Re.millisecondsPassedSince(e);
          }),
          (e.isThisLastMonth = function (e, t = Date.now()) {
            return r.Re.isThisLastMonth(e, t);
          }),
          (e.isThisLastYear = function (e, t = Date.now()) {
            return r.Re.isThisLastYear(e, t);
          }),
          (e.yesterdayDate = function () {
            return r.Re.yesterdayDate();
          }),
          (e.getWeekNumber = function (e) {
            return r.Re.getWeekNumber(e);
          }),
          (e.getDaysHoursMinutesBetweenDates = function (e, t) {
            return r.Re.getDaysHoursMinutesBetweenDates(e, t);
          }),
          (e.getDaysHoursMinutesBetweenDatesString = function (e, t) {
            return r.Re.getDaysHoursMinutesBetweenDatesString(e, t);
          }),
          (e.getOneWeekInThePast = function () {
            return r.Re.getOneWeekInThePast();
          }),
          (e.getOneWeekInTheFuture = function () {
            return r.Re.getOneWeekInTheFuture();
          }),
          (e.adjustDateByDays = function (e, t = new Date()) {
            return r.Re.adjustDateByDays(e, t);
          }),
          (e.formatSecondsToElapsedString = function (e) {
            return r.Re.formatSecondsToElapsedString(e);
          }));
      })(i || (i = {})),
        (function (e) {
          ((e.secondsAsMilliseconds = function (e) {
            return r.R$.secondsAsMilliseconds(e);
          }),
            (e.minutesAsMilliseconds = function (e) {
              return r.R$.minutesAsMilliseconds(e);
            }),
            (e.hoursAsMilliseconds = function (e) {
              return r.R$.hoursAsMilliseconds(e);
            }),
            (e.daysAsMilliseconds = function (e) {
              return r.R$.daysAsMilliseconds(e);
            }),
            (e.weeksAsMilliseconds = function (e) {
              return r.R$.weeksAsMilliseconds(e);
            }),
            (e.minutesAsSeconds = function (e) {
              return r.R$.minutesAsSeconds(e);
            }),
            (e.hoursAsSeconds = function (e) {
              return r.R$.hoursAsSeconds(e);
            }),
            (e.daysAsSeconds = function (e) {
              return r.R$.daysAsSeconds(e);
            }),
            (e.weeksAsSeconds = function (e) {
              return r.R$.weeksAsSeconds(e);
            }));
        })(n || (n = {})));
    },
    84445: (e, t, s) => {
      "use strict";
      s.d(t, {
        Oi: () => p,
        Uf: () => h,
        aE: () => m,
        b4: () => g,
        bl: () => y,
        n5: () => f,
      });
      var i = s(19966),
        n = s(18587),
        r = s(19720),
        o = s(95176),
        a = s(74710),
        c = s(81888),
        l = s(92524),
        d = s(50482),
        u = s(53015);
      function h(e) {
        var t;
        (null === (t = c._.userState) || void 0 === t
          ? void 0
          : t.isLoggedIn) || n.r.isUserOnDiscord
          ? e()
          : (i.CA.sendGoogleAnalyticsEvent(
              i.CA.Category.Store,
              i.CA.Label.StoreRequestedLogin,
            ),
            new r.L());
      }
      function p(e, t, s) {
        const i = null == e.salePrice ? e.price : e.salePrice;
        if (
          !(function (e) {
            return (
              null != c._.userState &&
              (null == c._.userState.items.colonistCoins ||
                c._.userState.items.colonistCoins >= e)
            );
          })(i)
        ) {
          if (s) return void s();
          const e = document.getElementById("coins");
          return void (null == e || e.scrollIntoView({ behavior: "smooth" }));
        }
        const n = (0, a.dN)(
          {
            key: "strings:storePage.purchaseItem?.body",
            options: { price: i },
          },
          { itemName: e.name },
        );
        new o.y(
          { key: "strings:storePage.purchaseItem?.title" },
          n,
          () => {
            t();
          },
          () => {},
          !0,
        ).show();
      }
      function m(e, t) {
        new o.y(
          { key: "strings:storePage.purchaseItem?.title" },
          {
            key: "strings:storePage.purchaseItem?.body",
            options: { context: "founder" },
          },
          () => {
            t();
          },
          () => {},
          !0,
        ).show();
      }
      function g(e, t) {
        var s;
        (null === (s = c._.userState) || void 0 === s ? void 0 : s.isLoggedIn)
          ? (null == t ? void 0 : t.includes("#"))
            ? new o.y(
                { key: "strings:popups.errors.giftMembership.title" },
                {
                  key: "strings:popups.errors.giftMembership.guestsCantReceiveGifts",
                },
                () => {},
                () => {},
                !1,
                { showXButton: !1 },
              ).show()
            : e()
          : new r.L();
      }
      function f() {
        var e, t;
        if (
          (null === (e = c._.userState) || void 0 === e
            ? void 0
            : e.items.membershipPaymentMethod) != l.g5.Discord
        )
          return {
            key: "strings:storePage.manageMembership.body",
            options: { context: "updateOnWeb" },
          };
        const s =
          null === (t = c._.userState) || void 0 === t
            ? void 0
            : t.items.getCurrentMembership();
        if (null == s) throw new Error("Membership not found");
        return d.Zt.isAnnualMembership(s.type)
          ? {
              key: "strings:storePage.manageMembership.body",
              options: { context: "waitForExpiration" },
            }
          : { key: "strings:storePage.manageMembership.body" };
      }
      function y(e) {
        switch (e) {
          case u.n9.PresalePack:
            return "presale";
          case u.n9.Expansion:
            return "expansions";
          case u.n9.Map:
            return "maps";
          case u.n9.Icon:
            return "avatars";
          case u.n9.Color:
            return "colors";
          case u.n9.Consumable:
            return "consumables";
          case u.n9.Membership:
            return "membership";
        }
      }
    },
    84486: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/dice_event_science.00858cf84bdfe317154d.svg";
    },
    84805: (e, t, s) => {
      "use strict";
      s.d(t, { K: () => l });
      var i = s(78311),
        n = s(655),
        r = s(9029);
      class o {
        createSidebar() {
          const e = { key: "strings:colonistCommon.utils.emptyString" };
          for (const t of this.sidebarTabs) {
            const s = (0, r.cE)(
                this.parentElement,
                t.href,
                e,
                "singleton_page_sidebar_button",
                t.id,
              ),
              i = (0, r.Le)(s, "");
            ((0, r.zO)(i, t.imageSrc),
              (0, r.Wr)(s, t.text, "singleton_page_sidebar_button_text"));
          }
        }
        constructor(e, t) {
          ((this.parentElement = e),
            (this.sidebarTabs = t),
            this.createSidebar());
        }
      }
      var a = s(23355),
        c = s(81888);
      class l {
        createSidebar() {
          const e = [
            {
              text: { key: "strings:profilePage.overview.title" },
              class: "icon_profile_overview",
              href: "#overview",
              imageSrc: i.am.ProfileOverview,
              id: (0, a.F9)("tab-input-overview", this.isPopup),
            },
            {
              text: { key: "strings:profilePage.navigationTabs.ranked" },
              class: "icon_profile_ranked",
              href: "#ranked",
              imageSrc: i.am.ProfileRanked,
              id: (0, a.F9)("tab-input-ranked", this.isPopup),
            },
            {
              text: { key: "strings:profilePage.navigationTabs.history" },
              class: "icon_profile_history",
              href: "#history",
              imageSrc: i.am.ProfileHistory,
              id: (0, a.F9)("tab-input-game-history", this.isPopup),
            },
            {
              text: { key: "strings:profilePage.navigationTabs.items" },
              class: "icon_profile_items",
              href: "#items",
              imageSrc: i.am.ProfileItems,
              id: (0, a.F9)("tab-input-items", this.isPopup),
            },
          ];
          this.isPopup ||
            (e.push({
              text: { key: "strings:profilePage.navigationTabs.friends" },
              class: "icon_profile_friends",
              href: "#friends",
              imageSrc: i.am.Friends,
              id: (0, a.F9)("tab-input-friends", this.isPopup),
            }),
            e.push({
              text: { key: "strings:profilePage.navigationTabs.account" },
              class: "icon_profile_settings",
              href: "#settings",
              imageSrc: i.am.ProfileSettings,
              id: (0, a.F9)("tab-input-settings", this.isPopup),
            }));
          const t = document.getElementById(
            (0, a.F9)("profile_sidebar", this.isPopup),
          );
          new o(t, e);
        }
        showSection(e) {
          !this.isCurrentUserProfile() &&
            ["#friends", "#settings"].includes(this.sectionLinks[e].hash) &&
            (e = 0);
          for (let t = 0; t < this.sections.length; t++) {
            const s = this.sections[t],
              i = this.sectionLinks[t];
            t == e
              ? (s.classList.remove("hidden"), i.classList.add("active"))
              : (s.classList.add("hidden"), i.classList.remove("active"));
          }
          this.activeLink = this.sectionLinks[e];
        }
        showSectionFromHash() {
          const e = window.location.hash.replace("#", "");
          if ("" == e) return !1;
          for (let t = 0; t < this.sections.length; t++) {
            if (1 == this.sections[t].id.includes(e))
              return (this.showSection(t), !0);
          }
          return !1;
        }
        setUsername(e) {
          this.username = e;
        }
        isCurrentUserProfile() {
          var e;
          return (
            (null === (e = c._.userState) || void 0 === e
              ? void 0
              : e.username.toLowerCase()) ==
            decodeURIComponent(this.username.toLowerCase())
          );
        }
        static async genericApiCallWrapper(e, t, s) {
          if (e.hasMadeAPICall) return;
          const i = await n.m.getRequestHandler(t, void 0);
          if (null == i) return;
          if (!i.isSuccess) return;
          (s(i.json), (e.hasMadeAPICall = !0));
        }
        resetApiCalls() {
          this.sectionLinks.forEach((e) => {
            e.hasMadeAPICall = !1;
          });
        }
        constructor(e = !1, t = "") {
          ((this.isPopup = e),
            (this.username = t),
            this.createSidebar(),
            (this.overviewSection = document.getElementById(
              (0, a.F9)("overview-container", e),
            )),
            (this.rankedSection = document.getElementById(
              (0, a.F9)("ranked-container", e),
            )),
            (this.historySection = document.getElementById(
              (0, a.F9)("game-history-container", e),
            )),
            (this.itemsSection = document.getElementById(
              (0, a.F9)("items-container", e),
            )),
            (this.overviewSectionLink = document.getElementById(
              (0, a.F9)("tab-input-overview", e),
            )),
            (this.rankedSectionLink = document.getElementById(
              (0, a.F9)("tab-input-ranked", e),
            )),
            (this.historySectionLink = document.getElementById(
              (0, a.F9)("tab-input-game-history", e),
            )),
            (this.itemsSectionLink = document.getElementById(
              (0, a.F9)("tab-input-items", e),
            )),
            (this.sections = [
              this.overviewSection,
              this.rankedSection,
              this.historySection,
              this.itemsSection,
            ]),
            (this.sectionLinks = [
              this.overviewSectionLink,
              this.rankedSectionLink,
              this.historySectionLink,
              this.itemsSectionLink,
            ]),
            this.isPopup ||
              ((this.friendsSection = document.getElementById(
                (0, a.F9)("friends-container", e),
              )),
              (this.settingsSection = document.getElementById(
                (0, a.F9)("settings-container", e),
              )),
              (this.friendsSectionLink = document.getElementById(
                (0, a.F9)("tab-input-friends", e),
              )),
              (this.settingsSectionLink = document.getElementById(
                (0, a.F9)("tab-input-settings", e),
              )),
              this.sections.push(this.friendsSection, this.settingsSection),
              this.sectionLinks.push(
                this.friendsSectionLink,
                this.settingsSectionLink,
              )),
            (this.activeLink = this.overviewSectionLink));
        }
      }
    },
    85111: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/ab_discordlogin.0215156ccf1477804f95.png";
    },
    85424: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/city_black.7d1ff2a9a5057982225b.svg";
    },
    85452: (e, t, s) => {
      "use strict";
      s.d(t, { Q: () => h });
      var i = s(18587),
        n = s(67908),
        r = s(18514),
        o = s(9029),
        a = s(31166),
        c = s(69714),
        l = s(26658),
        d = s(648),
        u = s(3294);
      class h {
        static updateDiscordCTAContent(e, t) {
          if (!i.r.isUserOnDiscord)
            throw new Error(
              "This should only be called on the discord integration server",
            );
          const s = t.type == n.mt.ChannelStatus.Closed;
          if (
            ((0, o.G0)(e, () => this.defaultMultiplayerCTAAction(s)),
            t.type == n.mt.ChannelStatus.Closed)
          )
            return void (e.innerText = r.a7.t(
              "strings:homePage.ctas.play.title",
              { context: "discord" },
            ));
          if (t.type == n.mt.ChannelStatus.Game)
            return void (e.innerText = r.a7.t(
              "strings:homePage.ctas.spectate",
            ));
          if (t.type == n.mt.ChannelStatus.Reconnect)
            return void (e.innerText = r.a7.t(
              "strings:homePage.ctas.rejoinGame",
            ));
          t.playersInRoom >= t.maxPlayers
            ? (e.innerText = r.a7.t("strings:homePage.ctas.roomFull"))
            : (e.innerText = r.a7.t("strings:homePage.ctas.joinRoom"));
        }
        static shouldTriggerInviteFriendsPopup(e, t) {
          return !!e && !!t.inDiscordServer && !!t.canInviteFriends;
        }
        static defaultMultiplayerCTAAction(e) {
          a.WC.play(a.hc.Click);
          const t = u.u.getDiscordInstance().voiceChannelId;
          (c.Q.clickedJoinChannelRoomOrGame(t, l.CJ.DiscordActivity),
            this.shouldTriggerInviteFriendsPopup(e, u.u.getDiscordInstance()) &&
              u.u.getDiscordInstance().sendSDKRequest(d.uC.InviteFriends));
        }
      }
    },
    85606: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/group_owned_maps_before.f5f824eba0eb1cdf5c82.png";
    },
    85609: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/ship_move_black.345053f53a82ad08b6d2.svg";
    },
    85801: (e, t, s) => {
      "use strict";
      s.d(t, { N: () => r, g: () => n });
      var i = s(41931),
        n = (function (e) {
          return (
            (e[(e.InGame = 0)] = "InGame"),
            (e[(e.InLobby = 1)] = "InLobby"),
            (e[(e.General = 2)] = "General"),
            e
          );
        })({});
      class r {
        static get instance() {
          return (null == r._instance && (r._instance = new r()), r._instance);
        }
        static bindKey(e, t, s, i, n = !1, o = 500) {
          r.instance.bindKey(e, t, s, i, o, n);
        }
        onKeyDown(e, t) {
          if (
            (function () {
              const e = document.activeElement;
              return "INPUT" == e.nodeName && "text" == e.type;
            })()
          )
            return;
          if (!this.areKeyBindsEnabled) return;
          const s = Date.now();
          for (const n of this.keyBinds) {
            const {
                keyboardEventCode: r,
                onTrigger: o,
                isListening: a,
                shortcutLocation: c,
                withShift: l,
              } = n,
              d = !0 === i.p.getKeyboardShortcuts();
            if (0 === c && !d) continue;
            if (r != e) continue;
            if (l && !t) continue;
            if (t && !l) continue;
            if (0 == a()) continue;
            const u = s - this.lastUnixTimeEachKeyWasPressed[r];
            (u < n.minWaitBetweenSameKeyPressInMilliseconds && 0 != u) ||
              ((this.lastUnixTimeEachKeyWasPressed[e] = s), o());
          }
        }
        bindKey(e, t, s, i, n, r = !1) {
          const o = {
            keyboardEventCode: e,
            onTrigger: t,
            isListening: s,
            shortcutLocation: i,
            minWaitBetweenSameKeyPressInMilliseconds: n,
            withShift: r,
          };
          this.keyBinds.push(o);
        }
        clearAllKeyBinds() {
          this.keyBinds = [];
        }
        disableKeyBindings() {
          this.areKeyBindsEnabled = !1;
        }
        enableKeyBindings() {
          this.areKeyBindsEnabled = !0;
        }
        constructor() {
          ((this.keyBinds = []),
            (this.lastUnixTimeEachKeyWasPressed = {}),
            (this.onKeyDownListener = (e) =>
              this.onKeyDown(e.code, e.shiftKey)),
            document.addEventListener("keydown", this.onKeyDownListener),
            (this.areKeyBindsEnabled = !0));
        }
      }
    },
    85919: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/settlement_blue.bad4cdb43d65c329deda.svg";
    },
    86020: (e, t, s) => {
      "use strict";
      s.d(t, { N: () => i });
      class i {}
    },
    86204: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_bots_beginner.3ab465b510326efe850a.svg";
    },
    86421: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/lobby_ad_easter.97d617d3523a75a8e540.png";
    },
    86464: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/dice_5.e2e4c9085fa4a5ed783a.svg";
    },
    86717: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/prob_8.ca0de6260ba265cc479f.svg";
    },
    87220: (e, t, s) => {
      "use strict";
      s.d(t, {
        Ak: () => l,
        FI: () => c,
        Fc: () => u,
        KV: () => a,
        qe: () => o,
        t3: () => h,
      });
      var i = s(76092),
        n = s(32398),
        r = s(655);
      const o = "action";
      async function a(e) {
        const t = c(e),
          s = await r.m.getRequestHandler(t, void 0),
          i = null == s ? void 0 : s.json.data;
        if (void 0 === i) throw new Error("Missing replayData");
        return i;
      }
      function c(e) {
        const t = l(e);
        if (void 0 !== t) return n.l.apiReplayDataFromSlug(t);
        const s = d(e),
          i = (function (e) {
            const t = new URL(e),
              s = t.searchParams.get("playerColor");
            return null === s ? void 0 : Number(s);
          })(e);
        if (void 0 !== s && void 0 !== i)
          return n.l.apiReplayDataFromGameId(s, i);
        throw new Error("Missing replayUrlSlug and replayUrlGameId");
      }
      function l(e) {
        const t = e.match(/https?:\/\/[^/]+(?:\/[^/]+)*\/replay\/([^/?]+)/);
        if (void 0 !== (null == t ? void 0 : t[1])) return t[1];
      }
      function d(e) {
        const t = new URL(e).searchParams.get("gameId");
        if (null !== t) return t;
      }
      function u(e) {
        const t = new URL(e).searchParams.get(o);
        if (null === t) return -1;
        const s = Number(t);
        return Number.isInteger(s) ? (s < 0 ? -1 : s) : -1;
      }
      function h(e) {
        return void 0 !== l(e)
          ? i.x.ShareableLink
          : void 0 !== d(e)
            ? i.x.DirectLink
            : i.x.EndGame;
      }
    },
    87239: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_discord.582b37c5cebab3367247.svg";
    },
    87283: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/sfx_offer_accepted.1db63c4d77a3569babd7.mp3";
    },
    87290: (e, t, s) => {
      "use strict";
      s.d(t, { KY: () => d, Yt: () => c, du: () => l, os: () => o });
      var i = s(74710),
        n = s(92856),
        r = s(22194);
      const o = r.os;
      function a(e) {
        return {
          key: `strings:leaderboardPage.rankedDivision.${n.h.getEnumKey(e, o)}`,
        };
      }
      const c = r.Yt;
      function l(e, t) {
        const s = t == c.None ? "" : c[t];
        return (0, i.dN)(
          { key: "strings:leaderboardPage.rankedFullDivision" },
          {
            rankedDivision: a(e),
            rankedSubDivision: {
              key: "strings:colonistCommon.utils.#buffer",
              options: { value: s },
            },
          },
        );
      }
      var d = (function (e) {
        return (
          (e.Global = "Global"),
          (e.Continent = "Continent"),
          (e.Country = "Country"),
          (e.CountryRegion = "Country_Region"),
          (e.Friends = "Friends"),
          e
        );
      })({});
    },
    87354: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/road_bronze.c12f42e2d39817ec4346.svg";
    },
    87506: (e, t, s) => {
      "use strict";
      s.d(t, { O: () => a });
      var i = s(78046),
        n = s(66681),
        r = s(26658),
        o = s(78311);
      class a {
        static send(e, t) {
          const s = { action: e, payload: t };
          n.sZ.controller.sender.sendToServerType(
            o.lo.MatchmakingAction,
            "lobby",
            s,
            r.Wf.includes(e),
          );
        }
        static sendFindGame() {
          this.lastMatchmakingRequest &&
            this.send(r.Vy.ClickedFindGame, this.lastMatchmakingRequest);
        }
        static enterMatchmaker(e, t = !0) {
          ((this.lastMatchmakingRequest = e),
            this.clearDelayMatchmakingTimeout(),
            t
              ? (this.delayMatchmakingTimeout = setTimeout(() => {
                  i.W.continueAfterAssetsLoad(() => {
                    this.sendFindGame();
                  });
                }, this.matchmakingRequestDelayMs))
              : i.W.continueAfterAssetsLoad(() => {
                  this.sendFindGame();
                }));
        }
        static storeMatchmakingRequest(e) {
          ((this.lastMatchmakingRequest = e),
            this.clearDelayMatchmakingTimeout());
        }
        static sendCancelFindGame(e) {
          ((this.lastMatchmakingRequest = void 0),
            this.clearDelayMatchmakingTimeout(),
            this.send(r.Vy.ClickedCancelFindGame, e));
        }
        static clearDelayMatchmakingTimeout() {
          (clearTimeout(this.delayMatchmakingTimeout),
            (this.delayMatchmakingTimeout = void 0));
        }
      }
      a.matchmakingRequestDelayMs = 1e3;
    },
    87541: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/city_orange.f49c8fb13a589f8d0c68.svg";
    },
    87542: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/sfx_offer_not_acceptable.d7ca1b7b5f9dc94c6ec5.mp3";
    },
    87576: (e, t, s) => {
      "use strict";
      function i(e, t) {
        let s;
        (e.addListener("pointerdown", (e) => {
          s = e.global;
        }),
          e.addListener("pointerup", (e) => {
            const i = e.global;
            null != s &&
              (Math.abs(i.x - s.x) > 20 || Math.abs(i.y - s.y) > 20 || t());
          }));
      }
      s.d(t, { _: () => i });
    },
    87775: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_bots_medium.eb0df620abe0826a1df3.svg";
    },
    87868: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/sfx_dice_roll_3.61bd4619a24415ce2725.mp3";
    },
    87887: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/icon_longest_road_highlight.50dc66b851ecee9a8662.svg";
    },
    88001: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_trade.db2aa231787fcdbc1a67.svg";
    },
    88112: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_merchant_pink.a7c02ca492c1d55bebd6.svg";
    },
    88206: (e, t, s) => {
      "use strict";
      s.d(t, { d: () => l });
      var i = s(45973),
        n = s(65015),
        r = s(9029),
        o = s(18587),
        a = s(32332);
      class c extends a.A {
        update(e) {
          if ((super.update(e), null == e.unrankedOverrideMessage)) return;
          const t = o.r.isUserOnMobileAppOrWeb
            ? { key: "strings:colonistCommon.utils.n/a" }
            : e.unrankedOverrideMessage;
          ((0, r.RH)(this.customMessage, t),
            (0, r.G0)(this.customMessage, () => {}, !1, !0));
        }
        constructor(e, t, s, i) {
          super(e, t, s, i);
          const n = t.myData ? "my_leaderboard_cell" : "leaderboard_cell";
          ((this.customMessage = (0, r.Cr)(this.tableRow, n)),
            (this.customMessage.colSpan = 3),
            this.customMessage.classList.add("truncate-text"),
            this.update(t));
        }
      }
      class l {
        get isRanked() {
          return this._isRanked;
        }
        updateStickyRowData(e, t) {
          this._isRanked = null == e.unrankedOverrideMessage;
          const s = e.rank == i.B.emptyRank;
          ((this.myTableRowIndex = s ? 1 / 0 : e.rank - 1),
            this.clearStickyRowData(),
            this._isRanked
              ? this.createStickyTableRowViewRanked(e)
              : this.createStickyTableRowViewUnranked(e),
            (this.stickyRowContainer.style.marginBottom = `-${this.stickyRowContainer.clientHeight}px`),
            this.updateStickyRowStyle(t, 0));
        }
        createStickyTableRowViewUnranked(e) {
          var t;
          (null === (t = this.stickyTableRowView) ||
            void 0 === t ||
            t.destroy(),
            (this.stickyTableRowView = new c(
              this.stickyRowDiv,
              e,
              0,
              (e) => {},
            )));
        }
        createStickyTableRowViewRanked(e) {
          var t;
          (null === (t = this.stickyTableRowView) ||
            void 0 === t ||
            t.destroy(),
            (this.stickyTableRowView = new n.g(
              this.stickyRowDiv,
              e,
              0,
              (e) => {},
            )));
        }
        clearStickyRowData() {
          var e;
          (null === (e = this.stickyTableRowView) ||
            void 0 === e ||
            e.destroy(),
            (this.stickyTableRowView = void 0),
            this.stickyRowDiv.replaceChildren(),
            (this.stickyRowContainer.style.marginBottom = "0"));
        }
        updateStickyRowStyle(e, t, s) {
          if (
            (null != s && (this.myTableRowIndex = s), null == this.stickyRowDiv)
          )
            return;
          const i = this.stickyRowDiv.clientHeight + 4,
            n = t,
            r = t + e,
            o = this.myTableRowIndex * i + i,
            a = !(this.myTableRowIndex >= 0 == 0) && o < r - i;
          let c = o > r || o < n + i;
          (-1 == this.myTableRowIndex && (c = !1),
            (this.stickyRowContainer.style.opacity = c ? "1" : "0"),
            (this.stickyRowContainer.style.top = a
              ? "0"
              : e - this.stickyRowContainer.clientHeight + "px"),
            (this.stickyRowContainer.style.pointerEvents = c
              ? "auto"
              : "none"));
        }
        setSearchValue(e) {
          ((this.searchValue = e), (this.myTableRowIndex = -1));
        }
        tableRowLoadingCompleted() {
          "" != this.searchValue &&
            (this.myTableRowIndex = this.findMyTableRowIndexFromHTML());
        }
        findMyTableRowIndexFromHTML() {
          for (let e = 0; e < this.rankingTableDiv.children.length; e++) {
            if (
              "my_leaderboard_cell" ==
              this.rankingTableDiv.children[e].children[0].className
            )
              return e;
          }
          return -1;
        }
        constructor() {
          ((this.myTableRowIndex = -1),
            (this.searchValue = ""),
            (this.stickyRowDiv = document.getElementById(
              "leaderboard_sticky_row",
            )),
            (this.stickyRowContainer = document.getElementById(
              "leaderboard_sticky_table_container",
            )),
            (this.rankingTableDiv = document.getElementById(
              "leaderboard_ranking_table",
            )));
        }
      }
    },
    88429: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/city_gold.ae8ea43a6dc22d3aace7.svg";
    },
    88478: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/dice_event_barbarian.7e94f122cb8dd1d3bd98.svg";
    },
    88758: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/ship_purple_north_west.fa25519831b07b63a916.svg";
    },
    88834: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/knight_level1_inactive_silver.8c3ce55cafdeed369416.svg";
    },
    89010: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_player_loggedin.88be0a3c581efb9f2d3a.svg";
    },
    89100: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/map_stripes_preview.1dedd5259d159ebe37e2.png";
    },
    89173: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_merchant_green.6bf7c73ffc7e3eded03b.svg";
    },
    89179: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/knight_level1_active_green.9ac96ee394a4f651d137.svg";
    },
    89466: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_barbarian_ship.680d808b50e4c4bb4a48.svg";
    },
    89483: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/sfx_knight_upgrade.a8d6b3cf7c071b167732.mp3";
    },
    89544: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_defender.479f0f4f6cbd89ba9cf8.svg";
    },
    89546: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/ab_ck_ranked.e5b272dbdf22120ac12b.png";
    },
    89844: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_bot.fe8fdd5cc98ae77d7774.svg";
    },
    89941: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/dice_red_4.6c02858d953864c2c9cf.svg";
    },
    90051: (e, t, s) => {
      "use strict";
      s.d(t, { K: () => n });
      var i = s(5603);
      class n {
        addNotificationsToPanel(e) {
          (this.notificationPanel.addNotifications(e.notifications),
            this.notificationPanel.displayNumberOfUnreadNotifications(
              e.unreadNotificationCount,
            ),
            e.isExistingNotifications || i.A.play(i.h.RoomSettingUpdated));
        }
        markNotificationAsRead(e) {
          return (
            this.notificationPanel.displayNumberOfUnreadNotifications(
              e.unreadNotificationCount,
            ),
            e.markAllAsRead
              ? this.notificationPanel.markAllNotificationsAsRead()
              : e.notificationMarkedAsRead
                ? this.notificationPanel.markNotificationAsRead(
                    e.notificationMarkedAsRead.id,
                  )
                : void 0
          );
        }
        constructor(e) {
          this.notificationPanel = e;
        }
      }
    },
    90416: (e, t, s) => {
      "use strict";
      e.exports =
        s.p +
        "assets/message_appears_without_username_avatar_after.c383a890d5dad602a32e.png";
    },
    90676: (e, t, s) => {
      "use strict";
      if (
        (s.d(t, {
          Dc: () => g,
          iy: () => y,
          j0: () => b,
          vy: () => f,
          w7: () => v,
        }),
        517 != s.j)
      )
        var i = s(71494);
      var n = s(9029),
        r = s(18514),
        o = s(96990);
      let a = null,
        c = null,
        l = null,
        d = null,
        u = null,
        h = "bottom";
      const p = [".scene_room_left", ".scene_room_mid", ".scene_room_right"]
          .map((e) => document.querySelector(e))
          .filter(Boolean),
        m = o.N.isUserOnSafariOrIOS();
      function g() {
        (!(function () {
          if (null != document.getElementById("tooltip")) return;
          ((c = document.createElement("div")),
            (c.className = "floating-tooltip"),
            (l = (0, n.Le)(c, "floating-tooltip-arrow")),
            (u = (0, n.Le)(c, "tooltip-content")),
            document.body.appendChild(c));
        })(),
          document.querySelectorAll("[data-tooltip]").forEach((e) => {
            S(e);
          }));
      }
      function f(e, t, s, i, r) {
        var o;
        const a =
          "strings:colonistCommon.utils.#buffer" === t.key
            ? null === (o = t.options) || void 0 === o
              ? void 0
              : o.value
            : (0, n.Tl)(t.key, t.options);
        (e.setAttribute("data-tooltip", a),
          null != s && e.setAttribute("data-tooltip-position", s),
          null != r && e.setAttribute("data-tooltip-width", r),
          null != i && e.setAttribute("data-tooltip-fontsize", i),
          S(e));
      }
      function y(e, t) {
        var s;
        const i =
          "strings:colonistCommon.utils.#buffer" === t.key
            ? null === (s = t.options) || void 0 === s
              ? void 0
              : s.value
            : (0, n.Tl)(t.key, t.options);
        e.setAttribute("data-tooltip", i);
      }
      function b(e, t, s, i, o) {
        const a = {
          listTitle: (0, n.Tl)(t.listTitle.key, t.listTitle.options),
          list: r.a7.tArray(t.list),
        };
        (e.setAttribute("data-tooltip-list", JSON.stringify(a)),
          null != s && e.setAttribute("data-tooltip-position", s),
          null != o && e.setAttribute("data-tooltip-width", o),
          null != i && e.setAttribute("data-tooltip-fontsize", i),
          S(e));
      }
      function v() {
        null != c &&
          (c.classList.remove("visible"), (d = null), a && (a(), (a = null)));
      }
      function S(e) {
        e.hasAttribute("data-tooltip-listeners") ||
          (e.addEventListener("mouseover", (t) => {
            "true" !== e.getAttribute("data-tooltip-hidden") &&
              (function (e) {
                if (null == c) return;
                if (null == u) return;
                if (
                  !(function (e) {
                    if (!m) return !0;
                    return (
                      !p.some((e) => "1" !== window.getComputedStyle(e).zoom) ||
                      !p.some((t) => t.contains(e))
                    );
                  })(e)
                )
                  return;
                ((d = e),
                  (h = (function (e) {
                    const t = e.getAttribute("data-tooltip-position");
                    return [
                      "top",
                      "top-start",
                      "top-end",
                      "bottom",
                      "bottom-start",
                      "bottom-end",
                      "right",
                      "right-start",
                      "right-end",
                      "left",
                      "left-start",
                      "left-end",
                    ].includes(t)
                      ? t
                      : "bottom";
                  })(e)),
                  (0, n.RH)(u, {
                    key: "strings:colonistCommon.utils.emptyString",
                  }));
                const t = e.getAttribute("data-tooltip-list");
                if (t)
                  try {
                    !(function (e) {
                      if (null == u) return;
                      (0, n.n8)(
                        u,
                        {
                          key: "strings:colonistCommon.utils.#buffer",
                          options: { value: e.listTitle },
                        },
                        "tooltip-list-title",
                        void 0,
                        "H4",
                      );
                      const t = (0, n.uk)(u, "tooltip-list");
                      e.list.forEach((e) => {
                        (0, n.t2)(
                          t,
                          {
                            key: "strings:colonistCommon.utils.#buffer",
                            options: { value: e },
                          },
                          "",
                        );
                      });
                    })(JSON.parse(t));
                  } catch (e) {
                    u.innerText = "Error displaying tooltip";
                  }
                else {
                  const t = e.getAttribute("data-tooltip");
                  if (null == t) return;
                  u.innerText = t;
                }
                ((c.style.maxWidth = (function (e) {
                  const t = e.getAttribute("data-tooltip-width");
                  switch (
                    ["small", "medium", "large"].includes(t) ? t : "medium"
                  ) {
                    case "small":
                      return "112px";
                    case "medium":
                      return "224px";
                    case "large":
                      return "304px";
                  }
                })(e)),
                  (c.style.padding = (function (e) {
                    switch (k(e)) {
                      case "small":
                        return "4px";
                      case "medium":
                        return "8px";
                    }
                  })(e)),
                  (u.style.fontSize = (function (e) {
                    switch (k(e)) {
                      case "small":
                        return "10px";
                      case "medium":
                        return "12px";
                    }
                  })(e)),
                  c.classList.add("visible"),
                  (async function () {
                    if (null == c) return;
                    if (null == d) return;
                    a && a();
                    a = (0, i.ll)(d, c, async () => {
                      try {
                        var e;
                        if (null == c) return;
                        if (null == l) return;
                        if (null == d) return;
                        const t = 8,
                          s = {
                            placement: h,
                            middleware: [
                              (0, i.cY)(t),
                              (0, i.UU)({ padding: t }),
                              (0, i.BN)({ padding: t }),
                              (0, i.UE)({ element: l }),
                              (0, i.jD)(),
                            ],
                          },
                          n = await (0, i.rD)(d, c, s),
                          { x: r, y: o, placement: a, middlewareData: u } = n;
                        if (
                          null === (e = u.hide) || void 0 === e
                            ? void 0
                            : e.referenceHidden
                        )
                          return void v();
                        if (
                          ((() => {
                            null != c &&
                              Object.assign(c.style, {
                                left: `${r}px`,
                                top: `${o}px`,
                              });
                          })(),
                          null == u.arrow)
                        )
                          return;
                        const { x: p, y: m } = u.arrow,
                          g = {
                            top: "bottom",
                            right: "left",
                            bottom: "top",
                            left: "right",
                          }[a.split("-")[0]];
                        if (null == g) return;
                        (() => {
                          null != l &&
                            Object.assign(l.style, {
                              left: null != p ? `${p}px` : "",
                              top: null != m ? `${m}px` : "",
                              right: "",
                              bottom: "",
                              [g]: "-4px",
                            });
                        })();
                      } catch (e) {
                        return;
                      }
                    });
                  })());
              })(e);
          }),
          e.addEventListener("mouseout", (e) => {
            v();
          }),
          e.setAttribute("data-tooltip-listeners", "true"));
      }
      function k(e) {
        const t = e.getAttribute("data-tooltip-fontsize");
        return ["small", "medium"].includes(t) ? t : "medium";
      }
    },
    90712: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/bank.825b2690b4b1b694d646.svg";
    },
    90878: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_merchant_gold.e8adb5c1af7f4016b494.svg";
    },
    90961: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/game_spritesheet_0.133eef490732059430fd.json";
    },
    91173: (e, t, s) => {
      "use strict";
      s.d(t, { V: () => g });
      var i = s(74710),
        n = s(30506),
        r = s(655),
        o = s(32398),
        a = s(18587),
        c = s(9029),
        l = s(95176),
        d = s(18514),
        u = s(41931),
        h = s(5603);
      class p extends l.y {
        createLanguageSelect() {
          const e = (0, c.Kr)(
            this.body,
            "",
            "",
            (e) => (this.selectedLanguage = e),
          );
          (this.supportedLanguages.forEach((t) => {
            const s = d.vX.getLanguageName(t);
            if (null == s) return;
            const i = n.$x.capitalizeFirstLetter(s),
              r = d.vX.getLanguageName(t, t);
            if (null == r) return;
            const o = `${i} (${n.$x.capitalizeFirstLetter(r)})`;
            (0, c.fg)(e, t, {
              key: "strings:colonistCommon.utils.#buffer",
              options: { value: o },
            });
          }),
            (e.selectedIndex = this.supportedLanguages.indexOf(
              this.currentLanguage,
            )),
            (this.selectedLanguage = e.value));
        }
        async setLanguage() {
          if (
            (h.A.play(h.h.Click),
            this.removePopup(),
            u.p.setLanguage(this.selectedLanguage),
            this.selectedLanguage == this.currentLanguage)
          )
            return;
          const e = { language: this.selectedLanguage };
          (await r.m.postRequestHandler(
            o.l.apiSetUserLanguage(),
            void 0,
            e,
            "application/json",
          ),
            (window.location.pathname = (0, d.nJ)(
              window.location.pathname,
              this.selectedLanguage,
            )));
        }
        constructor() {
          (super(
            { key: "strings:homePage.footer.changeLanguagePopupTitle" },
            { key: "strings:homePage.footer.changeLanguagePopupBody" },
            () => {},
            () => {},
            !0,
          ),
            (this.supportedLanguages = i.F2.languages),
            (this.currentLanguage = a.r.language),
            this.createLanguageSelect(),
            (0, c.G0)(this.checkButton, () => {
              this.setLanguage();
            }),
            this.body.classList.add("language-popup"),
            this.removeXButton(),
            this.show());
        }
      }
      var m = s(90676);
      class g {
        constructor(e) {
          const t = e.getElementsByClassName("language-button")[0];
          if (null == t) return;
          ((0, c.G0)(t, () => {
            new p();
          }),
            (0, m.vy)(
              t,
              { key: "strings:homePage.footer.changeLanguageButtonTooltip" },
              "top",
              void 0,
              "small",
            ));
          const s = t.querySelector("div");
          s &&
            (0, c.oB)(s, {
              key: "strings:colonistCommon.utils.#buffer",
              options: { value: a.r.language },
            });
        }
      }
    },
    91190: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/card_progress_politics_wedding.2c9f495b42607cdf48b1.svg";
    },
    91212: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/stat_vp.2011ca822c87ae720975.svg";
    },
    91265: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/sfx_city_improvement.13c4b06a6bf61ca39459.mp3";
    },
    91353: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/bg_button_white.a4d3e6c6a4483631484f.svg";
    },
    91630: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/execute_button_embargo_overlay.41e4305da3ab3cf4c844.svg";
    },
    91678: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/sfx_first_reminder.de262110f332233e6bab.mp3";
    },
    91767: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/map_usa_preview.0680565e23a86c6cb450.png";
    },
    91933: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/ab_mobileapp.eb62d819a5f37aee44ff.png";
    },
    92274: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/stat_successful_trades.30305f42c5c1355df3e0.svg";
    },
    92469: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/sfx_achievement_largest_army.ae919f6488a4e63c52fe.mp3";
    },
    92524: (e, t, s) => {
      "use strict";
      s.d(t, { g5: () => i, hg: () => r, l6: () => n });
      (s(64265), s(50482), s(17972));
      var i = (function (e) {
          return (
            (e[(e.Stripe = 0)] = "Stripe"),
            (e[(e.Xsolla = 1)] = "Xsolla"),
            (e[(e.Discord = 2)] = "Discord"),
            (e[(e.None = 3)] = "None"),
            (e[(e.Apple = 4)] = "Apple"),
            (e[(e.Android = 5)] = "Android"),
            e
          );
        })({}),
        n = (function (e) {
          return (
            (e[(e.Coin = 0)] = "Coin"),
            (e[(e.Membership = 1)] = "Membership"),
            (e[(e.OneTimePurchase = 2)] = "OneTimePurchase"),
            e
          );
        })({}),
        r = (function (e) {
          return (
            (e.Payment = "payment"),
            (e.Subscription = "subscription"),
            e
          );
        })({});
    },
    92626: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_colonist.1a9af14f55d4ab1dae1f.svg";
    },
    92712: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/dice_red_1.7d2c41c4365b430c7d20.svg";
    },
    92856: (e, t, s) => {
      "use strict";
      s.d(t, { h: () => i });
      var i,
        n = s(30506);
      !(function (e) {
        ((e.loopEnums = function (e, t) {
          return n.h4.loopEnums(e, t);
        }),
          (e.getEnumKey = function (e, t) {
            return n.h4.getEnumKey(e, t);
          }));
      })(i || (i = {}));
    },
    93133: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_aqueduct.7ec47d3966199d588ffe.svg";
    },
    93189: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/road_silver.7408c660e9b9bbc3d29d.svg";
    },
    93392: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/knight_move_white.f93cb01d02a51e3c347d.svg";
    },
    93896: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/card_progress_politics_spy.19442bf93b99600979cb.svg";
    },
    93950: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/sfx_game_started_guitar.2f90057d4fb02d884afa.mp3";
    },
    94226: (e, t, s) => {
      "use strict";
      s.d(t, { c: () => i });
      class i {
        emitEvent(e, t) {
          var s;
          null === (s = this.eventHandlers.get(e)) || void 0 === s || s(t);
        }
        onEvent(e, t) {
          if (null != this.eventHandlers.get(e))
            throw new Error(`Event type ${e} already has a handler`);
          this.eventHandlers.set(e, t);
        }
        removeListener(e) {
          this.eventHandlers.delete(e);
        }
        send(e, t) {
          this.sendFromClientToServer({ type: e, ...t });
        }
        constructor(e) {
          ((this.eventHandlers = new Map()), (this.sendFromClientToServer = e));
        }
      }
    },
    95078: (e, t, s) => {
      "use strict";
      s.d(t, { l: () => i });
      var i,
        n = s(30506);
      !(function (e) {
        ((e.shuffle = function (e) {
          return n.lv.shuffle(e);
        }),
          (e.randomElementFromArray = function (e) {
            return n.lv.randomElementFromArray(e);
          }),
          (e.removeElementFromArray = function (e, t) {
            return n.lv.removeElementFromArray(e, t);
          }),
          (e.countOccurenceOfValueInArray = function (e, t) {
            return n.lv.countOccurenceOfValueInArray(e, t);
          }),
          (e.elementInArray = function (e, t) {
            return n.lv.elementInArray(e, t);
          }));
      })(i || (i = {}));
    },
    95107: (e, t, s) => {
      "use strict";
      s.d(t, { v: () => i });
      class i {}
      ((i.DEFAULT_PARAMETER_VALUE = "1"), (i.suppressPopupsOnLoad = !1));
    },
    95176: (e, t, s) => {
      "use strict";
      s.d(t, { y: () => d });
      var i = s(9029),
        n = s(85801),
        r = s(42466),
        o = s(78311),
        a = s(18587),
        c = s(90676),
        l = s(5603);
      class d {
        makeLarge() {
          ((this.body.className = "popup-body-large"),
            (this.contentContainer.className = "popup-content-large"));
        }
        changeCheckButtonText(e) {
          ((0, i.RH)(this.checkButton, e),
            (this.checkButton.className = "btn_general"));
        }
        disableCheckButton() {
          ((this.checkButton.style.opacity = "0.5"),
            (this.checkButton.style.pointerEvents = "none"));
        }
        enableCheckButton() {
          ((this.checkButton.style.opacity = "1.0"),
            (this.checkButton.style.pointerEvents = "auto"));
        }
        changeXButtonText(e) {
          ((0, i.RH)(this.xButton, e),
            this.xButton.classList.remove("btn_general_x"));
        }
        isRemoved() {
          return "none" == this.container.style.display;
        }
        show() {
          ((this.container.style.display = "block"), (0, c.w7)());
        }
        removePopup() {
          (this.removeAction(),
            (this.container.style.display = "none"),
            null != this.container.parentElement &&
              this.container.parentElement.removeChild(this.container),
            r.y.untrackPopup(this));
        }
        isPopupRemoved() {
          return !r.y.isPopupTracked(this);
        }
        setCancel() {
          if (
            (this.container.addEventListener("touchend", (e) => {
              if (this.preventClicksOutsideOfPopupFromClosingPopup) return;
              e.target == this.container &&
                (e.preventDefault(), this.removePopup());
            }),
            a.r.isUserOnMobileAppOrWeb)
          )
            return;
          if (a.r.isUserOnDiscordMobile) return;
          let e = !1;
          (window.addEventListener("pointerdown", (t) => {
            this.preventClicksOutsideOfPopupFromClosingPopup ||
              (e = t.target == this.container);
          }),
            window.addEventListener("pointerup", (t) => {
              if (!e) return;
              t.target == this.container && this.removePopup();
            }),
            this.setEscapeKeyBind());
        }
        removeCheckButton() {
          this.checkButton.remove();
        }
        removeXButton() {
          this.xButton.remove();
        }
        setEscapeKeyBind() {
          this.preventClicksOutsideOfPopupFromClosingPopup ||
            n.N.bindKey(
              "Escape",
              () => this.removePopup(),
              () => !this.isRemoved(),
              n.g.General,
            );
        }
        removeFooter() {
          ((this.footer.style.display = "none"),
            (this.body.style.border = "0px"));
        }
        applyOptions(e) {
          var t;
          null != e &&
            (!1 === e.showXButton && this.removeXButton(),
            !1 === e.showCheckButton && this.removeCheckButton(),
            !0 === e.showXonHeader && this.addXOnHeader(),
            !0 ===
              (null === (t = e.backButton) || void 0 === t
                ? void 0
                : t.showBackButton) && this.addBackButton(),
            null != e.xButtonCustomContent &&
              (this.xButton.classList.remove("btn_general_x"),
              (0, i.RH)(this.xButton, e.xButtonCustomContent)),
            null != e.checkButtonCustomContent &&
              (this.checkButton.classList.remove("btn_general_check"),
              (0, i.RH)(this.checkButton, e.checkButtonCustomContent)));
        }
        addXOnHeader() {
          const e = (0, i.zO)(this.header, o.am.XMark, "popup-close");
          (0, i.G0)(e, () => {
            (l.A.play(l.h.Click), this.removePopup());
          });
        }
        addBackButton() {
          const e = (0, i.zO)(this.header, o.am.LeftArrow, "popup-back");
          (0, i.G0)(e, () => {
            var e, t, s;
            (l.A.play(l.h.Click),
              null === (s = this.options) ||
                void 0 === s ||
                null === (t = s.backButton) ||
                void 0 === t ||
                null === (e = t.backButtonAction) ||
                void 0 === e ||
                e.call(t));
          });
        }
        addBodyContent(e) {
          (0, i.Wr)(this.body, e, "");
        }
        setFocusStyles(e, t = !1) {
          a.r.isUserOnDiscordMobile &&
            (e.addEventListener("focus", () => {
              (this.container.classList.add("popup-focus-mobile"),
                t &&
                  setTimeout(() => {
                    e.scrollIntoView({ behavior: "smooth", block: "center" });
                  }, 100));
            }),
            e.addEventListener("focusout", () => {
              this.container.classList.remove("popup-focus-mobile");
            }));
        }
        constructor(e, t, s, n, o, a) {
          ((this.removeAction = () => {}),
            (this.container = (0, i.Le)(document.body, "popup")),
            (this.contentContainer = (0, i.Le)(
              this.container,
              "popup-content",
            )),
            (this.header = (0, i.Le)(this.contentContainer, "popup-header")),
            (this.body = (0, i.Le)(this.contentContainer, "popup-body")),
            (this.footer = (0, i.Le)(this.contentContainer, "popup-footer")),
            (this.options = a),
            (this.xButton = (0, i.Le)(
              this.footer,
              "btn_general btn_general_secondary btn_general_x",
            )),
            (0, i.G0)(this.xButton, () => {
              (l.A.play(l.h.Click), n(), this.removePopup());
            }),
            (this.checkButton = (0, i.Le)(
              this.footer,
              "btn_general btn_general_check",
            )),
            (0, i.G0)(this.checkButton, () => {
              (l.A.play(l.h.Click), s(), this.removePopup());
            }),
            (this.preventClicksOutsideOfPopupFromClosingPopup = !1),
            o && this.setCancel(),
            (0, i.n8)(this.header, e, "", "", "H2"),
            null != t && (0, i.Wr)(this.body, t, ""),
            this.applyOptions(a),
            r.y.trackPopup(this));
        }
      }
    },
    95582: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/stat_metropolis.5da7ce11badbe966edfc.svg";
    },
    96072: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/sfx_devcard_monopoly.8f00fbe4b24463a668b4.mp3";
    },
    96079: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/player_status_pending.9a4dc5cd13a898e73a1e.svg";
    },
    96104: (e, t, s) => {
      "use strict";
      s.d(t, { o: () => u });
      var i = s(655),
        n = s(32398),
        r = s(9029),
        o = s(84805),
        a = s(81931),
        c = s(81888),
        l = s(18587),
        d = s(84445);
      class u {
        init() {
          this.setOnClickHandlers();
          (0 == this.profileLinkController.showSectionFromHash() &&
            this.profileLinkController.showSection(0),
            this.makeApiCall(),
            this.getStickyPlayerInfo(),
            (this.overviewController = new a.b()));
        }
        setOnClickHandlers() {
          this.profileLinkController.sectionLinks.forEach((e, t) => {
            ((e.hasMadeAPICall = !1),
              (0, r.G0)(
                e,
                () => {
                  this.setLinkClickAction(e, t);
                },
                !0,
              ),
              l.r.isUserOnMobile && e.classList.add("no-hover"));
          });
        }
        setLinkClickAction(e, t) {
          ((this.profileLinkController.activeLink = e),
            this.profileLinkController.showSection(t),
            this.makeApiCall());
        }
        setItems(e) {
          const t = document.getElementById("profile_items_div");
          (0, r.RH)(t, { key: "strings:colonistCommon.utils.emptyString" });
          for (const s of e) {
            const e = (0, d.bl)(s.category),
              i = (0, r.cE)(
                t,
                `/store#${e}`,
                { key: "strings:colonistCommon.utils.emptyString" },
                "",
              );
            ((0, r.zO)(i, s.image), (0, r.n8)(i, s.name, "", "", "H4"));
          }
        }
        async getStickyPlayerInfo() {
          const e = await i.m.getRequestHandler(
            n.l.apiUserProfile.stickyPlayerInfo(this.username),
            void 0,
          );
          if (null == e) return void this.accountDoesNotExist();
          const t = e.json;
          (this.setUserIcon(t.iconImageId),
            this.setMembershipIcon(t.currentMembershipType),
            this.setStickyUsername(t.username));
        }
        async makeApiCall() {
          var e, t;
          switch (this.profileLinkController.activeLink.id) {
            case this.profileLinkController.overviewSectionLink.id:
              await o.K.genericApiCallWrapper(
                this.profileLinkController.activeLink,
                n.l.apiUserProfile.overview(this.username),
                (e) => {
                  this.overviewController.setStats(e);
                },
              );
              break;
            case this.profileLinkController.historySectionLink.id:
              await o.K.genericApiCallWrapper(
                this.profileLinkController.activeLink,
                n.l.apiUserProfile.history(this.username),
                (e) => {
                  this.setHistory(e);
                },
              );
              break;
            case this.profileLinkController.itemsSectionLink.id:
              await o.K.genericApiCallWrapper(
                this.profileLinkController.activeLink,
                n.l.apiUserProfile.items(this.username),
                (e) => {
                  this.setItems(e);
                },
              );
              break;
            case this.profileLinkController.rankedSectionLink.id:
              await o.K.genericApiCallWrapper(
                this.profileLinkController.activeLink,
                n.l.apiUserProfileRankedSeasons(),
                (e) => {
                  this.setRankedSeasons(e);
                },
              );
              break;
            case null === (e = this.profileLinkController.friendsSectionLink) ||
            void 0 === e
              ? void 0
              : e.id:
              break;
            case null ===
              (t = this.profileLinkController.settingsSectionLink) ||
            void 0 === t
              ? void 0
              : t.id:
              await o.K.genericApiCallWrapper(
                this.profileLinkController.activeLink,
                n.l.apiUserLoginState(),
                (e) => {
                  this.setProfileSettings(e);
                },
              );
          }
        }
        constructor() {
          ((this.profileLinkController = new o.K()),
            c._.registerChangeListener(() => {
              null != this.username &&
                null != c._.userState &&
                c._.userState.username == this.username &&
                this.getStickyPlayerInfo();
            }));
        }
      }
    },
    96144: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/settlement_mysticblue.0bd8f4f37c6262fecccc.svg";
    },
    96197: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_8x.f8c804c76a62eb4d0ded.svg";
    },
    96328: (e, t, s) => {
      "use strict";
      s.d(t, { o: () => d });
      var i = s(9029),
        n = s(84445),
        r = s(19966),
        o = s(32398),
        a = s(13618),
        c = s(18587),
        l = s(5603);
      class d {
        handleBuyButtonClicked(e) {
          (l.A.play(l.h.Click),
            r.CA.sendGoogleAnalyticsEvent(
              r.CA.Category.Store,
              r.CA.Label.StoreClickedPurchaseCoin,
              this.product.price,
            ),
            e && e(),
            (0, n.Uf)(() => {
              c.r.isUserOnMobileAppOrWeb || (0, a.Yf)(this.productUrl);
            }));
        }
        constructor(e, t, s, n) {
          this.product = t;
          const r = (0, i.Le)(e, "store_page_coin_product", ""),
            a = (0, i.Le)(r, "store_page_coin_product_body", ""),
            l =
              ((0, i.zO)(a, t.lobbyImage),
              (0, i.Le)(r, "store_page_coin_product_header")),
            d = {
              key: "strings:storePage.coins.title",
              options: { count: t.baseCoinAmount + t.bonusCoinAmount },
            };
          (0, i.n8)(l, d, "", "", "H2");
          if (0 != t.bonusCoinAmount) {
            const e = (0, i.Wr)(
              l,
              {
                key: "strings:colonistCommon.utils.#buffer",
                options: { value: t.baseCoinAmount + " " },
              },
              "",
            );
            (0, i.Wr)(
              e,
              {
                key: "strings:storePage.coins.bonusAmount",
                options: { count: t.bonusCoinAmount },
              },
              "store_page_coin_product_bonus",
            );
          }
          this.productUrl = o.l.checkoutProductUrl(t.type);
          const u = {
              key: "strings:colonistCommon.utils.#buffer",
              options: {
                value: n ? `${n.currency}${n.price}` : t.getUSDPriceWithSign(),
              },
            },
            h = (0, i.cE)(r, "#", u, "store_button btn_general");
          if (
            ((0, i.G0)(h, () => this.handleBuyButtonClicked(s)),
            null != t.bannerText)
          ) {
            const e = c.r.isUserOnMobileAppOrWeb,
              s = (0, i.Le)(
                r,
                e ? "badge-orange badge-md" : "badge-orange badge-lg",
              );
            (0, i.Wr)(s, t.bannerText, "");
          }
        }
      }
    },
    96396: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/city_wall_orange.b757cd76678f5d71470a.svg";
    },
    96668: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_rewind.d84ec94d04da5cc2f817.svg";
    },
    96926: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/ship_move_purple.2c5f046b6bc440b8b4a5.svg";
    },
    96950: (e, t, s) => {
      "use strict";
      e.exports =
        s.p +
        "assets/fix_pixelated_fullscreen_popup_before.5c46aeb5e1c176278bb3.png";
    },
    96990: (e, t, s) => {
      "use strict";
      s.d(t, { N: () => n });
      var i = s(33832);
      class n {
        static isUserOnTabletApp() {
          if (window.location.hostname.includes("discordsays")) return !1;
          if (
            this.isUserOnMobileAppOrWeb() &&
            window.location.search.includes("tablet=1")
          )
            return !0;
          const e = navigator.userAgent;
          return [
            i.UA.IPAD_APP_USER_AGENT,
            i.UA.TABLET_APP_USER_AGENT,
          ].includes(e);
        }
        static isUserOnMobileAppOrWeb() {
          if (window.location.hostname.includes("discordsays")) return !1;
          const e = navigator.userAgent;
          if (i.UA.isMobileAppUserAgent(e)) return !0;
          return window.location.pathname.includes("/mobile");
        }
        static isUserOnIOSApp() {
          if (window.location.hostname.includes("discordsays")) return !1;
          const e = navigator.userAgent;
          return [
            i.UA.IPHONE_APP_USER_AGENT,
            i.UA.IPAD_APP_USER_AGENT,
          ].includes(e);
        }
        static isUserOnAndroidApp() {
          if (window.location.hostname.includes("discordsays")) return !1;
          const e = navigator.userAgent;
          return [
            i.UA.ANDROID_APP_USER_AGENT,
            i.UA.TABLET_APP_USER_AGENT,
          ].includes(e);
        }
        static isUserOnDiscordMobile() {
          return !!this.isUserOnDiscord() && !!this.isUserOnMobileDevice();
        }
        static isUserOnDiscord() {
          return window.location.hostname.includes("discordsays");
        }
        static isUserOnSafariOrIOS() {
          const e = navigator.userAgent.toLowerCase(),
            t =
              /ipad|iphone|ipod/.test(e) ||
              ("MacIntel" === navigator.platform &&
                navigator.maxTouchPoints > 1),
            s = e.includes("safari") && !e.includes("chrome");
          return t || s;
        }
        static isUserOnMobileWebview() {
          return (
            null != this._isUserOnMobileWebview ||
              (this._isUserOnMobileWebview =
                this.isUserOnMobileAppOrWeb() ||
                this.isUserOnTabletApp() ||
                this.isUserOnDiscordMobile()),
            this._isUserOnMobileWebview
          );
        }
        static isCypressTest() {
          return (
            null != this._isCypressTest ||
              (this._isCypressTest = void 0 !== window.Cypress),
            this._isCypressTest
          );
        }
        static isUserOnMobileDevice() {
          const e = navigator.userAgent;
          return i.UA.isMobileDeviceUserAgent(e);
        }
        static isUserOnTabletDevice() {
          const e = navigator.userAgent;
          return i.UA.isTabletDeviceUserAgent(e);
        }
        static isUserOnMobileWebBrowser() {
          if (window.location.hostname.includes("discordsays")) return !1;
          if (!this.isUserOnMobileDevice()) return !1;
          const e = navigator.userAgent;
          return !i.UA.isMobileAppUserAgent(e);
        }
      }
      ((n._isUserOnMobileWebview = void 0), (n._isCypressTest = void 0));
    },
    97077: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_tie.feca0153f3b1144d64cd.svg";
    },
    97263: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/icon_trade_opponents_check.90ff25f49e3eede7c0bb.svg";
    },
    97392: (e, t, s) => {
      "use strict";
      s.d(t, { Z: () => B });
      var i = s(98487),
        n = s(9029),
        r = s(78311),
        o = s(18587),
        a = s(18514),
        c = s(30506),
        l = s(63778),
        d = s(17399),
        u = s(60883),
        h = s(90676),
        p = s(32581),
        m = s(34915),
        g = s(66681),
        f = s(5603);
      class y {
        renderUserInfo() {
          ((this.profilePic = y.createIconIn(
            this.nameContainer,
            r.am.Guest,
            this.PLAYER_ICON_SIZE,
          )),
            (this.usernameAndKarmaContainer = (0, n.Le)(
              this.nameContainer,
              "room_player_username_and_karma",
            )),
            (this.usernameContainer = (0, n.Le)(
              this.usernameAndKarmaContainer,
              "room_player_username_container",
            )),
            (this.userName = (0, n.i5)(
              this.usernameContainer,
              "room_player_username",
              { key: "strings:profilePage.friends.tableHeaders.player" },
            )),
            this.renderUsernameInfoIcon(),
            (this.karmaContainer = (0, n.Le)(
              this.usernameAndKarmaContainer,
              "room_player_karma",
            )),
            this.renderKarma(),
            (this.difficultySelectorContainer = (0, n.Kr)(
              this.usernameAndKarmaContainer,
              "room_player_difficulty_selector hidden",
              "",
              () => {},
            )),
            this.renderBotDifficultySelector());
        }
        renderUsernameInfoIcon() {
          ((this.usernameInfoIcon = (0, n.Le)(
            this.usernameContainer,
            "room_player_username_info_icon",
          )),
            y.createIconIn(
              this.usernameInfoIcon,
              r.am.InfoIcon,
              this.ICON_SIZE,
            ),
            (0, h.vy)(this.usernameInfoIcon, {
              key: "strings:roomPage.onlineUsernameTooltip",
            }),
            (0, n.G0)(
              this.usernameInfoIcon,
              () => {
                new u.D(() => {});
              },
              !1,
              !0,
            ),
            this.hideUsernameInfoIcon());
        }
        renderKarma() {
          ((this.karmaText = (0, n.Wr)(
            this.karmaContainer,
            { key: "strings:colonistCommon.utils.emptyString" },
            "room_player_karma_text",
          )),
            (0, h.vy)(
              this.karmaContainer,
              { key: "strings:homePage.overview.karma" },
              void 0,
              void 0,
              "small",
            ),
            (0, n.G0)(this.karmaContainer, () => {}, !1, !0));
        }
        renderBotDifficultySelector() {
          c.h4.iterateEnum(i.R1, (e) => {
            (0, n.fg)(this.difficultySelectorContainer, e, {
              key: "strings:colonistCommon.botDifficulties.difficulty",
              options: { context: e },
            });
          });
        }
        renderReadinessState() {
          ((this.actionIconsContainer = (0, n.Le)(
            this.readyContainer,
            "room-player-actions-container",
          )),
            (this.readinessContainer = (0, n.Le)(
              this.readyContainer,
              "room_player_ready",
            )),
            (this.statusText = (0, n.i5)(this.readinessContainer, "", {
              key: "strings:roomPage.notReady",
            })));
        }
        createAddBotButton() {
          ((this.addBotButton = (0, n.Le)(
            this.container,
            "btn_general btn_add_bot",
            "add-bot-button",
          )),
            (0, n.zO)(this.addBotButton, r.am.Bot),
            (0, n.i5)(this.addBotButton, "", {
              key: "strings:roomPage.addBot",
            }),
            (0, n.G0)(this.addBotButton, () => {
              (f.A.play(f.h.Click), g.sZ.roomClient.addBot());
            }));
        }
        removePlayer() {
          ((this.infoContainer.style.display = "none"),
            (this.readyContainer.style.display = "none"),
            (this.addBotButton.style.display = "flex"),
            (this.state = void 0),
            (this.container.onclick = () => {}));
        }
        update(e) {
          var t;
          (this.colorChanged(e) && this.updateColor(e.selectedColor),
            this.updateKarma(e),
            this.updateBotDifficultySelectorValue(
              null !== (t = e.botDifficulty) && void 0 !== t
                ? t
                : i.R1.BotMedium,
            ),
            this.statusChanged(e) && this.updateStatus(e),
            this.statusChanged(e) && this.updateReadyContainerClass(e),
            (this.state = e),
            this.updateProfilePic(),
            this.updateUsernameInfoIcon(),
            this.showPlayer());
        }
        updateProfilePic() {
          if (null == this.state) return;
          var e;
          const t =
            null !== (e = this.state.profilePictureUrl) && void 0 !== e
              ? e
              : (0, d.tu)(this.state.icon);
          (this.profilePic.src != t && (this.profilePic.src = t),
            this.profilePic.classList.toggle(
              "profile-picture",
              null != this.state.profilePictureUrl,
            ));
        }
        updateActionIcons(e) {
          (0, n.RH)(this.actionIconsContainer, {
            key: "strings:colonistCommon.utils.emptyString",
          });
          for (const t of e) {
            const e = (0, n.Le)(
                this.actionIconsContainer,
                "room-player-action-icon-container",
              ),
              s = (0, n.zO)(e, t.icon, "darken-on-hover");
            if (null != t.action) {
              const e = t.action;
              (0, n.G0)(s, () => e(), !1, !0);
            }
            null != t.tooltip &&
              (o.r.isUserOnMobileAppOrWeb || (0, h.vy)(e, t.tooltip));
          }
        }
        updateColor(e) {
          if (e == l.DS.None)
            return (
              (this.colorRoad.src = p),
              (this.colorSettlement.src = p),
              void (this.colorCity.src = p)
            );
          ((this.colorRoad.src = m.j.roadsByColor[e]),
            (this.colorSettlement.src = m.j.settlementsByColor[e]),
            (this.colorCity.src = m.j.citiesByColor[e]));
        }
        updateKarma(e) {
          e.isBot
            ? (this.karmaContainer.style.display = "none")
            : null == e.profilePictureUrl
              ? ((0, n.RH)(this.karmaText, {
                  key: "strings:homePage.header.playerKarma",
                  options: {
                    totalCompleted: e.karmaCompletedGames,
                    totalGames: e.karmaTotalGames,
                  },
                }),
                (0, h.iy)(this.karmaContainer, {
                  key: "strings:roomPage.karmaPlayerTooltip",
                }),
                (this.karmaContainer.style.display = "flex"))
              : (this.karmaContainer.style.display = "none");
        }
        setBotDifficultySelectorVisibility(e) {
          if (e)
            return (
              this.difficultySelectorContainer.classList.remove("hidden"),
              void this.usernameAndKarmaContainer.classList.add(
                "room_player_username_and_karma_bot",
              )
            );
          (this.difficultySelectorContainer.classList.add("hidden"),
            this.usernameAndKarmaContainer.classList.remove(
              "room_player_username_and_karma_bot",
            ));
        }
        setBotDifficultySelectorDisabled(e) {
          ((this.difficultySelectorContainer.disabled = e),
            e
              ? this.difficultySelectorContainer.classList.add("disabled")
              : this.difficultySelectorContainer.classList.remove("disabled"));
        }
        updateBotDifficultySelectorValue(e) {
          this.difficultySelectorContainer.value = e.toString();
        }
        setUsername(e) {
          (0, n.RH)(this.userName, {
            key: "strings:colonistCommon.utils.#buffer",
            options: { value: ` ${e} ` },
          });
        }
        updateStatus(e) {
          if (e.isReadyToPlay)
            return (
              (this.statusText.innerText = a.a7
                .t("strings:roomPage.ready")
                .toLocaleUpperCase()),
              void this.container.classList.remove("room_player_name_not_ready")
            );
          ((this.statusText.innerText = a.a7.t("strings:roomPage.notReady")),
            this.container.classList.add("room_player_name_not_ready"));
        }
        updateReadyContainerClass(e) {
          e.isReadyToPlay
            ? this.readyContainer.classList.remove(
                "room_player_not_ready_color",
              )
            : this.readyContainer.classList.add("room_player_not_ready_color");
        }
        showPlayer() {
          ((this.infoContainer.style.display = "flex"),
            (this.readyContainer.style.display = "flex"),
            this.hideBotButton());
        }
        setColorOnclick(e) {
          (0, n.G0)(this.colorContainer, () => {
            (f.A.play(f.h.Click), e());
          });
        }
        setBotDifficultySelectorOnClick(e) {
          this.difficultySelectorContainer.onchange = (t) => {
            const s = Number(this.difficultySelectorContainer.value);
            (f.A.play(f.h.Click), e(s));
          };
        }
        setOnclick(e) {
          this.container.onclick = (t) => {
            t.target != this.colorContainer &&
              t.target != this.difficultySelectorContainer &&
              (Array.from(this.difficultySelectorContainer.children).includes(
                t.target,
              ) ||
                (t.target != this.colorContainer &&
                  t.target != this.difficultySelectorContainer &&
                  (f.A.play(f.h.Click), e())));
          };
        }
        toggleColorSelector(e) {
          e
            ? this.colorContainer.classList.add("can_edit_color")
            : this.colorContainer.classList.remove("can_edit_color");
        }
        hideView() {
          "none" != this.container.style.display &&
            (this.container.style.display = "none");
        }
        showView() {
          "flex" != this.container.style.display &&
            (this.container.style.display = "flex");
        }
        displayBotButton() {
          null == this.state && (this.addBotButton.style.display = "flex");
        }
        hideBotButton() {
          this.addBotButton.style.display = "none";
        }
        showUsernameInfoIcon() {
          this.usernameInfoIcon.style.display = "inherit";
        }
        hideUsernameInfoIcon() {
          this.usernameInfoIcon.style.display = "none";
        }
        isShowingPlayer() {
          return "flex" == this.infoContainer.style.display;
        }
        enableHover() {
          this.container.classList.add("hover-enabled");
        }
        disableHover() {
          this.container.classList.remove("hover-enabled");
        }
        updateUsernameInfoIcon() {
          this.shouldShowUsernameInfoIcon()
            ? this.showUsernameInfoIcon()
            : this.hideUsernameInfoIcon();
        }
        shouldShowUsernameInfoIcon() {
          var e;
          return (
            !!o.r.isUserOnDiscord &&
            null ==
              (null === (e = this.state) || void 0 === e
                ? void 0
                : e.profilePictureUrl) &&
            this.isItMe()
          );
        }
        colorChanged(e) {
          return (
            null == this.state || this.state.selectedColor != e.selectedColor
          );
        }
        statusChanged(e) {
          return (
            null == this.state || this.state.isReadyToPlay != e.isReadyToPlay
          );
        }
        static createIconIn(e, t, s) {
          const i = (0, n.zO)(e, t);
          return ((i.width = s), (i.height = s), i);
        }
        isItMe() {
          return null != this.state && B.isItMe(this.state);
        }
        constructor(e) {
          ((this.PLAYER_ICON_SIZE = 28),
            (this.ACTION_ICON_SIZE = 18),
            (this.ICON_SIZE = 17),
            (this.container = (0, n.Le)(e, "room_player_name")),
            (this.infoContainer = (0, n.Le)(
              this.container,
              "room_player_info",
            )),
            (this.readyContainer = (0, n.Le)(
              this.container,
              "room_player_ready_container room_player_not_ready_color",
            )),
            (this.nameContainer = (0, n.Le)(
              this.infoContainer,
              "room_player_user",
            )),
            (this.colorContainer = (0, n.Le)(
              this.infoContainer,
              "room_player_color",
            )),
            this.renderUserInfo(),
            (this.colorRoad = y.createIconIn(
              this.colorContainer,
              r.am.RoadBronze,
              this.ICON_SIZE,
            )),
            (this.colorSettlement = y.createIconIn(
              this.colorContainer,
              r.am.SettlementBronze,
              this.ICON_SIZE,
            )),
            (this.colorCity = y.createIconIn(
              this.colorContainer,
              r.am.CityBronze,
              this.ICON_SIZE,
            )),
            this.renderReadinessState(),
            this.createAddBotButton(),
            this.removePlayer());
        }
      }
      var b = s(19733);
      const v = s.p + "assets/favicon_orange.e02ce02025b0c3694e91.png";
      class S {
        static resetTabTitleAndFavIcon() {
          ((0, n.oB)(this.pageTitle, {
            key: "strings:colonistCommon.utils.#buffer",
            options: { value: this.defaultTitle },
          }),
            (this.favicon.href = this.defaultFavIcon));
        }
        static blinkTab(e) {
          ((0, n.oB)(this.pageTitle, e),
            (this.favicon.href = v),
            setTimeout(() => this.resetTabTitleAndFavIcon(), 1e3));
        }
      }
      ((S.pageTitle = document.getElementById("browser_tab")),
        (S.favicon = document.getElementById("favicon")),
        (S.defaultTitle = S.pageTitle.innerHTML),
        (S.defaultFavIcon = S.favicon.href));
      var k = s(81888),
        C = s(76092),
        P = s(19966),
        _ = s(84445),
        A = s(13618),
        w = s(655),
        R = s(32398);
      async function T(e, t) {
        if (!o.r.isUserOnDiscord) return e;
        if (null == t) return e;
        const s = await w.m.getRequestHandler(
          R.l.apiUserProfile.username(t),
          void 0,
        );
        if (null == s) return e;
        var i;
        return null !== (i = s.json.username) && void 0 !== i ? i : e;
      }
      var I = s(34617),
        M = s(23355),
        L = s(55159);
      class B {
        clear() {
          ((0, n.RH)(this.playerListContainer, {
            key: "strings:colonistCommon.utils.emptyString",
          }),
            this.guestViews.splice(0, this.guestViews.length));
        }
        load(e) {
          ((this.hostView = new y(this.playerListContainer)),
            this.createGuestViews(),
            this.update(e));
        }
        update(e) {
          ((this.roomState = e),
            this.updateHostView(e),
            this.updateGuestSessionViews(e),
            this.updateBotButtonViews(e));
        }
        createGuestViews() {
          for (let e = 1; e < i.Zt.MAX_PLAYER_COUNT; e += 1) {
            const e = new y(this.playerListContainer);
            this.guestViews.push(e);
          }
        }
        updateHostView(e) {
          (this.hostView.update(e.hostSession),
            this.hostView.updateActionIcons(
              B.getActionIconsToDisplay(e, e.hostSession),
            ),
            this.hostView.setUsername(B.getUsername(e, e.hostSession)));
          const t = this.playerClickAction(e.hostSession, e.hostSession);
          (B.togglePlayerHover(this.hostView, null == t),
            this.hostView.setOnclick(() => {
              (f.A.play(f.h.Click), null == t || t());
            }));
          const s = B.shouldShowColorSelectorBackground(e, e.hostSession);
          this.updateColorSelector(s, this.hostView);
        }
        updateGuestSessionViews(e) {
          const t = e.getGuestSessions();
          for (const [s, i] of this.guestViews.entries()) {
            const n = t[s];
            if (
              (e.gameSetting.maxPlayers - 1 < s + 1 && i.hideView(),
              e.gameSetting.maxPlayers - 1 >= s + 1 && i.showView(),
              null == n)
            ) {
              i.isShowingPlayer() &&
                (i.removePlayer(),
                S.blinkTab({
                  key: "strings:roomPage.left",
                  options: {
                    count: e.getSessionCount(),
                    maxCount: e.gameSetting.maxPlayers,
                  },
                }),
                f.A.play(f.h.LeaveRoom, B.leaveSoundVolume));
              continue;
            }
            (i.isShowingPlayer() ||
              (S.blinkTab({
                key: "strings:roomPage.joined",
                options: {
                  count: e.getSessionCount(),
                  maxCount: e.gameSetting.maxPlayers,
                },
              }),
              f.A.play(f.h.JoinRoom)),
              i.update(n));
            const r = this.playerClickAction(e.hostSession, n);
            (B.togglePlayerHover(i, null == r),
              i.setOnclick(() => {
                (f.A.play(f.h.Click), null == r || r());
              }));
            const o = B.shouldShowColorSelectorBackground(e, n);
            (this.updateColorSelector(o, i),
              i.updateActionIcons(B.getActionIconsToDisplay(e, n)),
              i.setBotDifficultySelectorVisibility(n.isBot),
              i.setBotDifficultySelectorDisabled(!B.isItMe(e.hostSession)),
              i.setBotDifficultySelectorOnClick((e) => {
                g.sZ.roomClient.setBotDifficulty(n.roomSessionId, e);
              }),
              i.setUsername(B.getUsername(e, n)));
          }
        }
        updateBotButtonViews(e) {
          if (e.hostSession.userSessionId != g.sZ.controller.session.id)
            for (const e of this.guestViews) e.hideBotButton();
          else for (const e of this.guestViews) e.displayBotButton();
        }
        updateColorSelector(e, t) {
          (t.setColorOnclick(
            e ? () => this.openEditProfileForPlayer(t.state) : () => {},
          ),
            t.toggleColorSelector(e));
        }
        static isItMe(e) {
          return g.sZ.controller.session.id == e.userSessionId;
        }
        static isItCurrentUserId(e) {
          var t;
          return (
            (null === (t = k._.userState) || void 0 === t ? void 0 : t.id) ==
            e.userId
          );
        }
        static isItHost(e, t) {
          return e.hostSession.userSessionId == t.userSessionId;
        }
        static shouldShowColorSelectorBackground(e, t) {
          return !(!t.isBot || !this.isItMe(e.hostSession)) || this.isItMe(t);
        }
        playerClickAction(e, t) {
          if (t.isBot) return;
          if (B.isItMe(t)) return () => this.openEditProfilePage(t);
          return B.isItMe(e)
            ? () => B.showHostActionsPopup(t)
            : () => B.openProfilePage(t);
        }
        openEditProfilePage(e) {
          (0, _.Uf)(() => this.openEditProfileForPlayer(e));
        }
        static kickPlayer(e) {
          g.sZ.roomClient.kickPlayer(e.roomSessionId);
        }
        static showHostActionsPopup(e) {
          const t = {
            key: "strings:roomPage.hostActions.body",
            options: { username: e.username },
          };
          b.r.create(
            { key: "strings:roomPage.hostActions.title" },
            t,
            () => {
              B.kickPlayer(e);
            },
            async () => {
              const t = await T(e.username, e.userId);
              M.xp.init(t);
            },
            !0,
            {
              xButtonCustomContent: {
                key: "strings:roomPage.hostActions.viewProfile",
              },
              checkButtonCustomContent: {
                key: "strings:roomPage.hostActions.kick",
              },
            },
          );
        }
        static showKickPlayerPopup(e) {
          const t = {
            key: "strings:roomPage.hostActions.kickPlayer",
            options: { username: e.username },
          };
          b.r.create(
            { key: "strings:roomPage.hostActions.kick" },
            t,
            () => {
              B.kickPlayer(e);
            },
            () => {},
            !0,
            {
              xButtonCustomContent: {
                key: "strings:colonistCommon.buttons.cancel",
              },
              checkButtonCustomContent: {
                key: "strings:roomPage.hostActions.kick",
              },
            },
          );
        }
        static async openProfilePage(e) {
          const t = await T(e.username, e.userId);
          M.xp.init(t);
        }
        static getActionIconsToDisplay(e, t) {
          const s = [],
            i = this.isItMe(t),
            n = this.isItCurrentUserId(t),
            a = !(t.isBot || i || n || o.r.isUserOnDiscordMobile);
          if (
            (this.canShowAddFriendIcon(t) &&
              s.push({
                icon: r.am.AddFriend,
                action: async () => {
                  const e = await T(t.username, t.userId);
                  if (this.alreadyFriends(e))
                    return void g.OV.showNotification(r.am.Friends, {
                      key: "strings:popups.errors.friendError.alreadyFriends",
                    });
                  if (this.alreadySentFriendRequest(e))
                    return void g.OV.showNotification(r.am.Friends, {
                      key: "strings:popups.errors.friendError.alreadySentFriendRequest",
                    });
                  const s = {
                    type: C.k0.Friends,
                    category: C.eX.Room,
                    floatValue: C.Jd.RoomAddFriendAction,
                  };
                  (P.CA.sendAnalyticEvent(s), I.v.addFriendAction(e));
                },
                tooltip: { key: "strings:game.playerOptionsPopup.addFriend" },
              }),
            a)
          ) {
            const e = {
              type: C.k0.ABTestClickAnalytics,
              category: C.eX.GiftMembershipOverlay,
              floatValue: C.s8.Room,
            };
            s.push({
              icon: r.am.StoreGiftMembership,
              action: () => {
                (P.CA.sendAnalyticEvent(e),
                  (0, _.b4)(() => {
                    const e = () =>
                      (0, A.Yf)(`/store?username=${t.username}#gift`, !0);
                    o.r.isUserOnMobileAppOrWeb ? new L.E(e) : e();
                  }, t.username));
              },
              tooltip: {
                key: "strings:game.tooltips.giftMembership",
                options: { username: t.username },
              },
            });
          }
          if (i)
            s.push({
              icon: r.am.Pencil,
              tooltip: { key: "strings:homePage.header.editProfile" },
            });
          else if (this.isItMe(e.hostSession)) {
            const e = t.isBot
              ? () => B.kickPlayer(t)
              : () => B.showKickPlayerPopup(t);
            s.push({
              icon: r.am.XMark,
              action: e,
              tooltip: {
                key: "strings:game.tooltips.kickPlayer",
                options: { username: t.username },
              },
            });
          }
          return s;
        }
        static getUsername(e, t) {
          return this.isItMe(t)
            ? `${t.username} ${a.a7.t("strings:roomPage.you")}`
            : this.isItHost(e, t)
              ? `${t.username} ${a.a7.t("strings:roomPage.host")}`
              : t.username;
        }
        static togglePlayerHover(e, t) {
          t ? e.disableHover() : e.enableHover();
        }
        static canShowAddFriendIcon(e) {
          return (
            !e.isBot &&
            !B.isItCurrentUserId(e) &&
            !this.alreadyFriends(e.username) &&
            !this.alreadySentFriendRequest(e.username)
          );
        }
        static alreadyFriends(e) {
          var t, s;
          return (
            null !==
              (s =
                null === (t = this.friendsData) || void 0 === t
                  ? void 0
                  : t.friends.some((t) => t.username === e)) &&
            void 0 !== s &&
            s
          );
        }
        static alreadySentFriendRequest(e) {
          var t, s;
          return (
            null !==
              (s =
                null === (t = this.friendsData) || void 0 === t
                  ? void 0
                  : t.friendRequestsSent.includes(e)) &&
            void 0 !== s &&
            s
          );
        }
        constructor(e) {
          ((this.guestViews = []),
            (this.playerListContainer = e),
            k._.registerChangeListener(async () => {
              ((B.friendsData = await I.v.getFriends(k._.userState)),
                null != this.roomState && this.update(this.roomState));
            }));
        }
      }
      B.leaveSoundVolume = 0.6;
    },
    97861: (e, t, s) => {
      "use strict";
      s.d(t, { X: () => i });
      class i {
        subscribe(e, t) {
          return (
            null == this.events[e] && (this.events[e] = []),
            this.events[e].push(t),
            { unsubscribe: () => this.unsubscribe(e, t) }
          );
        }
        subscribeOnce(e, t) {
          const s = this.subscribe(e, (...e) => {
            (s.unsubscribe(), t.apply(null, [...e]));
          });
        }
        listenerCount(e) {
          return null == this.events[e] ? 0 : this.events[e].length;
        }
        unsubscribe(e, t) {
          null != this.events[e] &&
            (this.events[e] = this.events[e].filter((e) => e !== t));
        }
        emit(e, ...t) {
          null != this.events[e] &&
            this.events[e].forEach((e) => e.apply(null, [...t]));
        }
        constructor(e = {}) {
          this.events = e;
        }
      }
    },
    98e3: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/card_devcardback.92569a1abd04a8c1c17e.svg";
    },
    98056: (e, t, s) => {
      "use strict";
      s.d(t, { g: () => o });
      var i = s(92524),
        n = s(9029),
        r = s(37385);
      class o {
        shouldDisableMembershipManagement(e) {
          const t = e == i.g5.Stripe,
            s = e == i.g5.Apple || e == i.g5.Android;
          return !t && !s;
        }
        setupReferralRewardClickHandler(e, t, s, i) {
          window.addEventListener("click", (i) => {
            r.j.isDescriptionAlreadyDisplayed(t)
              ? r.j.displayImageInsteadOfDescription(t, s)
              : r.j.isClickOnTheItem(i, e) &&
                r.j.displayDescriptionInsteadOfImage(t, s);
          });
        }
        async updateReferralProgram(e = !1) {
          await this.referralController.updateReferralProgram(e);
        }
        constructor() {
          ((this.membershipItems = []),
            setTimeout(() => {
              const e = document.getElementById("store_page_membership_title");
              null != e &&
                (0, n.RH)(e, {
                  key: "strings:storePage.sections.membership.title",
                });
            }, 100),
            (this.referralController = new r.j(this)));
        }
      }
    },
    98302: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/player_status_accept.0d2db004499736cfb369.svg";
    },
    98417: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/knight_move_blue.f64ed0281ff27e7535b4.svg";
    },
    98734: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/city_white.cca576079023a2bdc80f.svg";
    },
    98978: (e, t, s) => {
      "use strict";
      e.exports =
        s.p + "assets/card_progress_science_crane.c3cb07a2eec78d040a13.svg";
    },
    99018: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/knight_move_black.325537abb9e951debf8d.svg";
    },
    99059: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_merchant_white.c93f5f627ac64a69bd6e.svg";
    },
    99071: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/bg_button_red.e443074fceecb964fe06.svg";
    },
    99242: (e, t, s) => {
      "use strict";
      e.exports =
        s.p +
        "assets/colonist_rush_background_gradient.905658e6f11ce8b731a7.png";
    },
    99273: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/ship_white_north_west.13e30ef284ecac032768.svg";
    },
    99527: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_worker.d7a6db1b981ba2cbc90c.svg";
    },
    99777: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/icon_beginner_hint.3824e3c769a8eecf2193.svg";
    },
    99812: (e, t, s) => {
      "use strict";
      e.exports = s.p + "assets/card_roadbuilding.994e8f21698ce6c350bd.svg";
    },
  },
]);
//# sourceMappingURL=shared.3ed0c9ee632825f084fb.js.map
