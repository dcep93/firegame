{"version":3,"sources":["routes/fox/app/index.module.css","firegame/components/index.module.css","firegame/firebase.tsx","firegame/writer/game.tsx","firegame/writer/lobby.tsx","firegame/writer/utils.tsx","firegame/writer/index.tsx","shared/store.tsx","shared/index.tsx","routes/fox/app/utils/index.tsx","routes/fox/app/main/playCard.tsx","routes/fox/app/main/HandCard.tsx","routes/fox/app/main/Hand.tsx","routes/fox/app/main/Field.tsx","routes/fox/app/main/Rules.tsx","routes/fox/app/main/index.tsx","routes/fox/app/utils/NewGame.tsx","routes/fox/app/sidebar/Players.tsx","shared/components/log/LogEntry.tsx","shared/components/log/index.tsx","routes/fox/app/sidebar/Log.tsx","routes/fox/app/sidebar/index.tsx","routes/fox/app/index.tsx","routes/timeline/app/utils/index.tsx","routes/timeline/app/main/Hand.tsx","routes/timeline/app/main/Board.tsx","routes/timeline/app/main/index.tsx","routes/timeline/app/utils/Quizlet.tsx","routes/timeline/app/utils/NewGame.tsx","routes/timeline/app/sidebar/Settings.tsx","routes/timeline/app/sidebar/Players.tsx","routes/timeline/app/sidebar/Info.tsx","routes/timeline/app/sidebar/Log.tsx","routes/timeline/app/sidebar/index.tsx","firegame/games.tsx","routes/timeline/app/index.tsx","firegame/components/Home.tsx","firegame/components/LoadingPage.tsx","firegame/components/LoginPage.tsx","firegame/components/GameWrapper.tsx","App.tsx","serviceWorker.ts","index.tsx","shared/styles.module.css","routes/timeline/app/index.module.css"],"names":["module","exports","database","config","databaseURL","offset","init","firebase","initializeApp","ref","once","then","data","val","now","Date","latestChild","path","callback","limitToLast","on","snapshot","push","obj","connect","set","sendGameStateHelper","gameWrapper","Firebase","gamePath","receiveGameUpdate","record","Object","values","info","timestamp","store","gameW","update","playerId","me","userId","playerName","lobby","message","host","id","game","updateTimestamp","mePath","setLobbyFromRemote","remoteLobby","entries","person","username","signin","keys","length","lobbyEquals","gameHasStarted","setInterval","initialized","Error","lobbyPath","roomPath","gameName","roomId","update_","localStorage","version","VERSION","Math","random","toString","substr","getUserId","setUsername","myUserObj","signInTime","sendGameState","lastInfo","game_","undefined","Writer","Shared","players","currentPlayer","this","playerIndexByIndex","index","map","player","indexOf","playerIndexById","myIndex","arr","i","j","floor","store_","shared","deal","dealer","lead","deck","suit","String","fromCharCode","value","shuffle","buildDeck","assign","hand","dealHand","tricks","dealPlayers","trump","shift","sortHand","sort","a","b","getSortPosition","card","codePointAt","getText","playCard","getMe","fromStaging","Boolean","staging","handlePre_3_5","handCard","canPlay","alert","splice","duringMessage","drawnCard","text","unshift","handleDuring_3_5","winner","incrementPlayerTurn","wins","getCurrent","score","handlePost_1_7","previous","scores","userName","join","playerState","scoreFromTricks","HandCard","className","styles","bubble","onClick","play","bind","props","React","Component","Hand","key","Field","l","Rules","Main","createPlayers","params","setDefault","NewGame","Promise","resolve","Players","renderPlayer","startNewGame","prefix","parts","getParams","LogEntry","revert","getMessage","w","wrapper","time","toLocaleTimeString","history","Log","state","updateHistory","newState","JSON","parse","stringify","setState","dont_grow","log_entry_parent","log_entry_child","SharedLog","Sidebar","css","sidebar","Fox","classes","main","isMyTurn","my_turn","content","sortBoard","board","getHand","renderCard","termIndex","handIndex","term","terms","selectedIndex","selectedCard","e","selectCard","word","image","src","alt","stopPropagation","Board","getCardsAndTargets","cardsAndTargets","renderTarget","forEach","target","selectTarget","last","correct","incorrect","definition","leftBound","rightBound","isBetween","pop","playDefinition","parseInt","leftCard","rightCard","_api_url","SET_URL","fetch","base","response","json","responses","models","TERMS_URL","SEARCH_URL","FOLDER_URL","fetchBySetId","setId","setPromise","Quizlet","termsPromise","all","fetchByQuery","queryString","setDeck","_imageUrl","reverse","swap","useRank","_","title","setPlayers","handSize","setBoard","boardStartingSize","quizlet","Settings","handSizeRef","createRef","boardSizeRef","swapRef","reverseRef","useRankRef","quizletRef","fetchFromFolder","settings_form","settings_input","type","defaultValue","size","settings_select","onChange","selectChange","defaultChecked","getSets","startGame","sets","setsToTitles","preventDefault","option","options","current","fetchFromFolderHelper","fetchedFromFolderVersion","fetchedFromFolder","seedFromFolder","blob","promises","folderSet","model","catch","checked","Info","fox","timeline","Home","LoadingPage","LoginPage","inputRef","login","onSubmit","GameWrapper","document","toLocaleUpperCase","forceUpdate","component","App","exact","render","routes","match","games","getRoutes","window","location","hostname","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","error","console"],"mappings":"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","file":"static/js/main.6e2ca926.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"app_main__3jjzv\",\"sidebar\":\"app_sidebar__20SHM\",\"content\":\"app_content__hgfbw\",\"info\":\"app_info__2n-j1\",\"image\":\"app_image__2wvIg\",\"settings_form\":\"app_settings_form__5kVEC\",\"settings_input\":\"app_settings_input__1BUSE\",\"settings_select\":\"app_settings_select__wWaYW\",\"card\":\"app_card__3VP3w\",\"target\":\"app_target__e6Cac\",\"selectedCard\":\"app_selectedCard__ZUTQz\",\"correct\":\"app_correct__VlquI\",\"incorrect\":\"app_incorrect__NwrJH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"components_login__1by_G\"};","// https://console.firebase.google.com/u/0/project/firegame-7eb05/database/firegame-7eb05/data/~2F\n\nimport firebase from \"firebase/app\";\nimport \"firebase/database\";\n\nconst config = { databaseURL: \"https://firegame-7eb05.firebaseio.com/\" };\n\nvar database: { ref: (path: string) => any };\ntype ResultType = { val: () => BlobType | null };\ntype BlobType = any;\n\nvar offset: number = 0;\nfunction init(): void {\n\tfirebase.initializeApp(config);\n\tdatabase = firebase.database();\n\tdatabase\n\t\t.ref(\".info/serverTimeOffset\")\n\t\t.once(\"value\")\n\t\t.then((data: ResultType) => (offset = data.val()));\n}\n\nfunction now(): number {\n\treturn offset + Date.now();\n}\n\nfunction latestChild(path: string, callback: (value: BlobType) => void): void {\n\tdatabase\n\t\t.ref(path)\n\t\t.limitToLast(1)\n\t\t.on(\"value\", (snapshot: ResultType) => {\n\t\t\tvar val = snapshot.val();\n\t\t\tcallback(val);\n\t\t});\n}\n\nfunction push(path: string, obj: BlobType): void {\n\tdatabase.ref(path).push(obj);\n}\n\nfunction connect(path: string, callback: (value: BlobType) => void): void {\n\tdatabase.ref(path).on(\"value\", (snapshot: ResultType) => {\n\t\tvar val = snapshot.val();\n\t\tcallback(val);\n\t});\n}\n\nfunction set(path: string, obj: BlobType): void {\n\tdatabase.ref(path).set(obj);\n}\n\nexport default { init, now, latestChild, push, connect, set };\n","import store, { GameWrapperType } from \"../../shared/store\";\n\nimport Firebase from \"../firebase\";\n\nimport { gamePath, update } from \"./utils\";\n\nconst GAME_EXPIRE_TIME = 2 * 60 * 60 * 1000;\n\ntype RecordType<T> = { [updateKey: string]: GameWrapperType<T> };\n\nfunction enterGame(): void {\n\tFirebase.latestChild(gamePath(), receiveGameUpdate);\n}\n\nfunction sendGameState<T>(message: string, game: T): void {\n\tconst lastInfo = store.gameW.info;\n\tconst gameWrapper = {\n\t\tgame,\n\t\tinfo: {\n\t\t\tid: lastInfo.id + 1,\n\t\t\ttimestamp: Firebase.now(),\n\t\t\thost: lastInfo.host,\n\t\t\tplayerId: store.me.userId,\n\t\t\tplayerName: store.lobby[store.me.userId],\n\t\t\tmessage,\n\t\t},\n\t};\n\tsendGameStateHelper(gameWrapper);\n}\n\nfunction sendGameStateHelper<T>(gameWrapper: GameWrapperType<T>): void {\n\tFirebase.push(gamePath(), gameWrapper);\n}\n\nfunction receiveGameUpdate<T>(record: RecordType<T>): void {\n\tif (record) {\n\t\tconst gameWrapper = Object.values(record)[0];\n\t\tif (Firebase.now() - gameWrapper.info.timestamp < GAME_EXPIRE_TIME) {\n\t\t\t// @ts-ignore read only\n\t\t\tstore.gameW = gameWrapper;\n\t\t\tupdate();\n\t\t\treturn;\n\t\t}\n\t}\n\tif (store.gameW) return;\n\tconst gameWrapper: GameWrapperType<T | null> = {\n\t\tinfo: {\n\t\t\tplayerId: store.me.userId,\n\t\t\tplayerName: store.lobby[store.me.userId],\n\t\t\tmessage: \"opened a room\",\n\t\t\thost: store.me.userId,\n\t\t\ttimestamp: Firebase.now(),\n\t\t\tid: 0,\n\t\t},\n\t\tgame: null,\n\t};\n\tsendGameStateHelper(gameWrapper);\n}\n\nexport { enterGame, sendGameState };\n","import store, { LobbyType } from \"../../shared/store\";\n\nimport Firebase from \"../firebase\";\n\nimport { lobbyPath, mePath, update } from \"./utils\";\nimport { enterGame } from \"./game\";\n\nconst PRESENT_EXPIRE = 3000;\nconst HEARTBEAT_INTERVAL = 1000;\n\ntype RemotePersonType = {\n\tuserId: string;\n\tusername: string;\n\ttimestamp: number;\n\tsignInTime: number;\n};\n\nfunction heartbeat(): void {\n\tsetInterval(updateTimestamp, HEARTBEAT_INTERVAL);\n}\n\nfunction updateTimestamp(): void {\n\tFirebase.set(`${mePath()}/timestamp`, Firebase.now());\n}\n\nfunction lobbyEquals(lobby: LobbyType): boolean {\n\tif (!store.lobby) return false;\n\tif (Object.keys(lobby).length !== Object.keys(store.lobby).length)\n\t\treturn false;\n\tfor (let [userId, username] of Object.entries(lobby)) {\n\t\tif (store.lobby[userId] !== username) return false;\n\t}\n\treturn true;\n}\n\nfunction setLobbyFromRemote(remoteLobby: {\n\t[userId: string]: RemotePersonType;\n}): void {\n\tconst lobby: LobbyType = {};\n\tif (remoteLobby) {\n\t\tfor (let [userId, person] of Object.entries(remoteLobby)) {\n\t\t\tif (Firebase.now() - person.timestamp > PRESENT_EXPIRE) continue;\n\t\t\tlobby[userId] = person.username;\n\t\t\tif (userId === store.me.userId) signin();\n\t\t}\n\t}\n\tif (!lobbyEquals(lobby)) {\n\t\t// @ts-ignore read only\n\t\tstore.lobby = lobby;\n\t\tupdate();\n\t}\n}\n\nfunction setUsername(username: string): void {\n\tconst userId: string = store.me.userId;\n\tconst now: number = Firebase.now();\n\tconst myUserObj: RemotePersonType = {\n\t\tuserId,\n\t\tusername,\n\t\ttimestamp: now,\n\t\tsignInTime: now,\n\t};\n\tFirebase.set(`${mePath()}`, myUserObj);\n}\n\nvar gameHasStarted: boolean = false;\nfunction signin(): void {\n\tif (gameHasStarted) return;\n\tgameHasStarted = true;\n\theartbeat();\n\tenterGame();\n}\n\nfunction enterLobby() {\n\tFirebase.connect(lobbyPath(), setLobbyFromRemote);\n}\n\nexport { setUsername, enterLobby };\n","import { VERSION } from \"../../shared\";\nimport store, { MeType } from \"../../shared/store\";\n\nimport Firebase from \"../firebase\";\n\nimport { enterLobby } from \"./lobby\";\n\nvar initialized = false;\nfunction init(roomId: number, gameName: string, update_: () => void) {\n\tif (initialized) return;\n\tinitialized = true;\n\tFirebase.init();\n\tconst userId = getUserId();\n\tconst me: MeType = {\n\t\troomId,\n\t\tgameName,\n\t\tVERSION,\n\t\tuserId,\n\t};\n\t// @ts-ignore read only\n\tstore.me = me;\n\tupdate = update_;\n\tenterLobby();\n}\n\nfunction getUserId(): string {\n\tif (localStorage.version !== VERSION) {\n\t\tlocalStorage.version = VERSION;\n\t\tlocalStorage.userId = `u_${Math.random().toString(16).substr(2)}`;\n\t}\n\treturn localStorage.userId;\n}\n\nvar update = function (): void {\n\tthrow Error(\"this should be overwritten during init\");\n};\n\nfunction lobbyPath(): string {\n\treturn `${roomPath()}/lobby`;\n}\n\nfunction mePath(): string {\n\treturn `${lobbyPath()}/${store.me.userId}`;\n}\n\nfunction roomPath(): string {\n\treturn `${store.me.gameName}/${store.me.roomId}`;\n}\n\nfunction gamePath(): string {\n\treturn `${roomPath()}/game`;\n}\n\nexport { init, update, mePath, lobbyPath, gamePath };\n","import { init } from \"./utils\";\nimport { setUsername } from \"./lobby\";\nimport { sendGameState } from \"./game\";\n\nexport default { init, setUsername, sendGameState };\n","import Writer from \"../firegame/writer\";\n\nvar store: StoreType<any>;\n\nexport type StoreType<T> = Readonly<{\n\tme: Readonly<MeType>;\n\tlobby: Readonly<LobbyType>;\n\tgameW: Readonly<GameWrapperType<T>>;\n\tupdate: (message: string, newGame?: T) => void;\n}>;\n\nexport type MeType = {\n\tuserId: string;\n\troomId: number;\n\tgameName: string;\n\tVERSION: string;\n};\n\nexport type GameWrapperType<T> = {\n\tinfo: InfoType;\n\tgame: T;\n};\n\nexport type LobbyType = { [userId: string]: string };\n\nexport type InfoType = {\n\thost: string;\n\ttimestamp: number;\n\tid: number;\n\tmessage: string;\n\tplayerId: string;\n\tplayerName: string;\n};\n\nfunction update<T>(message: string, game_: T | undefined = undefined): void {\n\tconst game = game_ || store.gameW.game;\n\tWriter.sendGameState(message, game);\n}\n\n// @ts-ignore store initialization\nstore = { update };\n\nexport default store;\n","import store from \"./store\";\n\nexport const VERSION: string = \"v0.0.9\";\n\ninterface TurnGame<T extends PlayerType> {\n\tcurrentPlayer: number;\n\tplayers: T[];\n}\n\ninterface PlayerType {\n\tuserId: string;\n\tuserName: string;\n}\n\nclass Shared<T extends TurnGame<U>, U extends PlayerType> {\n\tisMyTurn(game_: T | undefined = undefined): boolean {\n\t\tconst game: T = game_ || store.gameW.game!;\n\t\treturn (\n\t\t\tgame && game.players[game.currentPlayer].userId === store.me.userId\n\t\t);\n\t}\n\n\tincrementPlayerTurn(game_: T | undefined = undefined): void {\n\t\tconst game: T = game_ || store.gameW.game!;\n\t\tgame.currentPlayer = this.playerIndexByIndex(\n\t\t\tgame.currentPlayer + 1,\n\t\t\tgame\n\t\t);\n\t}\n\n\tplayerIndexByIndex(\n\t\tindex: number,\n\t\tgame_: T | undefined = undefined\n\t): number {\n\t\tconst game: T = game_ || store.gameW.game!;\n\t\treturn index % game.players.length;\n\t}\n\n\tplayerIndexById(userId: string, game_: T | undefined = undefined): number {\n\t\tconst game: T = game_ || store.gameW.game!;\n\t\treturn game.players.map((player) => player.userId).indexOf(userId);\n\t}\n\n\tmyIndex(game: T | undefined = undefined): number {\n\t\treturn this.playerIndexById(store.me.userId, game);\n\t}\n\n\tgetMe(game_: T | undefined = undefined): U {\n\t\tconst game: T = game_ || store.gameW.game!;\n\t\treturn game.players[this.myIndex(game)];\n\t}\n\n\tgetCurrent(game_: T | undefined = undefined): U {\n\t\tconst game: T = game_ || store.gameW.game!;\n\t\treturn game.players[game.currentPlayer];\n\t}\n\n\tshuffle(arr: any[]): void {\n\t\tfor (let i = arr.length - 1; i > 0; i--) {\n\t\t\tlet j = Math.floor(Math.random() * (i + 1));\n\t\t\t[arr[i], arr[j]] = [arr[j], arr[i]];\n\t\t}\n\t}\n}\n\nexport default Shared;\n","import Shared from \"../../../../shared\";\nimport store, { StoreType } from \"../../../../shared/store\";\n\nimport { GameType, Card, PlayerType } from \"./NewGame\";\n\nconst store_: StoreType<GameType> = store;\nconst shared: Shared<GameType, PlayerType> = new Shared();\nconst NUM_RANKS = 11;\nconst NUM_SUITS = 3;\nconst TRICKS_PER_ROUND = 13;\n\nfunction deal(game: GameType): GameType {\n\tgame.currentPlayer = game.dealer;\n\tgame.dealer = shared.playerIndexByIndex(game.dealer + 1);\n\tgame.lead = null;\n\tgame.deck = buildDeck();\n\tgame.players = dealPlayers(game);\n\tgame.trump = game.deck.shift()!;\n\treturn game;\n}\n\nfunction buildDeck(): Card[] {\n\tconst deck = [];\n\tfor (let i = 0; i < NUM_SUITS; i++) {\n\t\tlet suit = String.fromCharCode(65 + i);\n\t\tfor (let value = 1; value <= NUM_RANKS; value++) {\n\t\t\tdeck.push({ suit, value });\n\t\t}\n\t}\n\tshared.shuffle(deck);\n\treturn deck;\n}\n\nfunction dealPlayers(game: GameType): PlayerType[] {\n\treturn game.players.map((player) =>\n\t\tObject.assign(player, { hand: dealHand(game), tricks: 0 })\n\t);\n}\n\nfunction dealHand(game: GameType): Card[] {\n\tconst hand = [];\n\tfor (let i = 0; i < TRICKS_PER_ROUND; i++) {\n\t\thand.push(game.deck.shift()!);\n\t}\n\tsortHand(hand);\n\treturn hand;\n}\n\nfunction sortHand(hand: Card[]): void {\n\thand.sort((a, b) => getSortPosition(a) - getSortPosition(b));\n}\n\nfunction getSortPosition(card: Card) {\n\treturn card.suit.codePointAt(0)! * NUM_RANKS + card.value;\n}\n\nfunction getText(card: Card) {\n\treturn `${card.suit}/${card.value || \"-\"}`;\n}\n\nexport { store_ as store, deal, shared, getText, sortHand };\n","import { store, shared, deal, getText, sortHand } from \"../utils\";\nimport { Card, PlayerType } from \"../utils/NewGame\";\n\nfunction playCard(index: number): string | void {\n\tconst me = shared.getMe();\n\tvar card = me.hand[index];\n\tconst game = store.gameW.game;\n\tconst fromStaging = Boolean(game.staging);\n\tif (fromStaging) {\n\t\thandlePre_3_5(card);\n\t\tcard = game.staging!;\n\t\tgame.staging = null;\n\t} else if (game.lead) {\n\t\tif (!canPlay(card, game.lead)) return alert(\"cant play that card\");\n\t}\n\tme.hand.splice(index, 1);\n\tif (!fromStaging) {\n\t\tvar duringMessage = handleDuring_3_5(card);\n\t\tif (duringMessage !== null) {\n\t\t\tgame.staging = card;\n\t\t\treturn store.update(duringMessage);\n\t\t}\n\t}\n\tvar text = getText(card);\n\tif (!game.lead) {\n\t\tgame.lead = card;\n\t\tshared.incrementPlayerTurn();\n\t\treturn store.update(`lead with ${text}`);\n\t} else {\n\t\tvar winner;\n\t\tif (wins(card)) {\n\t\t\twinner = me;\n\t\t} else {\n\t\t\tshared.incrementPlayerTurn();\n\t\t\twinner = shared.getCurrent();\n\t\t}\n\t\twinner.tricks++;\n\t\thandlePost_1_7(card, winner);\n\t\tgame.previous = `${getText(game.lead)} vs ${text}`;\n\t\tgame.lead = null;\n\t\tvar message = `played ${text}`;\n\t\tif (me.hand.length === 0) {\n\t\t\tvar scores = game.players\n\t\t\t\t.map((player) => `${player.userName}: ${player.tricks}`)\n\t\t\t\t.join(\" / \");\n\t\t\tmessage = `${message} - new hand - ${scores}`;\n\t\t\tgame.previous += `\\n${scores}`;\n\t\t\tscoreFromTricks();\n\t\t\tdeal(game);\n\t\t}\n\t\tstore.update(message);\n\t}\n}\n\nfunction canPlay(card: Card, lead: Card) {\n\tif (card.suit === lead.suit) {\n\t\tif (lead.value !== 11) {\n\t\t\treturn true;\n\t\t} else if (card.value === 1) {\n\t\t\treturn true;\n\t\t}\n\t}\n\tvar hand = shared.getMe().hand;\n\tfor (var i = 0; i < hand.length; i++) {\n\t\tvar handCard = hand[i];\n\t\tif (handCard.suit === lead.suit) {\n\t\t\tif (lead.value === 11) {\n\t\t\t\tif (handCard.value > card.value) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\treturn true;\n}\n\nfunction handlePre_3_5(card: Card) {\n\tconst game = store.gameW.game;\n\tif (game.staging!.value === 5) {\n\t\tgame.deck.push(card);\n\t} else if (game.staging!.value === 3) {\n\t\tgame.trump = card;\n\t}\n}\n\nfunction handleDuring_3_5(card: Card) {\n\tconst hand = shared.getMe().hand;\n\tconst game = store.gameW.game;\n\tif (card.value === 5) {\n\t\tvar drawnCard = game.deck.shift()!;\n\t\tvar text = getText(drawnCard);\n\t\talert(`you drew ${text}`);\n\t\thand.unshift(drawnCard);\n\t\tsortHand(hand);\n\t\treturn \"draws a card\";\n\t}\n\tif (card.value === 3) {\n\t\thand.unshift(game.trump);\n\t\tsortHand(hand);\n\t\treturn \"swaps trump\";\n\t}\n\treturn null;\n}\n\nfunction handlePost_1_7(card: Card, winner: PlayerType) {\n\tconst me = shared.getMe();\n\tconst game = store.gameW.game;\n\tif (card.value === 1) {\n\t\tif (winner !== me) {\n\t\t\tshared.incrementPlayerTurn();\n\t\t}\n\t} else if (game.lead!.value === 1) {\n\t\tif (winner === me) {\n\t\t\tshared.incrementPlayerTurn();\n\t\t}\n\t}\n\tif (card.value === 7) winner.score++;\n\tif (game.lead!.value === 7) winner.score++;\n}\n\nfunction wins(card: Card) {\n\tconst game = store.gameW.game;\n\tconst lead = game.lead!;\n\tif (card.suit === lead.suit) {\n\t\treturn card.value > lead.value;\n\t} else {\n\t\tif (card.value === 9) {\n\t\t\tif (lead.value !== 9) {\n\t\t\t\tif (lead.suit === game.trump.suit) {\n\t\t\t\t\treturn card.value > lead.value;\n\t\t\t\t} else {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (lead.value === 9) {\n\t\t\tif (card.value < lead.value) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn card.suit === game.trump.suit;\n\t}\n}\n\nfunction scoreFromTricks() {\n\tconst players = store.gameW.game.players;\n\tfor (var i = 0; i < players.length; i++) {\n\t\tvar playerState = players[i];\n\t\tswitch (playerState.tricks) {\n\t\t\tcase 0:\n\t\t\tcase 1:\n\t\t\tcase 2:\n\t\t\tcase 3:\n\t\t\t\tplayerState.score += 6;\n\t\t\t\treturn;\n\t\t\tcase 4:\n\t\t\t\tplayerState.score += 1;\n\t\t\t\treturn;\n\t\t\tcase 5:\n\t\t\t\tplayerState.score += 2;\n\t\t\t\treturn;\n\t\t\tcase 6:\n\t\t\t\tplayerState.score += 3;\n\t\t\t\treturn;\n\t\t\tcase 7:\n\t\t\tcase 8:\n\t\t\tcase 9:\n\t\t\t\tplayerState.score += 6;\n\t\t\t\treturn;\n\t\t}\n\t}\n}\n\nexport default playCard;\n","import React from \"react\";\n\nimport { store, getText } from \"../utils\";\nimport { Card } from \"../utils/NewGame\";\n\nimport playCard from \"./playCard\";\n\nimport styles from \"../../../../shared/styles.module.css\";\n\nclass HandCard extends React.Component<{ card: Card; index: number }> {\n\trender() {\n\t\treturn (\n\t\t\t<div className={styles.bubble} onClick={this.play.bind(this)}>\n\t\t\t\t{getText(this.props.card)}\n\t\t\t</div>\n\t\t);\n\t}\n\n\tplay() {\n\t\tconst message = playCard(this.props.index);\n\t\tif (message) store.update(message);\n\t}\n}\n\nexport default HandCard;\n","import React from \"react\";\n\nimport { shared } from \"../utils\";\nimport { Card } from \"../utils/NewGame\";\n\nimport HandCard from \"./HandCard\";\n\nimport styles from \"../../../../shared/styles.module.css\";\n\nclass Hand extends React.Component {\n\trender() {\n\t\tconst me = shared.getMe();\n\t\treturn (\n\t\t\t<div className={styles.bubble}>\n\t\t\t\t<h2>Hand</h2>\n\t\t\t\t{me &&\n\t\t\t\t\tme.hand.map((card: Card, index: number) => (\n\t\t\t\t\t\t<HandCard key={index} card={card} index={index} />\n\t\t\t\t\t))}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Hand;\n","import React from \"react\";\n\nimport { store, getText } from \"../utils\";\n\nimport styles from \"../../../../shared/styles.module.css\";\n\nclass Field extends React.Component {\n\trender() {\n\t\tconst l = store.gameW.game.lead || { suit: \"-\", value: 0 };\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div className={styles.bubble}>\n\t\t\t\t\t<p>Trump</p>\n\t\t\t\t\t<p>{getText(store.gameW.game.trump)}</p>\n\t\t\t\t</div>\n\t\t\t\t<div className={styles.bubble}>\n\t\t\t\t\t<p>Lead</p>\n\t\t\t\t\t<p>{getText(l)}</p>\n\t\t\t\t</div>\n\t\t\t\t<div className={styles.bubble}>\n\t\t\t\t\t<p>Last</p>\n\t\t\t\t\t<p>{store.gameW.game.previous}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Field;\n","import React from \"react\";\n\nimport styles from \"../../../../shared/styles.module.css\";\n\nclass Rules extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className={styles.bubble}>\n\t\t\t\t<h2>Rules</h2>\n\t\t\t\t<pre className={styles.bubble}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<span>11</span>{\" \"}\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\tIf lead, force either a 1 of same suit or highest\n\t\t\t\t\t\t\tcard of same suit\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<span>9</span>\n\t\t\t\t\t\t{\"  \"}\n\t\t\t\t\t\t<span>Counts as trump if is only 9</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<span>7</span>\n\t\t\t\t\t\t{\"  \"}\n\t\t\t\t\t\t<span>Winner of this trick gets a point</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<span>5</span>\n\t\t\t\t\t\t{\"  \"}\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\tDraw a card, then put a card at bottom of deck\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<span>3</span>\n\t\t\t\t\t\t{\"  \"}\n\t\t\t\t\t\t<span>May trade trump card with a card in hand</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<span>1</span>\n\t\t\t\t\t\t{\"  \"}\n\t\t\t\t\t\t<span>Lead next trick even if lose this trick</span>\n\t\t\t\t\t</div>\n\t\t\t\t</pre>\n\t\t\t\t<pre className={styles.bubble}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<span>0-3</span>\n\t\t\t\t\t\t{\"  \"}/<span>6</span> <span>Humble</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<span>4</span>\n\t\t\t\t\t\t{\"    \"}/<span>1</span> <span>DEFEATED</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<span>5</span>\n\t\t\t\t\t\t{\"    \"}/<span>2</span> <span>Defeated</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<span>6</span>\n\t\t\t\t\t\t{\"    \"}/<span>3</span> <span>defeated</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<span>7-9</span>\n\t\t\t\t\t\t{\"  \"}/<span>6</span> <span>Victory</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<span>10-13</span>/<span>0</span> <span>Greedy</span>\n\t\t\t\t\t</div>\n\t\t\t\t</pre>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Rules;\n","import React from \"react\";\n\nimport Hand from \"./Hand\";\nimport Field from \"./Field\";\nimport Rules from \"./Rules\";\n\nclass Main extends React.Component<{}, { selectedIndex: number }> {\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Hand />\n\t\t\t\t<br />\n\t\t\t\t<Field />\n\t\t\t\t<br />\n\t\t\t\t<Rules />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Main;\n","import { LobbyType } from \"../../../../shared/store\";\n\nimport { deal, shared } from \"./\";\n\nexport type GameType = {\n\tparams: Params;\n\tcurrentPlayer: number;\n\tplayers: PlayerType[];\n\tdealer: number;\n\tdeck: Card[];\n\tlead: Card | null;\n\ttrump: Card;\n\tstaging: Card | null;\n\tprevious: string;\n};\n\nexport type Params = {\n\tlobby: LobbyType;\n};\n\nexport type PlayerType = {\n\thand: Card[];\n\ttricks: number;\n\tscore: number;\n\tuserId: string;\n\tuserName: string;\n};\n\nexport type Card = { suit: string; value: number };\n\nfunction NewGame(params: Params): PromiseLike<GameType> {\n\t// @ts-ignore game being constructed\n\tconst game: GameType = {};\n\tgame.params = params;\n\treturn Promise.resolve(game)\n\t\t.then(createPlayers)\n\t\t.then(setDefault)\n\t\t.then(deal);\n}\n\nfunction createPlayers(game: GameType): GameType {\n\tgame.players = Object.keys(game.params.lobby).map(\n\t\t(userId, index: number) => ({\n\t\t\thand: [],\n\t\t\ttricks: 0,\n\t\t\tscore: 0,\n\t\t\tuserId,\n\t\t\tuserName: game.params.lobby[userId],\n\t\t})\n\t);\n\treturn game;\n}\n\nfunction setDefault(game: GameType): GameType {\n\tgame.dealer = shared.myIndex();\n\tgame.previous = \"new game\";\n\treturn game;\n}\n\nexport default NewGame;\n","import React from \"react\";\n\nimport { store, shared } from \"../utils\";\nimport NewGame from \"../utils/NewGame\";\n\nimport styles from \"../../../../shared/styles.module.css\";\n\nclass Players extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className={styles.bubble}>\n\t\t\t\t<h1>Players</h1>\n\t\t\t\t{Object.keys(store.lobby).map(this.renderPlayer.bind(this))}\n\t\t\t\t<button onClick={this.startNewGame.bind(this)}>New Game</button>\n\t\t\t</div>\n\t\t);\n\t}\n\n\trenderPlayer(userId: string): JSX.Element {\n\t\tvar prefix = \"\";\n\t\tif (store.gameW.info.host === userId) prefix += \"(host) \";\n\t\tif (store.me.userId === userId) prefix += \"(you) \";\n\t\tconst parts = [<p key={\"name\"}>{`${prefix}${store.lobby[userId]}`}</p>];\n\t\tconst player = store.gameW.game.players[shared.playerIndexById(userId)];\n\t\tif (player) {\n\t\t\tparts.push(<p key={\"tricks\"}>tricks: {player.tricks}</p>);\n\t\t\tparts.push(<p key={\"score\"}>score: {player.score}</p>);\n\t\t}\n\t\treturn (\n\t\t\t<div key={userId}>\n\t\t\t\t<div className={styles.bubble}>{parts}</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tstartNewGame() {\n\t\tPromise.resolve()\n\t\t\t.then(this.getParams.bind(this))\n\t\t\t.then(NewGame)\n\t\t\t.then((game) => game && store.update(\"started a new game\", game));\n\t}\n\n\tgetParams() {\n\t\treturn {\n\t\t\tlobby: store.lobby,\n\t\t};\n\t}\n}\n\nexport default Players;\n","import React from \"react\";\n\nimport store, { GameWrapperType } from \"../../store\";\n\nclass LogEntry<T> extends React.Component<{\n\twrapper: GameWrapperType<T>;\n\thistory: GameWrapperType<T>[];\n}> {\n\trender() {\n\t\treturn <pre onClick={this.revert.bind(this)}>{this.getMessage()}</pre>;\n\t}\n\n\tgetMessage() {\n\t\tconst w = this.props.wrapper;\n\t\tconst time = new Date(w.info.timestamp).toLocaleTimeString();\n\t\treturn `(${w.info.id}) ${time} [${w.info.playerName}] ${w.info.message}`;\n\t}\n\n\trevert(): void {\n\t\tconst userId = store.me.userId;\n\t\tif (store.gameW.info.host !== userId) {\n\t\t\tfor (let gameW of this.props.history) {\n\t\t\t\tif (gameW.info.id === this.props.wrapper.info.id) break;\n\t\t\t\tif (gameW.info.playerId !== userId) {\n\t\t\t\t\talert(\"only the host can revert\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tconst message = `restored to [${this.getMessage()}]`;\n\t\tstore.update(message, this.props.wrapper.game);\n\t}\n}\n\nexport default LogEntry;\n","import React from \"react\";\n\nimport store, { GameWrapperType } from \"../../store\";\n\nimport LogEntry from \"./LogEntry\";\n\nimport styles from \"../../styles.module.css\";\n\nconst history: GameWrapperType<any>[] = [];\n\nabstract class Log<T> extends React.Component<\n\t{},\n\t{ history: GameWrapperType<T>[] }\n> {\n\tconstructor(props: {}) {\n\t\tsuper(props);\n\t\tthis.state = { history };\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.updateHistory();\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.updateHistory();\n\t}\n\n\tupdateHistory() {\n\t\tconst newState = store.gameW;\n\t\tif (\n\t\t\t!this.state.history[0] ||\n\t\t\tnewState.info.id !== this.state.history[0].info.id\n\t\t) {\n\t\t\tthis.state.history.unshift(JSON.parse(JSON.stringify(newState)));\n\t\t\tthis.setState({});\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className={styles.bubble}>\n\t\t\t\t<h2>Log</h2>\n\t\t\t\t<div className={styles.dont_grow}>\n\t\t\t\t\t<div className={styles.log_entry_parent}>\n\t\t\t\t\t\t<div className={styles.log_entry_child}>\n\t\t\t\t\t\t\t{this.state.history.map((wrapper) => (\n\t\t\t\t\t\t\t\t<LogEntry\n\t\t\t\t\t\t\t\t\tkey={wrapper.info.id}\n\t\t\t\t\t\t\t\t\twrapper={wrapper}\n\t\t\t\t\t\t\t\t\thistory={this.state.history}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Log;\n","import SharedLog from \"../../../../shared/components/log\";\n\nimport { GameType } from \"../utils/NewGame\";\n\nclass Log extends SharedLog<GameType> {}\n\nexport default Log;\n","import React from \"react\";\n\nimport Players from \"./Players\";\nimport Log from \"./Log\";\n\nimport css from \"../index.module.css\";\n\nclass Sidebar extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className={css.sidebar}>\n\t\t\t\t<Log />\n\t\t\t\t<Players />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Sidebar;\n","import React from \"react\";\n\nimport { shared, store } from \"./utils\";\nimport Main from \"./main\";\nimport Sidebar from \"./sidebar\";\n\nimport styles from \"../../../shared/styles.module.css\";\nimport css from \"./index.module.css\";\n\nclass Fox extends React.Component {\n\trender() {\n\t\tconst classes = [css.main];\n\t\tif (shared.isMyTurn()) classes.push(styles.my_turn);\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div className={classes.join(\" \")}>\n\t\t\t\t\t<Sidebar />\n\t\t\t\t\t<div className={css.content}>\n\t\t\t\t\t\t<div>{store.gameW.game && <Main />}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Fox;\n","import Shared from \"../../../../shared\";\nimport store, { StoreType } from \"../../../../shared/store\";\n\nimport { GameType, PlayerType } from \"./NewGame\";\n\nconst store_: StoreType<GameType> = store;\nconst shared: Shared<GameType, PlayerType> = new Shared();\n\nfunction sortBoard(game: GameType) {\n\tgame.board.sort((a, b) => b - a);\n}\n\nexport { store_ as store, sortBoard, shared };\n","import React from \"react\";\n\nimport { store, shared } from \"../utils\";\n\nimport styles from \"../../../../shared/styles.module.css\";\nimport css from \"../index.module.css\";\n\nclass Hand extends React.Component<{\n\tselectedIndex?: number;\n\tselectCard: (index: number) => void;\n}> {\n\trender() {\n\t\treturn (\n\t\t\t<div className={styles.bubble}>\n\t\t\t\t<h2>Hand</h2>\n\t\t\t\t{this.getHand()}\n\t\t\t</div>\n\t\t);\n\t}\n\n\tgetHand() {\n\t\tconst me = shared.getMe();\n\t\tif (!me) return null;\n\t\treturn me.hand.map(this.renderCard.bind(this));\n\t}\n\n\trenderCard(termIndex: number, handIndex: number) {\n\t\tconst term = store.gameW.game!.terms[termIndex];\n\t\tconst classes = [styles.bubble];\n\t\tif (this.props.selectedIndex === handIndex)\n\t\t\tclasses.push(css.selectedCard);\n\t\treturn (\n\t\t\t<div\n\t\t\t\tkey={handIndex}\n\t\t\t\tclassName={classes.join(\" \")}\n\t\t\t\tonClick={(e: React.MouseEvent) => this.selectCard(handIndex, e)}\n\t\t\t>\n\t\t\t\t<div className={css.info}>\n\t\t\t\t\t<div className={css.card}>\n\t\t\t\t\t\t<p>{term.word}</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t{term.image && (\n\t\t\t\t\t\t<img className={css.image} src={term.image} alt=\"\" />\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tselectCard(selectedIndex: number, e: React.MouseEvent): void {\n\t\te.stopPropagation();\n\t\tthis.props.selectCard(selectedIndex);\n\t}\n}\n\nexport default Hand;\n","import React from \"react\";\n\nimport { store } from \"../utils\";\n\nimport { GameType } from \"../utils/NewGame\";\n\nimport styles from \"../../../../shared/styles.module.css\";\nimport css from \"../index.module.css\";\n\nclass Board extends React.Component<{\n\tselectTarget: (index: number) => void;\n}> {\n\trender() {\n\t\treturn (\n\t\t\t<div className={styles.bubble}>\n\t\t\t\t<h2>Board</h2>\n\t\t\t\t{this.getCardsAndTargets()}\n\t\t\t</div>\n\t\t);\n\t}\n\n\tgetCardsAndTargets() {\n\t\tconst cardsAndTargets: JSX.Element[] = [this.renderTarget(0)];\n\t\tconst game: GameType = store.gameW.game!;\n\t\tgame.board.forEach((termIndex: number, index: number) => {\n\t\t\tcardsAndTargets.push(this.renderCard(termIndex));\n\t\t\tcardsAndTargets.push(this.renderTarget(index + 1));\n\t\t});\n\t\treturn cardsAndTargets;\n\t}\n\n\trenderTarget(index: number) {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tkey={`t${index}`}\n\t\t\t\tclassName={`${styles.bubble} ${css.target}`}\n\t\t\t\tonClick={(e: React.MouseEvent) => this.selectTarget(index, e)}\n\t\t\t></div>\n\t\t);\n\t}\n\n\trenderCard(termIndex: number) {\n\t\tconst term = store.gameW.game!.terms[termIndex];\n\t\tconst classes = [styles.bubble];\n\t\tconst last = store.gameW.game!.last;\n\t\tif (termIndex === last?.termIndex) {\n\t\t\tclasses.push(last!.correct ? css.correct : css.incorrect);\n\t\t}\n\t\treturn (\n\t\t\t<div key={`c${termIndex}`} className={classes.join(\" \")}>\n\t\t\t\t<div className={css.info}>\n\t\t\t\t\t<div className={css.card}>\n\t\t\t\t\t\t<p>{term.word}</p>\n\t\t\t\t\t\t<p>{term.definition}</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t{term.image && (\n\t\t\t\t\t\t<img className={css.image} src={term.image} alt=\"\" />\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tselectTarget(index: number, e: React.MouseEvent) {\n\t\te.stopPropagation();\n\t\tthis.props.selectTarget(index);\n\t}\n}\n\nexport default Board;\n","import React from \"react\";\n\nimport { shared, store, sortBoard } from \"../utils\";\nimport { GameType } from \"../utils/NewGame\";\n\nimport Hand from \"./Hand\";\nimport Board from \"./Board\";\n\nclass Main extends React.Component<{}, { selectedIndex: number }> {\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Hand\n\t\t\t\t\tselectedIndex={this.state?.selectedIndex}\n\t\t\t\t\tselectCard={this.selectCard.bind(this)}\n\t\t\t\t/>\n\t\t\t\t<Board selectTarget={this.selectTarget.bind(this)} />\n\t\t\t</div>\n\t\t);\n\t}\n\n\tselectCard(selectedIndex: number) {\n\t\tif (this.state?.selectedIndex === selectedIndex) selectedIndex = -1;\n\t\tthis.setState({ selectedIndex });\n\t}\n\n\tselectTarget(index: number) {\n\t\tif (!(this.state?.selectedIndex > -1))\n\t\t\treturn alert(\"need to select a card from hand first\");\n\t\tconst game: GameType = store.gameW.game;\n\t\tconst leftBound = game.board[index - 1];\n\t\tconst rightBound = game.board[index];\n\t\tconst me = game.players[game.currentPlayer];\n\t\tconst termIndex = me.hand[this.state.selectedIndex];\n\t\tconst term = store.gameW.game.terms[termIndex];\n\t\tconst correct = this.isBetween(term, leftBound, rightBound);\n\t\tif (!correct) {\n\t\t\tconst deck = game.deck;\n\t\t\tif (deck.length > 0) me.hand.push(deck.pop()!);\n\t\t}\n\t\tgame.last = { correct, termIndex };\n\t\tgame.board.push(me.hand.splice(this.state.selectedIndex, 1)[0]);\n\t\tsortBoard(store.gameW.game);\n\t\tthis.setState({ selectedIndex: -1 });\n\t\tconst message = `played [${term.word}]: [${term.definition}] - ${\n\t\t\tcorrect ? \"CORRECT\" : \"WRONG\"\n\t\t}`;\n\t\tshared.incrementPlayerTurn();\n\t\tstore.update(message);\n\t}\n\n\t// todo lets be safer here\n\tisBetween(\n\t\tterm: { definition: string },\n\t\tleftBound: number,\n\t\trightBound: number\n\t): boolean {\n\t\tconst game: GameType = store.gameW.game;\n\t\tconst playDefinition = parseInt(term.definition);\n\t\tconst leftCard = game.terms[leftBound];\n\t\tconst rightCard = game.terms[rightBound];\n\t\tif (leftCard && parseInt(leftCard.definition) > playDefinition)\n\t\t\treturn false;\n\t\tif (rightCard && parseInt(rightCard.definition) < playDefinition)\n\t\t\treturn false;\n\t\treturn true;\n\t}\n}\n\nexport default Main;\n","const _api_url =\n\t\"https://cors-anywhere.herokuapp.com/https://quizlet.com/webapi/3.1/\";\nconst TERMS_URL = _api_url + \"terms?filters[isDeleted]=0&filters[setId]=\";\nconst SET_URL = _api_url + \"sets/\";\nconst SEARCH_URL = SET_URL + \"search?filters[isDeleted]=0&perPage=9&query=\";\nconst FOLDER_URL =\n\t_api_url + \"folder-sets?filters[folderId]=49189251&filters[isDeleted]=0\";\n\nfunction _fetch(base: string, path: string): Promise<any> {\n\treturn fetch(base + path)\n\t\t.then((response) => response.json())\n\t\t.then((response) => response.responses[0].models);\n}\n\nexport default {\n\tfetch: _fetch,\n\tTERMS_URL,\n\tSEARCH_URL,\n\tFOLDER_URL,\n\tSET_URL,\n};\n","import { LobbyType } from \"../../../../shared/store\";\n\nimport { sortBoard, shared } from \"./\";\nimport Quizlet from \"./Quizlet\";\n\nexport type GameType = {\n\tparams: Params;\n\tcurrentPlayer: number;\n\ttitle: string;\n\tsetId: number;\n\tterms: TermType[];\n\tdeck: number[];\n\tplayers: PlayerType[];\n\tboard: number[];\n\tlast?: { termIndex: number; correct: boolean };\n};\n\nexport type Params = {\n\tquizlet: string;\n\thandSize: number;\n\tboardStartingSize: number;\n\tswap: boolean;\n\treverse: boolean;\n\tuseRank: boolean;\n\tlobby: LobbyType;\n\tuserId: string;\n};\n\ntype TermType = {\n\tword: string;\n\tdefinition: string;\n\timage: string;\n};\n\nexport type PlayerType = {\n\tindex: number;\n\tuserId: string;\n\thand: number[];\n\tuserName: string;\n};\n\ntype DataType = { response: any; game: GameType };\n\nfunction NewGame(params: Params): PromiseLike<GameType> {\n\tconst base = parseInt(params.quizlet) ? fetchBySetId : fetchByQuery;\n\t// @ts-ignore game being constructed\n\tconst game: GameType = {};\n\tgame.params = params;\n\treturn base(params.quizlet)\n\t\t.then((response) => ({\n\t\t\tresponse,\n\t\t\tgame,\n\t\t}))\n\t\t.then(setDeck)\n\t\t.then(setPlayers)\n\t\t.then(setBoard)\n\t\t.then((data) => data.game);\n}\n\nfunction fetchBySetId(setId: string): Promise<any> {\n\tconst setPromise = Quizlet.fetch(Quizlet.SET_URL, setId).then(\n\t\t(response) => response.set[0]\n\t);\n\tconst termsPromise = Quizlet.fetch(Quizlet.TERMS_URL, setId).then(\n\t\t(response) => response.term\n\t);\n\treturn Promise.all([setPromise, termsPromise]).then(([set, terms]) => ({\n\t\tset,\n\t\tterms,\n\t}));\n}\n\nfunction fetchByQuery(queryString: string): Promise<any> {\n\treturn Quizlet.fetch(Quizlet.SEARCH_URL, queryString)\n\t\t.then((response) => response.set[0].id)\n\t\t.then(fetchBySetId);\n}\n\nfunction setDeck(data: DataType): DataType {\n\tconst terms = data.response.terms.map((term: any) => ({\n\t\tdefinition: term.definition || null,\n\t\tword: term.word || null,\n\t\timage: term._imageUrl || null,\n\t}));\n\tif (data.game.params.reverse) terms.reverse();\n\tif (data.game.params.swap)\n\t\tterms.forEach((term: any) => {\n\t\t\t[term.word, term.definition] = [term.definition, term.word];\n\t\t});\n\tif (data.game.params.useRank)\n\t\tterms.forEach((term: any, index: number) => {\n\t\t\tterm.definition = index.toString();\n\t\t});\n\n\tconst deck = terms.map((_: any, index: number) => index);\n\tshared.shuffle(deck);\n\n\tdata.game.title = data.response.set.title;\n\tdata.game.setId = data.response.set.id;\n\tdata.game.terms = terms;\n\tdata.game.deck = deck;\n\treturn data;\n}\n\nfunction setPlayers(data: DataType): DataType {\n\tconst players = Object.keys(data.game.params.lobby).map(\n\t\t(userId, index: number) => ({\n\t\t\tindex,\n\t\t\tuserName: data.game.params.lobby[userId],\n\t\t\tuserId,\n\t\t\thand: data.game.deck.splice(0, data.game.params.handSize),\n\t\t})\n\t);\n\tdata.game.players = players;\n\tdata.game.currentPlayer = shared.myIndex(data.game);\n\treturn data;\n}\n\nfunction setBoard(data: DataType): DataType {\n\tdata.game.board = data.game.deck.splice(\n\t\t0,\n\t\tdata.game.params.boardStartingSize\n\t);\n\tif (data.game.board.length < 1)\n\t\tthrow Error(`too few terms in that set (${data.game.terms.length})`);\n\tsortBoard(data.game);\n\treturn data;\n}\n\nexport default NewGame;\n","import React, { RefObject } from \"react\";\n\nimport { store } from \"../utils\";\nimport Quizlet from \"../utils/Quizlet\";\nimport NewGame, { Params } from \"../utils/NewGame\";\n\nimport styles from \"../../../../shared/styles.module.css\";\nimport css from \"../index.module.css\";\n\nconst DEFAULT_SET_ID = \"284065846\";\n\ntype SetsToTitlesType = { [setId: number]: string };\n\nclass Settings extends React.Component<{}, { setsToTitles: SetsToTitlesType }> {\n\thandSizeRef: RefObject<HTMLInputElement> = React.createRef();\n\tboardSizeRef: RefObject<HTMLInputElement> = React.createRef();\n\tswapRef: RefObject<HTMLInputElement> = React.createRef();\n\treverseRef: RefObject<HTMLInputElement> = React.createRef();\n\tuseRankRef: RefObject<HTMLInputElement> = React.createRef();\n\tquizletRef: RefObject<HTMLInputElement> = React.createRef();\n\n\tcomponentDidMount() {\n\t\tif (this.state) return;\n\t\tthis.fetchFromFolder();\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className={styles.bubble}>\n\t\t\t\t<form className={css.settings_form}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<span>Hand Size: </span>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName={css.settings_input}\n\t\t\t\t\t\t\ttype={\"text\"}\n\t\t\t\t\t\t\tdefaultValue={\"6\"}\n\t\t\t\t\t\t\tsize={4}\n\t\t\t\t\t\t\tref={this.handSizeRef}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<span>Board Size: </span>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName={css.settings_input}\n\t\t\t\t\t\t\ttype={\"number\"}\n\t\t\t\t\t\t\tdefaultValue={\"6\"}\n\t\t\t\t\t\t\tref={this.boardSizeRef}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\tSwap: <input type={\"checkbox\"} ref={this.swapRef} />\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\tReverse:{\" \"}\n\t\t\t\t\t\t\t<input type={\"checkbox\"} ref={this.reverseRef} />\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\tUse Rank:{\" \"}\n\t\t\t\t\t\t\t<input type={\"checkbox\"} ref={this.useRankRef} />\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={styles.dont_grow}>\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tclassName={css.settings_select}\n\t\t\t\t\t\t\tonChange={this.selectChange.bind(this)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option defaultChecked>Select Set</option>\n\t\t\t\t\t\t\t{this.state && this.getSets()}\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<span>Quizlet: </span>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype={\"text\"}\n\t\t\t\t\t\t\tsize={DEFAULT_SET_ID.length + 2}\n\t\t\t\t\t\t\tref={this.quizletRef}\n\t\t\t\t\t\t\tdefaultValue={DEFAULT_SET_ID}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<button onClick={this.startGame.bind(this)}>\n\t\t\t\t\t\t\tStart Game\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tgetSets(): JSX.Element[] {\n\t\tconst sets: JSX.Element[] = [];\n\t\tfor (let [setId, title] of Object.entries(this.state.setsToTitles)) {\n\t\t\tsets.push(\n\t\t\t\t<option key={setId} value={setId}>\n\t\t\t\t\t{title}\n\t\t\t\t</option>\n\t\t\t);\n\t\t}\n\t\treturn sets;\n\t}\n\n\tselectChange(e: React.ChangeEvent<HTMLSelectElement>): void {\n\t\te.preventDefault();\n\t\tconst index = e.target.selectedIndex;\n\t\tif (index === 0) return;\n\t\tconst option = e.target.options[index];\n\t\tthis.quizletRef.current!.value = option.value;\n\t}\n\n\tfetchFromFolder(): void {\n\t\tthis.fetchFromFolderHelper().then((setsToTitles) =>\n\t\t\tthis.setState({ setsToTitles })\n\t\t);\n\t}\n\n\tfetchFromFolderHelper(): Promise<SetsToTitlesType> {\n\t\tif (\n\t\t\tlocalStorage.fetchedFromFolderVersion === store.me.VERSION &&\n\t\t\tlocalStorage.fetchedFromFolder\n\t\t)\n\t\t\treturn Promise.resolve(localStorage.fetchedFromFolder).then(\n\t\t\t\tJSON.parse\n\t\t\t);\n\t\treturn Quizlet.fetch(Quizlet.FOLDER_URL, \"\")\n\t\t\t.then(this.seedFromFolder.bind(this))\n\t\t\t.then((fetchedFromFolder) => {\n\t\t\t\tlocalStorage.fetchedFromFolder = JSON.stringify(\n\t\t\t\t\tfetchedFromFolder\n\t\t\t\t);\n\t\t\t\tlocalStorage.fetchedFromFolderVersion = store.me.VERSION;\n\t\t\t\treturn fetchedFromFolder;\n\t\t\t});\n\t}\n\n\tseedFromFolder(blob: any): Promise<SetsToTitlesType> {\n\t\tconst promises = blob.folderSet.map((model: { setId: number }) =>\n\t\t\tQuizlet.fetch(Quizlet.SET_URL, model.setId.toString())\n\t\t);\n\t\treturn Promise.all(promises)\n\t\t\t.then((responses: any[]) =>\n\t\t\t\tresponses.map((response: any) => {\n\t\t\t\t\tconst set = response.set[0];\n\t\t\t\t\treturn { id: set.id, title: set.title };\n\t\t\t\t})\n\t\t\t)\n\t\t\t.then((responses: any[]) => {\n\t\t\t\tconst setsToTitles: SetsToTitlesType = {};\n\t\t\t\tresponses.forEach(\n\t\t\t\t\t(response: { id: number; title: string }) =>\n\t\t\t\t\t\t(setsToTitles[response.id] = response.title)\n\t\t\t\t);\n\t\t\t\treturn setsToTitles;\n\t\t\t});\n\t}\n\n\tstartGame(e: React.MouseEvent) {\n\t\te.preventDefault();\n\t\tPromise.resolve()\n\t\t\t.then(this.getParams.bind(this))\n\t\t\t.then(NewGame)\n\t\t\t.catch((e) => alert(e))\n\t\t\t.then((game) => game && store.update(\"started a new game\", game));\n\t}\n\n\tgetParams(): Params {\n\t\treturn {\n\t\t\tuserId: store.me.userId,\n\t\t\tlobby: store.lobby,\n\t\t\tquizlet: this.quizletRef.current!.value,\n\t\t\thandSize: parseInt(this.handSizeRef.current!.value),\n\t\t\tboardStartingSize: parseInt(this.boardSizeRef.current!.value),\n\t\t\tswap: this.swapRef.current!.checked,\n\t\t\treverse: this.reverseRef.current!.checked,\n\t\t\tuseRank: this.useRankRef.current!.checked,\n\t\t};\n\t}\n}\n\nexport default Settings;\n","import React from \"react\";\n\nimport { store } from \"../utils\";\n\nimport styles from \"../../../../shared/styles.module.css\";\n\nclass Players extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className={styles.bubble}>\n\t\t\t\t<h1>Players</h1>\n\t\t\t\t{Object.keys(store.lobby).map(this.renderPlayer.bind(this))}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t// todo should this be combined with info\n\trenderPlayer(userId: string): JSX.Element {\n\t\tvar prefix = \"\";\n\t\tif (store.gameW.info.host === userId) prefix += \"(host) \";\n\t\tif (store.me.userId === userId) prefix += \"(you) \";\n\t\treturn <p key={userId}>{`${prefix}${store.lobby[userId]}`}</p>;\n\t}\n}\n\nexport default Players;\n","import React from \"react\";\n\nimport { store } from \"../utils\";\nimport { GameType } from \"../utils/NewGame\";\n\nimport styles from \"../../../../shared/styles.module.css\";\nimport css from \"../index.module.css\";\n\nclass Info extends React.Component {\n\t// todo should this be combined with players\n\trender() {\n\t\tconst game: GameType = store.gameW.game!;\n\t\treturn (\n\t\t\t<div className={styles.bubble}>\n\t\t\t\t<div className={css.info}>\n\t\t\t\t\t<p>{game.title}</p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tSet Id: <span>{game.setId}</span>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tCurrent Player:{\" \"}\n\t\t\t\t\t\t<span>{game.players[game.currentPlayer].userName}</span>\n\t\t\t\t\t</p>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{game.players.map((player) => (\n\t\t\t\t\t\t\t<p key={player.index}>\n\t\t\t\t\t\t\t\t{player.userName} ({player.hand.length})\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Info;\n","import SharedLog from \"../../../../shared/components/log\";\n\nimport { GameType } from \"../utils/NewGame\";\n\nclass Log extends SharedLog<GameType> {}\n\nexport default Log;\n","import React from \"react\";\n\nimport { store } from \"../utils\";\n\nimport Settings from \"./Settings\";\nimport Players from \"./Players\";\nimport Info from \"./Info\";\nimport Log from \"./Log\";\n\nimport css from \"../index.module.css\";\n\nclass Sidebar extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className={css.sidebar}>\n\t\t\t\t<Log />\n\t\t\t\t<Settings />\n\t\t\t\t<Players />\n\t\t\t\t{store.gameW.game && <Info />}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Sidebar;\n","import fox from \"../routes/fox/app\";\nimport timeline from \"../routes/timeline/app\";\n\nexport default { fox, timeline };\n","import React from \"react\";\n\nimport { shared, store } from \"./utils\";\nimport Main from \"./main\";\nimport Sidebar from \"./sidebar\";\n\nimport styles from \"../../../shared/styles.module.css\";\nimport css from \"./index.module.css\";\n\nclass Timeline extends React.Component {\n\trender() {\n\t\t// todo css help\n\t\t// sidebar and main should scroll on separate tracks\n\t\tconst classes = [css.main];\n\t\tif (shared.isMyTurn()) classes.push(styles.my_turn);\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div className={classes.join(\" \")}>\n\t\t\t\t\t<Sidebar />\n\t\t\t\t\t<div className={css.content}>\n\t\t\t\t\t\t<div>{store.gameW.game && <Main />}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Timeline;\n","function Home() {\n\treturn \"home\";\n}\n\nexport default Home;\n","import React from \"react\";\nclass LoadingPage extends React.Component {\n\trender() {\n\t\treturn \"Loading...\";\n\t}\n}\n\nexport default LoadingPage;\n","import React, { FormEvent } from \"react\";\n\nimport styles from \"../../shared/styles.module.css\";\n\nimport store from \"../../shared/store\";\n\nimport css from \"./index.module.css\";\n\nclass LoginPage extends React.Component<{\n\tsetUsername: (username: string) => void;\n}> {\n\tinputRef: React.RefObject<HTMLInputElement> = React.createRef();\n\trender() {\n\t\treturn (\n\t\t\t<div className={`${css.login} ${styles.bubble}`}>\n\t\t\t\t<p>Welcome to {store.me.gameName}!</p>\n\t\t\t\t<p>Enter your name to continue</p>\n\t\t\t\t<form onSubmit={this.setUsername.bind(this)}>\n\t\t\t\t\t<input type=\"text\" ref={this.inputRef} />\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tsetUsername(e: FormEvent<HTMLFormElement>): void {\n\t\te.preventDefault();\n\t\tconst username: string = this.inputRef.current!.value;\n\t\tthis.props.setUsername(username);\n\t}\n}\n\nexport default LoginPage;\n","import React from \"react\";\n\nimport store from \"../../shared/store\";\n\nimport Writer from \"../writer\";\n\nimport LoadingPage from \"./LoadingPage\";\nimport LoginPage from \"./LoginPage\";\n\nclass GameWrapper extends React.Component<{\n\tcomponent: typeof React.Component;\n\tgameName: string;\n\troomId: number;\n}> {\n\tcomponentDidMount() {\n\t\tdocument.title = this.props.gameName.toLocaleUpperCase();\n\t\tWriter.init(\n\t\t\tthis.props.roomId,\n\t\t\tthis.props.gameName,\n\t\t\tthis.forceUpdate.bind(this)\n\t\t);\n\t}\n\n\trender() {\n\t\tif (!store.lobby) return <LoadingPage />;\n\t\tif (!store.lobby[store.me.userId])\n\t\t\treturn <LoginPage setUsername={Writer.setUsername} />;\n\t\tif (!store.gameW) return null;\n\t\treturn <this.props.component />;\n\t}\n}\n\nexport default GameWrapper;\n","import React from \"react\";\nimport {\n\tBrowserRouter as Router,\n\tRoute,\n\tRouteComponentProps,\n} from \"react-router-dom\";\n\nimport games from \"./firegame/games\";\n\nimport Home from \"./firegame/components/Home\";\nimport GameWrapper from \"./firegame/components/GameWrapper\";\n\nfunction App() {\n\treturn (\n\t\t<Router>\n\t\t\t<div>\n\t\t\t\t<Route exact path=\"/\" render={Home} />\n\t\t\t\t{getRoutes()}\n\t\t\t</div>\n\t\t</Router>\n\t);\n}\n\nfunction getRoutes(): JSX.Element {\n\tconst routes: JSX.Element[] = [];\n\tfor (let [gameName, component] of Object.entries(games)) {\n\t\troutes.push(\n\t\t\t<Route\n\t\t\t\tkey={gameName}\n\t\t\t\tpath={`/${gameName}/:roomId(\\\\d+)?`}\n\t\t\t\trender={(props: RouteComponentProps<{ roomId: string }>) => (\n\t\t\t\t\t<GameWrapper\n\t\t\t\t\t\tcomponent={component}\n\t\t\t\t\t\tgameName={gameName}\n\t\t\t\t\t\troomId={parseInt(props.match.params.roomId) || -1}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t/>\n\t\t);\n\t}\n\treturn <>{routes}</>;\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bubble\":\"styles_bubble__1BYLx\",\"flex\":\"styles_flex__2Uon1\",\"dont_grow\":\"styles_dont_grow__3fglV\",\"log_entry_parent\":\"styles_log_entry_parent__Spbio\",\"log_entry_child\":\"styles_log_entry_child__24WM2\",\"my_turn\":\"styles_my_turn__1uYPS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"app_main__3TvtT\",\"sidebar\":\"app_sidebar__3-fjl\",\"content\":\"app_content__39jbO\",\"info\":\"app_info__C4YU0\",\"image\":\"app_image__1tZgk\",\"settings_form\":\"app_settings_form__uelWK\",\"settings_input\":\"app_settings_input__2uaOu\",\"settings_select\":\"app_settings_select__1jS9v\",\"card\":\"app_card__2q0oc\",\"target\":\"app_target__n2IMe\",\"selectedCard\":\"app_selectedCard__o9hZ5\",\"correct\":\"app_correct__BEfuw\",\"incorrect\":\"app_incorrect__13cEZ\"};"],"sourceRoot":""}